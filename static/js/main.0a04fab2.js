/*! For license information please see main.0a04fab2.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,g(b,y.prototype),b.isPureReactComponent=!0;var C=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,o)&&!T.hasOwnProperty(o)&&(a[o]=t[o]);var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===a[o]&&(a[o]=c[o]);return{$$typeof:n,type:e,key:i,ref:s,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return i=i(c=e),e=""===a?"."+A(c,0):a,C(i)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),P(i,t,o,"",(function(e){return e}))):null!=i&&(E(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(c=0,a=""===a?".":a+":",C(e))for(var l=0;l<e.length;l++){var u=a+A(s=e[l],l);c+=P(s,t,o,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=P(s=s.value,t,o,u=a+A(s,l++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,t,n){if(null==e)return e;var r=[],o=0;return P(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},N={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!T.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>a(c,n))l<o&&0>a(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>a(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(m=!1,b(e),!g)if(null!==r(l))g=!0,N(k);else{var t=r(u);null!==t&&D(C,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,v(E),E=-1),f=!0;var a=p;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,p=h.priorityLevel;var s=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&o(l),b(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&D(C,d.startTime-n),c=!1}return c}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,I=null,E=-1,_=5,A=-1;function P(){return!(t.unstable_now()-A<_)}function R(){if(null!==I){var e=t.unstable_now();A=e;var n=!0;try{n=I(!0,e)}finally{n?S():(T=!1,I=null)}}else T=!1}if("function"===typeof w)S=function(){w(R)};else if("undefined"!==typeof MessageChannel){var x=new MessageChannel,M=x.port2;x.port1.onmessage=R,S=function(){M.postMessage(null)}}else S=function(){y(R,0)};function N(e){I=e,T||(T=!0,S())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(l)&&e===r(u)&&(m?(v(E),E=-1):m=!0,D(C,a-i))):(e.sortIndex=s,n(l,e),g||f||(g=!0,N(k))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function q(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function U(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var c="\n"+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function B(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case I:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function V(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Te=null;function Ie(e){if(e=bo(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Ee(e){Se?Te?Te.push(e):Te=[e]:Se=e}function _e(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Re=!1;function xe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(Pe(),_e())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Ne=!1}function Oe(e,t,n,r,o,a,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,Fe=null,qe=!1,He=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,o,a,i,s,c){Le=!1,Fe=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ke(o),e;if(i===r)return Ke(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,Ve=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~o;0!==s?r=dt(s):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~o)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,kt,St,Tt,It,Et=!1,_t=[],At=null,Pt=null,Rt=null,xt=new Map,Mt=new Map,Nt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=wo(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ht(e,t,n){qt(e)&&n.delete(t)}function Ut(){Et=!1,null!==At&&qt(At)&&(At=null),null!==Pt&&qt(Pt)&&(Pt=null),null!==Rt&&qt(Rt)&&(Rt=null),xt.forEach(Ht),Mt.forEach(Ht)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),null!==Rt&&Bt(Rt,e),xt.forEach(t),Mt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var jt=b.ReactCurrentBatchConfig,Kt=!0;function Yt(e,t,n,r){var o=wt,a=jt.transition;jt.transition=null;try{wt=1,$t(e,t,n,r)}finally{wt=o,jt.transition=a}}function Wt(e,t,n,r){var o=wt,a=jt.transition;jt.transition=null;try{wt=4,$t(e,t,n,r)}finally{wt=o,jt.transition=a}}function $t(e,t,n,r){if(Kt){var o=Vt(e,t,n,r);if(null===o)Kr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Lt(At,e,t,n,r,o),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,o),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return xt.set(a,Lt(xt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Mt.set(a,Lt(Mt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&Ct(a),null===(a=Vt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Vt(e,t,n,r){if(Qt=null,null!==(e=wo(e=Ce(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=F({},ln,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),gn=on(F({},pn,{dataTransfer:0})),mn=on(F({},dn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(F({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return Tn}var En=F({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(En),An=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(xn),Nn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Dn||On&&8<On&&11>=On),qn=String.fromCharCode(32),Hn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Yn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,$n=null;function Qn(e){qr(e,0)}function Vn(e){if($(Co(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),$n=Wn=null)}function nr(e){if("value"===e.propertyName&&Vn($n)){var t=[];Yn(t,$n,e,Ce(e)),xe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn($n)}function ar(e,t){if("click"===e)return Vn(t)}function ir(e,t){if("input"===e||"change"===e)return Vn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(n,a);var i=ur(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},Sr={},Tr={};function Ir(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=Ir("animationend"),_r=Ir("animationiteration"),Ar=Ir("animationstart"),Pr=Ir("transitionend"),Rr=new Map,xr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Rr.set(e,t),c(t,[e])}for(var Nr=0;Nr<xr.length;Nr++){var Dr=xr[Nr];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(_r,"onAnimationIteration"),Mr(Ar,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Pr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,c,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=Fe;Le=!1,Fe=null,qe||(qe=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;Fr(o,s,l),a=c}else for(i=0;i<r.length;i++){if(c=(s=r[i]).instance,l=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;Fr(o,s,l),a=c}}}if(qe)throw e=He,qe=!1,He=null,e}function Hr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Gt(t)){case 1:var o=Yt;break;case 4:o=Wt;break;default:o=$t}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=wo(s)))return;if(5===(c=i.tag)||6===c){r=a=i;continue e}s=s.parentNode}}r=r.return}xe((function(){var r=a,o=Ce(n),i=[];e:{var s=Rr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":l="focus",c=mn;break;case"focusout":l="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Pn;break;case Er:case _r:case Ar:c=yn;break;case Pr:c=Rn;break;case"scroll":c=hn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Me(f,h))&&u.push(Yr(f,g,p)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,o),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!wo(l)&&!l[go])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?wo(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:Co(c),p=null==l?s:Co(l),(s=new u(g,f+"leave",c,n,o)).target=d,s.relatedTarget=p,g=null,wo(o)===r&&((u=new u(h,f+"enter",l,n,o)).target=p,u.relatedTarget=d,g=u),d=g,c&&l)e:{for(h=l,f=0,p=u=c;p;p=$r(p))f++;for(p=0,g=h;g;g=$r(g))p++;for(;0<f-p;)u=$r(u),f--;for(;0<p-f;)h=$r(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==c&&Qr(i,s,c,u,!1),null!==l&&null!==d&&Qr(i,d,l,u,!0)}if("select"===(c=(s=r?Co(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Gn;else if(Kn(s))if(Jn)m=ir;else{m=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Yn(i,m,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?Co(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(i,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(i,n,o)}var v;if(Dn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,zn=!0)),0<(y=Wr(r,w)).length&&(w=new bn(w,e,null,n,o),i.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Hn=!0,qn);case"textInput":return(e=t.data)===qn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Xt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=v))}qr(i,t)}))}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Me(e,n))&&r.unshift(Yr(e,a,o)),null!=(a=Me(e,t))&&r.push(Yr(e,a,o))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Me(n,a))&&i.unshift(Yr(n,c,s)):o||null!=(c=Me(n,a))&&i.push(Yr(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Vr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Vr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,io="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);zt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,go="__reactContainer$"+ho,mo="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function wo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ko(e){return e[fo]||null}var So=[],To=-1;function Io(e){return{current:e}}function Eo(e){0>To||(e.current=So[To],So[To]=null,To--)}function _o(e,t){To++,So[To]=e.current,e.current=t}var Ao={},Po=Io(Ao),Ro=Io(!1),xo=Ao;function Mo(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Do(){Eo(Ro),Eo(Po)}function Oo(e,t,n){if(Po.current!==Ao)throw Error(a(168));_o(Po,t),_o(Ro,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,j(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,xo=Po.current,_o(Po,e),_o(Ro,Ro.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Lo(e,t,xo),r.__reactInternalMemoizedMergedChildContext=e,Eo(Ro),Eo(Po),_o(Po,e)):Eo(Ro),_o(Ro,n)}var Ho=null,Uo=!1,Bo=!1;function zo(e){null===Ho?Ho=[e]:Ho.push(e)}function jo(){if(!Bo&&null!==Ho){Bo=!0;var e=0,t=wt;try{var n=Ho;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ho=null,Uo=!1}catch(o){throw null!==Ho&&(Ho=Ho.slice(e+1)),$e(Ze,jo),o}finally{wt=t,Bo=!1}}return null}var Ko=[],Yo=0,Wo=null,$o=0,Qo=[],Vo=0,Go=null,Jo=1,Xo="";function Zo(e,t){Ko[Yo++]=$o,Ko[Yo++]=Wo,Wo=e,$o=t}function ea(e,t,n){Qo[Vo++]=Jo,Qo[Vo++]=Xo,Qo[Vo++]=Go,Go=e;var r=Jo;e=Xo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Jo=1<<32-it(t)+o|n<<o|r,Xo=a+e}else Jo=1<<a|n<<o|r,Xo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===Wo;)Wo=Ko[--Yo],Ko[Yo]=null,$o=Ko[--Yo],Ko[Yo]=null;for(;e===Go;)Go=Qo[--Vo],Qo[Vo]=null,Xo=Qo[--Vo],Qo[Vo]=null,Jo=Qo[--Vo],Qo[Vo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var n=t;if(!ca(e,t)){if(la(e))throw Error(a(418));t=lo(n.nextSibling);var r=ra;t&&ca(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ha(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(la(e))throw pa(),Error(a(418));for(;t;)sa(e,t),t=lo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?lo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=lo(e.nextSibling)}function fa(){oa=ra=null,aa=!1}function ga(e){null===ia?ia=[e]:ia.push(e)}var ma=b.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&wa(a)===t.type)?((r=o(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ol(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case k:return(t=ql(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Ol(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?l(e,t,n,r):null;case k:return n.key===o?u(e,t,n,r):null;case M:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||O(n))return null!==o?null:d(e,t,n,r,null);va(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case M:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);va(t,r)}return null}function g(o,a,s,c){for(var l=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(o,d,s[g],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,g),null===u?l=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(o,d),aa&&Zo(o,g),l;if(null===d){for(;g<s.length;g++)null!==(d=h(o,s[g],c))&&(a=i(d,a,g),null===u?l=d:u.sibling=d,u=d);return aa&&Zo(o,g),l}for(d=r(o,d);g<s.length;g++)null!==(m=f(d,o,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=i(m,a,g),null===u?l=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),l}function m(o,s,c,l){var u=O(c);if("function"!==typeof u)throw Error(a(150));if(null==(c=u.call(c)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,y=null,v=c.next();null!==g&&!v.done;m++,v=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=p(o,g,v.value,l);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(o,g),s=i(w,s,m),null===d?u=w:d.sibling=w,d=w,g=y}if(v.done)return n(o,g),aa&&Zo(o,m),u;if(null===g){for(;!v.done;m++,v=c.next())null!==(v=h(o,v.value,l))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return aa&&Zo(o,m),u}for(g=r(o,g);!v.done;m++,v=c.next())null!==(v=f(g,o,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(o,e)})),aa&&Zo(o,m),u}return function e(r,a,i,c){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case C:e:{for(var l=i.key,u=a;null!==u;){if(u.key===l){if((l=i.type)===S){if(7===u.tag){n(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&wa(l)===u.type){n(r,u.sibling),(a=o(u,i.props)).ref=ya(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((a=Ol(i.props.children,r.mode,c,i.key)).return=r,r=a):((c=Dl(i.type,i.key,i.props,null,r.mode,c)).ref=ya(r,a,i),c.return=r,r=c)}return s(r);case k:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=ql(i,r.mode,c)).return=r,r=a}return s(r);case M:return e(r,a,(u=i._init)(i._payload),c)}if(te(i))return g(r,a,i,c);if(O(i))return m(r,a,i,c);va(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,i)).return=r,r=a):(n(r,a),(a=Fl(i,r.mode,c)).return=r,r=a),s(r)):n(r,a)}}var Ca=ba(!0),ka=ba(!1),Sa=Io(null),Ta=null,Ia=null,Ea=null;function _a(){Ea=Ia=Ta=null}function Aa(e){var t=Sa.current;Eo(Sa),e._currentValue=t}function Pa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ra(e,t){Ta=e,Ea=Ia=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Ia){if(null===Ta)throw Error(a(308));Ia=e,Ta.dependencies={lanes:0,firstContext:e}}else Ia=Ia.next=e;return t}var Ma=null;function Na(e){null===Ma?Ma=[e]:Ma.push(e)}function Da(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Na(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oa(e,r)}function Oa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ha(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oa(e,n)}return null===(o=r.interleaved)?(t.next=t,Na(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oa(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var o=e.updateQueue;La=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===i?a=l:i.next=l,i=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==a){var d=o.baseState;for(i=0,u=l=c=null,s=a;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:La=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Lc|=i,e.lanes=i,e.memoizedState=d}}function Ka(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ya={},Wa=Io(Ya),$a=Io(Ya),Qa=Io(Ya);function Va(e){if(e===Ya)throw Error(a(174));return e}function Ga(e,t){switch(_o(Qa,t),_o($a,e),_o(Wa,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Wa),_o(Wa,t)}function Ja(){Eo(Wa),Eo($a),Eo(Qa)}function Xa(e){Va(Qa.current);var t=Va(Wa.current),n=ce(t,e.type);t!==n&&(_o($a,e),_o(Wa,n))}function Za(e){$a.current===e&&(Eo(Wa),Eo($a))}var ei=Io(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var oi=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,ii=0,si=null,ci=null,li=null,ui=!1,di=!1,hi=0,pi=0;function fi(){throw Error(a(321))}function gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?Zi:es,e=n(r,o),di){i=0;do{if(di=!1,hi=0,25<=i)throw Error(a(301));i+=1,li=ci=null,t.updateQueue=null,oi.current=ts,e=n(r,o)}while(di)}if(oi.current=Xi,t=null!==ci&&null!==ci.next,ii=0,li=ci=si=null,ui=!1,t)throw Error(a(300));return e}function yi(){var e=0!==hi;return hi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?si.memoizedState=li=e:li=li.next=e,li}function wi(){if(null===ci){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=ci.next;var t=null===li?si.memoizedState:li.next;if(null!==t)li=t,ci=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ci=e).memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},null===li?si.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function Ci(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ci,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var c=s=null,l=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,si.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Lc|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ki(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Si(){}function Ti(e,t){var n=si,r=wi(),o=t(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,ws=!0),r=r.queue,Li(_i.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,xi(9,Ei.bind(null,n,r,o,t),void 0,null),null===Pc)throw Error(a(349));0!==(30&ii)||Ii(n,t,o)}return o}function Ii(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ei(e,t,n,r){t.value=n,t.getSnapshot=r,Ai(t)&&Pi(e)}function _i(e,t,n){return n((function(){Ai(t)&&Pi(e)}))}function Ai(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Pi(e){var t=Oa(e,1);null!==t&&nl(t,e,1,-1)}function Ri(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,si,e),[t.memoizedState,e]}function xi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mi(){return wi().memoizedState}function Ni(e,t,n,r){var o=vi();si.flags|=e,o.memoizedState=xi(1|t,n,void 0,void 0===r?null:r)}function Di(e,t,n,r){var o=wi();r=void 0===r?null:r;var a=void 0;if(null!==ci){var i=ci.memoizedState;if(a=i.destroy,null!==r&&gi(r,i.deps))return void(o.memoizedState=xi(t,n,a,r))}si.flags|=e,o.memoizedState=xi(1|t,n,a,r)}function Oi(e,t){return Ni(8390656,8,e,t)}function Li(e,t){return Di(2048,8,e,t)}function Fi(e,t){return Di(4,2,e,t)}function qi(e,t){return Di(4,4,e,t)}function Hi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Di(4,4,Hi.bind(null,t,e),n)}function Bi(){}function zi(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ji(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),si.lanes|=n,Lc|=n,e.baseState=!0),t)}function Yi(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{wt=n,ai.transition=r}}function Wi(){return wi().memoizedState}function $i(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vi(e))Gi(t,n);else if(null!==(n=Da(e,t,n,r))){nl(n,e,r,el()),Ji(n,t,r)}}function Qi(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Gi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var c=t.interleaved;return null===c?(o.next=o,Na(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Da(e,t,o,r))&&(nl(n,e,r,o=el()),Ji(n,t,r))}}function Vi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Gi(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xi={readContext:xa,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Zi={readContext:xa,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ni(4194308,4,Hi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$i.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ri,useDebugValue:Bi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=Yi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,o=vi();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pc)throw Error(a(349));0!==(30&ii)||Ii(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Oi(_i.bind(null,r,i,e),[e]),r.flags|=2048,xi(9,Ei.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Pc.identifierPrefix;if(aa){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-it(Jo)-1)).toString(32)+n),0<(n=hi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:xa,useCallback:zi,useContext:xa,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Fi,useLayoutEffect:qi,useMemo:ji,useReducer:Ci,useRef:Mi,useState:function(){return Ci(bi)},useDebugValue:Bi,useDeferredValue:function(e){return Ki(wi(),ci.memoizedState,e)},useTransition:function(){return[Ci(bi)[0],wi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ti,useId:Wi,unstable_isNewReconciler:!1},ts={readContext:xa,useCallback:zi,useContext:xa,useEffect:Li,useImperativeHandle:Ui,useInsertionEffect:Fi,useLayoutEffect:qi,useMemo:ji,useReducer:ki,useRef:Mi,useState:function(){return ki(bi)},useDebugValue:Bi,useDeferredValue:function(e){var t=wi();return null===ci?t.memoizedState=e:Ki(t,ci.memoizedState,e)},useTransition:function(){return[ki(bi)[0],wi().memoizedState]},useMutableSource:Si,useSyncExternalStore:Ti,useId:Wi,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),a=Ha(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nl(t,e,o,r),Ba(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),a=Ha(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,o))&&(nl(t,e,o,r),Ba(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Ha(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ua(e,o,r))&&(nl(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,a))}function is(e,t,n){var r=!1,o=Ao,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(o=No(t)?xo:Po.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mo(e,o):Ao),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=xa(a):(a=No(t)?xo:Po.current,o.context=Mo(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),ja(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ha(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Yc=r),ds(0,t)},n}function fs(e,t,n){(n=Ha(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Il.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ha(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=b.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?ka(t,null,n,r):Ca(t,e.child,n,r)}function Cs(e,t,n,r,o){n=n.render;var a=t.ref;return Ra(t,o),r=mi(e,t,n,r,a,o),n=yi(),null===e||ws?(aa&&n&&ta(t),t.flags|=1,bs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ks(e,t,o))}function ks(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Ml(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return Ks(e,t,o)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,Ks(e,t,o);0!==(131072&e.flags)&&(ws=!0)}}return Es(e,t,n,r,o)}function Ts(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Nc,Mc),Mc|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Nc,Mc),Mc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_o(Nc,Mc),Mc|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_o(Nc,Mc),Mc|=r;return bs(e,t,o,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var a=No(n)?xo:Po.current;return a=Mo(t,a),Ra(t,o),n=mi(e,t,n,r,a,o),r=yi(),null===e||ws?(aa&&r&&ta(t),t.flags|=1,bs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ks(e,t,o))}function _s(e,t,n,r,o){if(No(n)){var a=!0;Fo(t)}else a=!1;if(Ra(t,o),null===t.stateNode)js(e,t),is(t,n,r),cs(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Mo(t,l=No(n)?xo:Po.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,i,r,l),La=!1;var h=t.memoizedState;i.state=h,ja(t,r,i,o),c=t.memoizedState,s!==r||h!==c||Ro.current||La?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=La||as(t,n,s,r,h,c,l))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=l,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,qa(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),i.props=l,d=t.pendingProps,h=i.context,"object"===typeof(c=n.contextType)&&null!==c?c=xa(c):c=Mo(t,c=No(n)?xo:Po.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,i,r,c),La=!1,h=t.memoizedState,i.state=h,ja(t,r,i,o);var f=t.memoizedState;s!==d||h!==f||Ro.current||La?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(l=La||as(t,n,l,r,h,f,c)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=c,r=l):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,o)}function As(e,t,n,r,o,a){Is(e,t);var i=0!==(128&t.flags);if(!r&&!i)return o&&qo(t,n,!1),Ks(e,t,a);r=t.stateNode,vs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,o&&qo(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oo(0,t.context,!1),Ga(e,t.containerInfo)}function Rs(e,t,n,r,o){return fa(),ga(o),t.flags|=256,bs(e,t,n,r),t.child}var xs,Ms,Ns,Ds,Os={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,i=ei.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_o(ei,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ll(c,o,0,null),e=Ol(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Os,e):qs(t,c));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Ll({mode:"visible",children:r.children},o,0,null),(i=Ol(i,o,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Ca(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Os,i);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Hs(e,t,s,r=us(i=Error(a(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Pc)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Oa(e,o),nl(r,e,o,-1))}return gl(),Hs(e,t,s,r=us(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_l.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=lo(o.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Qo[Vo++]=Jo,Qo[Vo++]=Xo,Qo[Vo++]=Go,Jo=e.id,Xo=e.overflow,Go=t),t=qs(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,i,n);if(s){s=o.fallback,c=t.mode,r=(i=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==i?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Nl(i,l)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Nl(r,s):(s=Ol(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Os,o}return e=(s=e.child).sibling,o=Nl(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&ga(r),Ca(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Pa(e.return,t,n)}function Bs(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function zs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ti(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return No(t.type)&&Do(),Ws(t),null;case 3:return r=t.stateNode,Ja(),Eo(Ro),Eo(Po),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ia&&(il(ia),ia=null))),Ms(e,t),Ws(t),null;case 5:Za(t);var o=Va(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Va(Wa.current),ha(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[po]=t,r[fo]=i,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(o=0;o<Or.length;o++)Hr(Or[o],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":G(r,i),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Hr("invalid",r);break;case"textarea":oe(r,i),Hr("invalid",r)}for(var c in ve(n,i),o=null,i)if(i.hasOwnProperty(c)){var l=i[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Hr("scroll",r)}switch(n){case"input":W(r),Z(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[po]=t,e[fo]=r,xs(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),o=r;break;case"iframe":case"object":case"embed":Hr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Or.length;o++)Hr(Or[o],e);o=r;break;case"source":Hr("error",e),o=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),o=r;break;case"details":Hr("toggle",e),o=r;break;case"input":G(e,r),o=V(e,r),Hr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Hr("invalid",e)}for(i in ve(n,o),l=o)if(l.hasOwnProperty(i)){var u=l[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Hr("scroll",e):null!=u&&w(e,i,u,c))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Va(Qa.current),Va(Wa.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(i=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ws(t),null;case 13:if(Eo(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))pa(),fa(),t.flags|=98560,i=!1;else if(i=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),i=!1}else null!==ia&&(il(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Dc&&(Dc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Ja(),Ms(e,t),null===e&&zr(t.stateNode.containerInfo),Ws(t),null;case 10:return Aa(t.type._context),Ws(t),null;case 19:if(Eo(ei),null===(i=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(c=i.rendering))if(r)Ys(i,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ti(e))){for(t.flags|=128,Ys(i,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(c=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,e=c.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>zc&&(t.flags|=128,r=!0,Ys(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ys(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!aa)return Ws(t),null}else 2*Je()-i.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Ys(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ei.current,_o(ei,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Mc)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(na(t),t.tag){case 1:return No(t.type)&&Do(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Eo(Ro),Eo(Po),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Eo(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ei),null;case 4:return Ja(),null;case 10:return Aa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}xs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Va(Wa.current);var a,i=null;switch(n){case"input":o=V(e,o),r=V(e,r),i=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(i=i||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(i=i||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Hr("scroll",e),i||c===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vs=!1,Gs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&ec(t,n,a)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ac(e){var t=e.alternate;null!==t&&(e.alternate=null,ac(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[mo],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ic(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Gs||Zs(n,t);case 6:var r=uc,o=dc;uc=null,hc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),zt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&ec(n,t,i),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Gs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,hc(e,t,n),Gs=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(a(160));pc(i,s,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){Tl(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(m){Tl(e,e.return,m)}try{nc(5,e,e.return)}catch(m){Tl(e,e.return,m)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(m){Tl(e,e.return,m)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===i.type&&null!=i.name&&J(o,i),we(c,s);var u=we(c,i);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?me(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):w(o,d,h,u)}switch(c){case"input":X(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(o,!!i.multiple,f,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[fo]=i}catch(m){Tl(e,e.return,m)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){Tl(e,e.return,m)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Tl(e,e.return,m)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Bc=Je())),4&r&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(u=Gs)||d,gc(t,e),Gs=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(h=Xs=d;null!==Xs;){switch(f=(p=Xs).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Zs(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Tl(r,n,m)}}break;case 5:Zs(p,p.return);break;case 22:if(null!==p.memoizedState){Cc(h);continue}}null!==f?(f.return=p,Xs=f):Cc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=ge("display",s))}catch(m){Tl(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),yc(e),4&r&&fc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ic(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),lc(e,sc(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cc(e,sc(e),i);break;default:throw Error(a(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Xs=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var o=Xs,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Vs;if(!i){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Gs;s=Vs;var l=Gs;if(Vs=i,(Gs=c)&&!l)for(Xs=o;null!==Xs;)c=(i=Xs).child,22===i.tag&&null!==i.memoizedState?kc(o):null!==c?(c.return=i,Xs=c):kc(o);for(;null!==a;)Xs=a,wc(a,t,n),a=a.sibling;Xs=o,Vs=s,Gs=l}bc(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Xs=a):bc(e)}}function bc(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ka(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ka(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&oc(t)}catch(uu){Tl(t,t.return,uu)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function Cc(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kc(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){Tl(t,o,c)}}var a=t.return;try{oc(t)}catch(c){Tl(t,a,c)}break;case 5:var i=t.return;try{oc(t)}catch(c){Tl(t,i,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sc,Tc=Math.ceil,Ic=b.ReactCurrentDispatcher,Ec=b.ReactCurrentOwner,_c=b.ReactCurrentBatchConfig,Ac=0,Pc=null,Rc=null,xc=0,Mc=0,Nc=Io(0),Dc=0,Oc=null,Lc=0,Fc=0,qc=0,Hc=null,Uc=null,Bc=0,zc=1/0,jc=null,Kc=!1,Yc=null,Wc=null,$c=!1,Qc=null,Vc=0,Gc=0,Jc=null,Xc=-1,Zc=0;function el(){return 0!==(6&Ac)?Je():-1!==Xc?Xc:Xc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==xc?xc&-xc:null!==ma.transition?(0===Zc&&(Zc=gt()),Zc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nl(e,t,n,r){if(50<Gc)throw Gc=0,Jc=null,Error(a(185));yt(e,n,r),0!==(2&Ac)&&e===Pc||(e===Pc&&(0===(2&Ac)&&(Fc|=n),4===Dc&&sl(e,xc)),rl(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(zc=Je()+500,Uo&&jo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,c=o[i];-1===c?0!==(s&n)&&0===(s&r)||(o[i]=pt(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pc?xc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Uo=!0,zo(e)}(cl.bind(null,e)):zo(cl.bind(null,e)),io((function(){0===(6&Ac)&&jo()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Xc=-1,Zc=0,0!==(6&Ac))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=ht(e,e===Pc?xc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var o=Ac;Ac|=2;var i=fl();for(Pc===e&&xc===t||(jc=null,zc=Je()+500,hl(e,t));;)try{vl();break}catch(c){pl(e,c)}_a(),Ic.current=i,Ac=o,null!==Rc?t=0:(Pc=null,xc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=al(e,o))),1===t)throw n=Oc,hl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=ml(e,r))&&(0!==(i=ft(e))&&(r=i,t=al(e,i))),1===t))throw n=Oc,hl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Cl(e,Uc,jc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bc+500-Je())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Cl.bind(null,e,Uc,jc),t);break}Cl(e,Uc,jc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ro(Cl.bind(null,e,Uc,jc),r);break}Cl(e,Uc,jc);break;default:throw Error(a(329))}}}return rl(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function al(e,t){var n=Hc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Uc,Uc=n,null!==t&&il(t)),e}function il(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function sl(e,t){for(t&=~qc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ac))throw Error(a(327));kl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Oc,hl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Uc,jc),rl(e,Je()),null}function ll(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(zc=Je()+500,Uo&&jo())}}function ul(e){null!==Qc&&0===Qc.tag&&0===(6&Ac)&&kl();var t=Ac;Ac|=1;var n=_c.transition,r=wt;try{if(_c.transition=null,wt=1,e)return e()}finally{wt=r,_c.transition=n,0===(6&(Ac=t))&&jo()}}function dl(){Mc=Nc.current,Eo(Nc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Do();break;case 3:Ja(),Eo(Ro),Eo(Po),ri();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:Eo(ei);break;case 10:Aa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Pc=e,Rc=e=Nl(e.current,null),xc=Mc=t,Dc=0,Oc=null,qc=Fc=Lc=0,Uc=Hc=null,null!==Ma){for(t=0;t<Ma.length;t++)if(null!==(r=(n=Ma[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}Ma=null}return e}function pl(e,t){for(;;){var n=Rc;try{if(_a(),oi.current=Xi,ui){for(var r=si.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ui=!1}if(ii=0,li=ci=si=null,di=!1,hi=0,Ec.current=null,null===n||null===n.return){Dc=1,Oc=t,Rc=null;break}e:{var i=e,s=n.return,c=n,l=t;if(t=xc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ms(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&gs(i,u,t),l=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}if(0===(1&t)){gs(i,u,t),gl();break e}l=Error(a(426))}else if(aa&&1&c.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),ga(ls(l,c));break e}}i=l=ls(l,c),4!==Dc&&(Dc=2),null===Hc?Hc=[i]:Hc.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,ps(0,l,t));break e;case 1:c=l;var v=i.type,w=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wc||!Wc.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,fs(i,c,t));break e}}i=i.return}while(null!==i)}bl(n)}catch(b){t=b,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function fl(){var e=Ic.current;return Ic.current=Xi,null===e?Xi:e}function gl(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Pc||0===(268435455&Lc)&&0===(268435455&Fc)||sl(Pc,xc)}function ml(e,t){var n=Ac;Ac|=2;var r=fl();for(Pc===e&&xc===t||(jc=null,hl(e,t));;)try{yl();break}catch(o){pl(e,o)}if(_a(),Ac=n,Ic.current=r,null!==Rc)throw Error(a(261));return Pc=null,xc=0,Dc}function yl(){for(;null!==Rc;)wl(Rc)}function vl(){for(;null!==Rc&&!Ve();)wl(Rc)}function wl(e){var t=Sc(e.alternate,e,Mc);e.memoizedProps=e.pendingProps,null===t?bl(e):Rc=t,Ec.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$s(n,t,Mc)))return void(Rc=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Dc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Dc&&(Dc=5)}function Cl(e,t,n){var r=wt,o=_c.transition;try{_c.transition=null,wt=1,function(e,t,n,r){do{kl()}while(null!==Qc);if(0!==(6&Ac))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,i),e===Pc&&(Rc=Pc=null,xc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$c||($c=!0,Pl(tt,(function(){return kl(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=_c.transition,_c.transition=null;var s=wt;wt=1;var c=Ac;Ac|=4,Ec.current=null,function(e,t){if(eo=Kt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(C){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==i||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(c=s),p===i&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Kt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(C){Tl(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}g=tc,tc=!1}(e,n),mc(n,e),fr(to),Kt=!!eo,to=eo=null,e.current=n,vc(n,e,o),Ge(),Ac=c,wt=s,_c.transition=i}else e.current=n;if($c&&($c=!1,Qc=e,Vc=o),i=e.pendingLanes,0===i&&(Wc=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Kc)throw Kc=!1,e=Yc,Yc=null,e;0!==(1&Vc)&&0!==e.tag&&kl(),i=e.pendingLanes,0!==(1&i)?e===Jc?Gc++:(Gc=0,Jc=e):Gc=0,jo()}(e,t,n,r)}finally{_c.transition=o,wt=r}return null}function kl(){if(null!==Qc){var e=bt(Vc),t=_c.transition,n=wt;try{if(_c.transition=null,wt=16>e?16:e,null===Qc)var r=!1;else{if(e=Qc,Qc=null,Vc=0,0!==(6&Ac))throw Error(a(331));var o=Ac;for(Ac|=4,Xs=e.current;null!==Xs;){var i=Xs,s=i.child;if(0!==(16&Xs.flags)){var c=i.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nc(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xs=h;else for(;null!==Xs;){var p=(d=Xs).sibling,f=d.return;if(ac(d),d===u){Xs=null;break}if(null!==p){p.return=f,Xs=p;break}Xs=f}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xs=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(i=Xs).flags))switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xs=v;break e}Xs=i.return}}var w=e.current;for(Xs=w;null!==Xs;){var b=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Xs=b;else e:for(s=w;null!==Xs;){if(0!==(2048&(c=Xs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(k){Tl(c,c.return,k)}if(c===s){Xs=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xs=C;break e}Xs=c.return}}if(Ac=o,jo(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{wt=n,_c.transition=t}}return!1}function Sl(e,t,n){e=Ua(e,t=ps(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Ua(t,e=fs(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Il(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(xc&n)===n&&(4===Dc||3===Dc&&(130023424&xc)===xc&&500>Je()-Bc?hl(e,0):qc|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Oa(e,t))&&(yt(e,t,n),rl(e,n))}function _l(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),El(e,n)}function Pl(e,t){return $e(e,t)}function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,n,r){return new Rl(e,t,n,r)}function Ml(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,o,i){var s=2;if(r=e,"function"===typeof e)Ml(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ol(n.children,o,i,t);case T:s=8,o|=8;break;case I:return(e=xl(12,n,t,2|o)).elementType=I,e.lanes=i,e;case P:return(e=xl(13,n,t,o)).elementType=P,e.lanes=i,e;case R:return(e=xl(19,n,t,o)).elementType=R,e.lanes=i,e;case N:return Ll(n,o,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case A:s=11;break e;case x:s=14;break e;case M:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xl(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Ol(e,t,n,r){return(e=xl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=xl(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=xl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=xl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,o,a,i,s,c){return e=new Hl(e,t,n,s,c),1===t?(t=1,!0===a&&(t|=8)):t=0,a=xl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function Bl(e){if(!e)return Ao;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(No(n))return Lo(e,n,t)}return t}function zl(e,t,n,r,o,a,i,s,c){return(e=Ul(n,r,!0,e,0,a,0,s,c)).context=Bl(null),n=e.current,(a=Ha(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function jl(e,t,n,r){var o=t.current,a=el(),i=tl(o);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ha(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(o,t,i))&&(nl(e,o,i,a),Ba(e,o,i)),i}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),fa();break;case 5:Xa(t);break;case 1:No(t.type)&&Fo(t);break;case 4:Ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(Sa,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(_o(ei,1&ei.current),null!==(e=Ks(e,t,n))?e.sibling:null);_o(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Ks(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,aa&&0!==(1048576&t.flags)&&ea(t,$o,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var o=Mo(t,Po.current);Ra(t,n),o=mi(null,t,r,e,o,n);var i=yi();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(i=!0,Fo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fa(t),o.updater=os,t.stateNode=o,o._reactInternals=t,cs(t,r,e,n),t=As(null,t,r,!0,i,n)):(t.tag=0,aa&&i&&ta(t),bs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ml(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===x)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=Cs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,_s(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,qa(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rs(e,t,r,n,o=ls(Error(a(423)),t));break e}if(r!==o){t=Rs(e,t,r,n,o=ls(Error(a(424)),t));break e}for(oa=lo(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,n=ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===o){t=Ks(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==i&&no(r,i)&&(t.flags|=32),Is(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Fs(e,t,n);case 4:return Ga(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,_o(Sa,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!Ro.current){t=Ks(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var c=i.dependencies;if(null!==c){s=i.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===i.tag){(l=Ha(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Pa(i.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pa(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}bs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ra(t,n),r=r(o=xa(o)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),ks(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),js(e,t),t.tag=1,No(r)?(e=!0,Fo(t)):e=!1,Ra(t,n),is(t,r,o),cs(t,r,o,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ts(e,t,n)}throw Error(a(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Vl(e){this._internalRoot=e}function Gl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof o){var s=o;o=function(){var e=Kl(i);s.call(e)}}jl(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Kl(i);a.call(e)}}var i=zl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=i,e[go]=i.current,zr(8===e.nodeType?e.parentNode:e),ul(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=Kl(c);s.call(e)}}var c=Ul(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[go]=c.current,zr(8===e.nodeType?e.parentNode:e),ul((function(){jl(t,c,n,r)})),c}(n,t,e,o,r);return Kl(i)}Vl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));jl(e,t,null,null)},Vl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){jl(null,e,null,null)})),t[go]=null}},Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&Ac)&&(zc=Je()+500,jo()))}break;case 13:ul((function(){var t=Oa(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},kt=function(e){if(13===e.tag){var t=Oa(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Oa(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},Tt=function(){return wt},It=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(a(90));$(r),X(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,Pe=ul;var eu={usingClientEntryPoint:!1,Events:[bo,Co,ko,Ee,_e,ll]},tu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gl(e))throw Error(a(299));var n=!1,r="",o=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,o),e[go]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",s=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,o,0,i,s),e[go]=t.current,zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Vl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".0e01b7de.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="booking-app:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)c(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkbooking_app=self.webpackChunkbooking_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>ov,hasStandardBrowserEnv:()=>iv,hasStandardBrowserWebWorkerEnv:()=>sv,navigator:()=>av,origin:()=>cv});var o=n(43),a=n.t(o,2),i=n(391);const s={appId:"c11c5223-1fc0-4e45-9969-08904250f96c",redirectUri:"http://localhost:3000/",scopes:["user.read"]},c={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},l=400,u=499,d=500,h=599,p=[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE],f=[...p,c.EMAIL_SCOPE],g="Content-Type",m="Content-Length",y="Retry-After",v="X-AnchorMailbox",w="x-ms-request-id",b="x-ms-httpver",C="active-account-filters",k="common",S="organizations",T="consumers",I="access_token",E="xms_cc",_={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},A={PLAIN:"plain",S256:"S256"},P={QUERY:"query",FRAGMENT:"fragment"},R={...P,FORM_POST:"form_post"},x="authorization_code",M="refresh_token",N="MSSTS",D="ADFS",O="Generic",L="-",F=".",q={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},H="appmetadata",U="1",B="authority-metadata",z=86400,j="config",K="cache",Y="network",W="hardcoded_values",$={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Q={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},V=60,G=3600,J="throttling",X="retry-after, h429",Z="invalid_grant",ee="client_mismatch",te="username",ne="password",re=200,oe=400,ae="1",ie="3",se="4",ce="2",le="4",ue="5",de="0",he="1",pe="2",fe="3",ge="4",me="pop";var ye;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(ye||(ye={}));class ve{constructor(e,t,n){this.level=ye.Info;const r=e||ve.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:ye.Info,this.correlationId=r.correlationId||c.EMPTY_STRING,this.packageName=t||c.EMPTY_STRING,this.packageVersion=n||c.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info}}clone(e,t,n){return new ve({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ye[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:ye.Error,containsPii:!1,correlationId:t||c.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:ye.Error,containsPii:!0,correlationId:t||c.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:ye.Warning,containsPii:!1,correlationId:t||c.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:ye.Warning,containsPii:!0,correlationId:t||c.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:ye.Info,containsPii:!1,correlationId:t||c.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:ye.Info,containsPii:!0,correlationId:t||c.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!1,correlationId:t||c.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!0,correlationId:t||c.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:ye.Trace,containsPii:!1,correlationId:t||c.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:ye.Trace,containsPii:!0,correlationId:t||c.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const we="AAD",be="OIDC",Ce="none",ke="unexpected_error",Se="post_request_failed",Te={[ke]:"Unexpected error in authentication.",[Se]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ie extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,Ie.prototype),this.errorCode=e||c.EMPTY_STRING,this.errorMessage=t||c.EMPTY_STRING,this.subError=n||c.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Ee(e,t){return new Ie(e,t?`${Te[e]} ${t}`:Te[e])}const _e="client_info_decoding_error",Ae="client_info_empty_error",Pe="token_parsing_error",Re="null_or_empty_token",xe="endpoints_resolution_error",Me="network_error",Ne="openid_config_error",De="hash_not_deserialized",Oe="invalid_state",Le="state_mismatch",Fe="state_not_found",qe="nonce_mismatch",He="auth_time_not_found",Ue="max_age_transpired",Be="multiple_matching_tokens",ze="multiple_matching_accounts",je="multiple_matching_appMetadata",Ke="request_cannot_be_made",Ye="cannot_remove_empty_scope",We="cannot_append_scopeset",$e="empty_input_scopeset",Qe="device_code_polling_cancelled",Ve="device_code_expired",Ge="device_code_unknown_error",Je="no_account_in_silent_request",Xe="invalid_cache_record",Ze="invalid_cache_environment",et="no_account_found",tt="no_crypto_object",nt="unexpected_credential_type",rt="invalid_assertion",ot="invalid_client_credential",at="token_refresh_required",it="user_timeout_reached",st="token_claims_cnf_required_for_signedjwt",ct="authorization_code_missing_from_server_response",lt="binding_key_not_removed",ut="end_session_endpoint_not_supported",dt="key_id_missing",ht="no_network_connectivity",pt="user_canceled",ft="missing_tenant_id_error",gt="method_not_implemented",mt="nested_app_auth_bridge_disabled",yt={[_e]:"The client info could not be parsed/decoded correctly",[Ae]:"The client info was empty",[Pe]:"Token cannot be parsed",[Re]:"The token is null or empty",[xe]:"Endpoints cannot be resolved",[Me]:"Network request failed",[Ne]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[De]:"The hash parameters could not be deserialized",[Oe]:"State was not the expected format",[Le]:"State mismatch error",[Fe]:"State not found",[qe]:"Nonce mismatch error",[He]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ue]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Be]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ze]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[je]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Ke]:"Token request cannot be made without authorization code or refresh token.",[Ye]:"Cannot remove null or empty scope from ScopeSet",[We]:"Cannot append ScopeSet",[$e]:"Empty input ScopeSet cannot be processed",[Qe]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Ve]:"Device code is expired.",[Ge]:"Device code stopped polling for unknown reasons.",[Je]:"Please pass an account object, silent flow is not supported without account information",[Xe]:"Cache record object was null or undefined.",[Ze]:"Invalid environment when attempting to create cache entry",[et]:"No account found in cache for given key.",[tt]:"No crypto object detected.",[nt]:"Unexpected credential type.",[rt]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[ot]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[at]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[it]:"User defined timeout for device code polling reached",[st]:"Cannot generate a POP jwt if the token_claims are not populated",[ct]:"Server response does not contain an authorization code to proceed",[lt]:"Could not remove the credential's binding key from storage.",[ut]:"The provided authority does not support logout",[dt]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ht]:"No network connectivity. Check your internet connection.",[pt]:"User cancelled the flow.",[ft]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[gt]:"This method has not been implemented",[mt]:"The nested app auth bridge is disabled"};class vt extends Ie{constructor(e,t){super(e,t?`${yt[e]}: ${t}`:yt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,vt.prototype)}}function wt(e,t){return new vt(e,t)}const bt={createNewGuid:()=>{throw wt(gt)},base64Decode:()=>{throw wt(gt)},base64Encode:()=>{throw wt(gt)},base64UrlEncode:()=>{throw wt(gt)},encodeKid:()=>{throw wt(gt)},async getPublicKeyThumbprint(){throw wt(gt)},async removeTokenBindingKey(){throw wt(gt)},async clearKeystore(){throw wt(gt)},async signJwt(){throw wt(gt)},async hashString(){throw wt(gt)}},Ct="@azure/msal-common",kt="15.2.0";function St(e,t){const n=function(e){if(!e)throw wt(Re);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw wt(Pe);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw wt(Pe)}}function Tt(e,t){if(0===t||Date.now()-3e5>e+t)throw wt(Ue)}function It(){return Math.round((new Date).getTime()/1e3)}function Et(e,t){const n=Number(e)||0;return It()+t>n}function _t(e){return[Mt(e),Nt(e),Dt(e),Ot(e),Lt(e)].join(L).toLowerCase()}function At(e,t,n,r,o){return{credentialType:q.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Pt(e,t,n,r,o,a,i,s,c,l,u,d,h,p,f){const g={homeAccountId:e,credentialType:q.ACCESS_TOKEN,secret:n,cachedAt:It().toString(),expiresOn:i.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:a,tokenType:u||Q.BEARER};if(d&&(g.userAssertionHash=d),l&&(g.refreshOn=l.toString()),p&&(g.requestedClaims=p,g.requestedClaimsHash=f),g.tokenType?.toLowerCase()!==Q.BEARER.toLowerCase())switch(g.credentialType=q.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case Q.POP:const e=St(n,c);if(!e?.cnf?.kid)throw wt(st);g.keyId=e.cnf.kid;break;case Q.SSH:g.keyId=h}return g}function Rt(e,t,n,r,o,a,i){const s={credentialType:q.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return a&&(s.userAssertionHash=a),o&&(s.familyId=o),i&&(s.expiresOn=i.toString()),s}function xt(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Mt(e){return[e.homeAccountId,e.environment].join(L).toLowerCase()}function Nt(e){const t=e.credentialType===q.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(L).toLowerCase()}function Dt(e){return(e.target||"").toLowerCase()}function Ot(e){return(e.requestedClaimsHash||"").toLowerCase()}function Lt(e){return e.tokenType&&e.tokenType.toLowerCase()!==Q.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Ft(){return It()+z}function qt(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Ht(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Ut(e){return e.expiresAt<=It()}const Bt="redirect_uri_empty",zt="claims_request_parsing_error",jt="authority_uri_insecure",Kt="url_parse_error",Yt="empty_url_error",Wt="empty_input_scopes_error",$t="invalid_prompt_value",Qt="invalid_claims",Vt="token_request_empty",Gt="logout_request_empty",Jt="invalid_code_challenge_method",Xt="pkce_params_missing",Zt="invalid_cloud_discovery_metadata",en="invalid_authority_metadata",tn="untrusted_authority",nn="missing_ssh_jwk",rn="missing_ssh_kid",on="missing_nonce_authentication_header",an="invalid_authentication_header",sn="cannot_set_OIDCOptions",cn="cannot_allow_platform_broker",ln="authority_mismatch",un={[Bt]:"A redirect URI is required for all calls, and none has been set.",[zt]:"Could not parse the given claims request object.",[jt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Kt]:"URL could not be parsed into appropriate segments.",[Yt]:"URL was empty or null.",[Wt]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[$t]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Qt]:"Given claims parameter must be a stringified JSON object.",[Vt]:"Token request was empty and not found in cache.",[Gt]:"The logout request was null or undefined.",[Jt]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Xt]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Zt]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[en]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[tn]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[nn]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[rn]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[on]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[an]:"Invalid authentication header provided",[sn]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[cn]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[ln]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class dn extends Ie{constructor(e){super(e,un[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,dn.prototype)}}function hn(e){return new dn(e)}class pn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class fn{constructor(e){const t=e?pn.trimArrayEntries([...e]):[],n=t?pn.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw hn(Wt);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||c.EMPTY_STRING).split(" ");return new fn(t)}static createSearchScopes(e){const t=new fn(e);return t.containsOnlyOIDCScopes()?t.removeScope(c.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new fn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return f.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw wt(We)}}removeScope(e){if(!e)throw wt(Ye);this.scopes.delete(e.trim())}removeOIDCScopes(){f.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw wt($e);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw wt($e);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return c.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function gn(e,t){if(!e)throw wt(Ae);try{const n=t(e);return JSON.parse(n)}catch(n){throw wt(_e)}}function mn(e){if(!e)throw wt(_e);const t=e.split(F,2);return{uid:t[0],utid:t.length<2?c.EMPTY_STRING:t[1]}}function yn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function vn(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:a,tfp:i,acr:s}=r,c=o||i||s||"";return{tenantId:c,localAccountId:t||n||"",name:a,isHomeTenant:yn(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:yn(n,e)}}function wn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...a}=vn(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...a,idTokenClaims:n,idToken:r},o}return o}const bn=0,Cn=1,kn=2,Sn=3;function Tn(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class In{generateAccountId(){return[this.homeAccountId,this.environment].join(L).toLowerCase()}generateAccountKey(){return In.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(L).toLowerCase()}static createAccount(e,t,n){const r=new In;let o;t.authorityType===Cn?r.authorityType=D:t.protocolMode===we?r.authorityType=N:r.authorityType=O,e.clientInfo&&n&&(o=gn(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const a=e.environment||t&&t.getPreferredCache();if(!a)throw wt(Ze);r.environment=a,r.realm=o?.utid||Tn(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const i=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=i||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=vn(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new In;return r.authorityType=e.authorityType||O,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==Cn&&t!==kn){if(e)try{const t=gn(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(a){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function En(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function _n(e){if(!e||e.indexOf("=")<0)return null;try{const t=En(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw wt(De)}return null}class An{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw hn(Yt);e.includes("#")||(this._urlString=An.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return pn.endsWith(t,"?")?t=t.slice(0,-1):pn.endsWith(t,"?/")&&(t=t.slice(0,-2)),pn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw hn(Kt)}if(!e.HostNameAndPort||!e.PathSegments)throw hn(Kt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw hn(jt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return An.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==k&&n[0]!==S||(n[0]=e),An.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw hn(Kt);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw hn(Kt);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===c.FORWARD_SLASH){const n=new An(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new An(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!_n(e)}}const Pn={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Rn={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},xn=new Set;function Mn(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Nn(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Nn(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Rn.metadata.forEach((e=>{e.aliases.forEach((e=>{xn.add(e)}))}));const Dn="cache_quota_exceeded",On="cache_error_unknown",Ln={[Dn]:"Exceeded cache storage capacity.",[On]:"Unexpected error occurred when using cache storage."};class Fn extends Error{constructor(e,t){const n=t||(Ln[e]?Ln[e]:Ln[On]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Fn.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class qn{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(Ct,kt),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=St(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=wn(e,n,o,i?.secret),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw wt(Xe);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,t),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Fn(Dn)):new Fn(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,t),new Fn(On))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=fn.fromString(e.target),a=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){fn.fromString(t.target).intersectingScopeSets(o)&&a.push(this.removeAccessToken(e))}})),await Promise.all(a),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},a=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));a&&0===a.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(L).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(L).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(q.ID_TOKEN.toLowerCase())&&-1===t.indexOf(q.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(q.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(q.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(q.REFRESH_TOKEN.toLowerCase())>-1){const e=`${q.REFRESH_TOKEN}${L}${this.clientId}${L}`,n=`${q.REFRESH_TOKEN}${L}${U}${L}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===q.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Q.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===q.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Q.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw wt(lt)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=In.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:q.ID_TOKEN,clientId:this.clientId,realm:n},i=this.getIdTokensByFilter(a,t),s=i.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=i;if(!n){const n=new Map;i.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),i.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:i.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),i.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");const i=fn.createSearchScopes(t.scopes),s=t.authenticationScheme||Q.BEARER,c=s&&s.toLowerCase()!==Q.BEARER.toLowerCase()?q.ACCESS_TOKEN_WITH_AUTH_SCHEME:q.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:i,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(_t(e))})),o&&a&&o.addFields({multiMatchedAT:d.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=t?U:void 0,i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:q.REFRESH_TOKEN,clientId:this.clientId,familyId:a},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,i)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,i)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&o&&r.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw wt(je);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==U)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new An(r).getUrlComponents().HostNameAndPort;n=Mn(o,e.cloudDiscoveryMetadata?.metadata,j,t)||Mn(o,Rn.metadata,W,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==q.ACCESS_TOKEN&&e.credentialType!==q.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return fn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(H)}isAuthorityMetadata(e){return-1!==e.indexOf(B)}generateAuthorityMetadataCacheKey(e){return`${B}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Hn extends qn{async setAccount(){throw wt(gt)}getAccount(){throw wt(gt)}async setIdTokenCredential(){throw wt(gt)}getIdTokenCredential(){throw wt(gt)}async setAccessTokenCredential(){throw wt(gt)}getAccessTokenCredential(){throw wt(gt)}async setRefreshTokenCredential(){throw wt(gt)}getRefreshTokenCredential(){throw wt(gt)}setAppMetadata(){throw wt(gt)}getAppMetadata(){throw wt(gt)}setServerTelemetry(){throw wt(gt)}getServerTelemetry(){throw wt(gt)}setAuthorityMetadata(){throw wt(gt)}getAuthorityMetadata(){throw wt(gt)}getAuthorityMetadataKeys(){throw wt(gt)}setThrottlingCache(){throw wt(gt)}getThrottlingCache(){throw wt(gt)}removeItem(){throw wt(gt)}getKeys(){throw wt(gt)}getAccountKeys(){throw wt(gt)}getTokenKeys(){throw wt(gt)}}const Un={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Bn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info,correlationId:c.EMPTY_STRING},zn={claimsBasedCachingEnabled:!1},jn={async sendGetRequestAsync(){throw wt(gt)},async sendPostRequestAsync(){throw wt(gt)}},Kn={sku:c.SKU,version:kt,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},Yn={clientSecret:c.EMPTY_STRING,clientAssertion:void 0},Wn={azureCloudInstance:Ce,tenant:`${c.DEFAULT_COMMON_TENANT}`},$n={application:{appName:"",appVersion:""}};function Qn(e){return e.authOptions.authority.options.protocolMode===be}const Vn={sendGetRequestAsync:()=>Promise.reject(wt(gt)),sendPostRequestAsync:()=>Promise.reject(wt(gt))},Gn="acquireTokenByCode",Jn="acquireTokenByRefreshToken",Xn="acquireTokenSilent",Zn="acquireTokenSilentAsync",er="acquireTokenPopup",tr="acquireTokenPreRedirect",nr="acquireTokenRedirect",rr="cryptoOptsGetPublicKeyThumbprint",or="cryptoOptsSignJwt",ar="silentCacheClientAcquireToken",ir="silentIframeClientAcquireToken",sr="awaitConcurrentIframe",cr="silentRefreshClientAcquireToken",lr="ssoSilent",ur="standardInteractionClientGetDiscoveredAuthority",dr="fetchAccountIdWithNativeBroker",hr="nativeInteractionClientAcquireToken",pr="networkClientSendPostRequestAsync",fr="refreshTokenClientExecutePostToTokenEndpoint",gr="authorizationCodeClientExecutePostToTokenEndpoint",mr="refreshTokenClientExecuteTokenRequest",yr="refreshTokenClientAcquireToken",vr="refreshTokenClientAcquireTokenWithCachedRefreshToken",wr="refreshTokenClientAcquireTokenByRefreshToken",br="refreshTokenClientCreateTokenRequestBody",Cr="acquireTokenFromCache",kr="silentFlowClientAcquireCachedToken",Sr="silentFlowClientGenerateResultFromCacheRecord",Tr="acquireTokenBySilentIframe",Ir="initializeBaseRequest",Er="initializeSilentRequest",_r="initializeClientApplication",Ar="initializeCache",Pr="silentIframeClientTokenHelper",Rr="silentHandlerInitiateAuthRequest",xr="silentHandlerMonitorIframeForHash",Mr="silentHandlerLoadFrame",Nr="silentHandlerLoadFrameSync",Dr="standardInteractionClientCreateAuthCodeClient",Or="standardInteractionClientGetClientConfiguration",Lr="standardInteractionClientInitializeAuthorizationRequest",Fr="standardInteractionClientInitializeAuthorizationCodeRequest",qr="getAuthCodeUrl",Hr="handleCodeResponseFromServer",Ur="handleCodeResponse",Br="updateTokenEndpointAuthority",zr="authClientAcquireToken",jr="authClientExecuteTokenRequest",Kr="authClientCreateTokenRequestBody",Yr="authClientCreateQueryString",Wr="popTokenGenerateCnf",$r="popTokenGenerateKid",Qr="handleServerTokenResponse",Vr="deserializeResponse",Gr="authorityFactoryCreateDiscoveredInstance",Jr="authorityResolveEndpointsAsync",Xr="authorityGetCloudDiscoveryMetadataFromNetwork",Zr="authorityUpdateCloudDiscoveryMetadata",eo="authorityGetEndpointMetadataFromNetwork",to="authorityUpdateEndpointMetadata",no="authorityUpdateMetadataWithRegionalInformation",ro="regionDiscoveryDetectRegion",oo="regionDiscoveryGetRegionFromIMDS",ao="regionDiscoveryGetCurrentVersion",io="acquireTokenByCodeAsync",so="handleRedirectPromise",co="handleNativeRedirectPromise",lo="nativeMessageHandlerHandshake",uo="removeHiddenIframe",ho="clearTokensAndKeysWithClaims",po="cacheManagerGetRefreshToken",fo="importExistingCache",go="setUserData",mo="localStorageUpdated",yo="generatePkceCodes",vo="generateCodeVerifier",wo="generateCodeChallengeFromVerifier",bo="sha256Digest",Co="getRandomValues",ko="generateHKDF",So="generateBaseKey",To="base64Decode",Io="urlEncodeArr",Eo="encrypt",_o="decrypt",Ao=(new Map([[Gn,"ATByCode"],[Jn,"ATByRT"],[Xn,"ATS"],[Zn,"ATSAsync"],[er,"ATPopup"],[nr,"ATRedirect"],[rr,"CryptoGetPKThumb"],[or,"CryptoSignJwt"],[ar,"SltCacheClientAT"],[ir,"SltIframeClientAT"],[cr,"SltRClientAT"],[lr,"SsoSlt"],[ur,"StdIntClientGetDiscAuth"],[dr,"FetchAccIdWithNtvBroker"],[hr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[pr,"NetClientSendPost"],[fr,"RTClientExecPost"],[gr,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[mr,"RTClientExecTReq"],[yr,"RTClientAT"],[vr,"RTClientATWithCachedRT"],[wr,"RTClientATByRT"],[br,"RTClientCreateTReqBody"],[Cr,"ATFromCache"],[kr,"SltFlowClientATCached"],[Sr,"SltFlowClientGenResFromCache"],[Tr,"ATBySltIframe"],[Ir,"InitBaseReq"],[Er,"InitSltReq"],[_r,"InitClientApplication"],[Ar,"InitCache"],[fo,"importCache"],[go,"setUserData"],[mo,"localStorageUpdated"],[Pr,"SIClientTHelper"],[Rr,"SHandlerInitAuthReq"],[xr,"SltHandlerMonitorIframeForHash"],[Mr,"SHandlerLoadFrame"],[Nr,"SHandlerLoadFrameSync"],[Dr,"StdIntClientCreateAuthCodeClient"],[Or,"StdIntClientGetClientConf"],[Lr,"StdIntClientInitAuthReq"],[Fr,"StdIntClientInitAuthCodeReq"],[qr,"GetAuthCodeUrl"],[Hr,"HandleCodeResFromServer"],[Ur,"HandleCodeResp"],[Br,"UpdTEndpointAuth"],[zr,"AuthClientAT"],[jr,"AuthClientExecTReq"],[Kr,"AuthClientCreateTReqBody"],[Yr,"AuthClientCreateQueryStr"],[Wr,"PopTGenCnf"],[$r,"PopTGenKid"],[Qr,"HandleServerTRes"],[Vr,"DeserializeRes"],[Gr,"AuthFactCreateDiscInst"],[Jr,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Xr,"AuthGetCDMetaFromNet"],[Zr,"AuthUpdCDMeta"],[eo,"AuthUpdCDMetaFromNet"],[to,"AuthUpdEndpointMeta"],[no,"AuthUpdMetaWithRegInfo"],[ro,"RegDiscDetectReg"],[oo,"RegDiscGetRegFromIMDS"],[ao,"RegDiscGetCurrentVer"],[io,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[so,"HandleRedirectPromise"],[co,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[lo,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[uo,"RemoveHiddenIframe"],[ho,"ClearTAndKeysWithClaims"],[po,"CacheManagerGetRT"],[yo,"GenPkceCodes"],[vo,"GenCodeVerifier"],[wo,"GenCodeChallengeFromVerifier"],[bo,"Sha256Digest"],[Co,"GetRandomValues"],[ko,"genHKDF"],[So,"genBaseKey"],[To,"b64Decode"],[Io,"urlEncArr"],[Eo,"encrypt"],[_o,"decrypt"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Po{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Ro{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Ao,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Po}}startPerformanceMeasurement(){return new Po}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const xo="invalid_grant",Mo=483,No=600,Do="msal",Oo=30,Lo="msal.js.browser",Fo="53ee284d-920a-4b59-9d30-a60315b26836",qo="ppnbnpeolgkicgegkbkbjmhlideopiji",Ho="MATS",Uo="Handshake",Bo="HandshakeResponse",zo="GetToken",jo="Response",Ko="localStorage",Yo="sessionStorage",Wo="memoryStorage",$o="GET",Qo="POST",Vo="authority",Go="request.state",Jo="nonce.id_token",Xo="request.origin",Zo="urlHash",ea="request.params",ta="interaction.status",na="ccs.credential",ra="request.correlationId",oa="request.native",aa="msal.account.keys",ia="msal.token.keys",sa="wrapper.sku",ca="wrapper.version",la=861,ua=862,da=863,ha=865,pa=866,fa=61,ga=961,ma=962;var ya;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(ya||(ya={}));const va={scopes:p},wa="msal.db",ba=`${wa}.keys`,Ca=0,ka=1,Sa=2,Ta=3,Ia=4,Ea=5,_a=[Ca,Ea,Ia];class Aa{navigateInternal(e,t){return Aa.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Aa.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Pa extends Ie{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Pa.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Ra(e,t,n){return new Pa(e,t,n)}const xa="pkce_not_created",Ma="crypto_nonexistent",Na="empty_navigate_uri",Da="hash_empty_error",Oa="no_state_in_hash",La="hash_does_not_contain_known_properties",Fa="unable_to_parse_state",qa="state_interaction_type_mismatch",Ha="interaction_in_progress",Ua="popup_window_error",Ba="empty_window_error",za="user_cancelled",ja="monitor_popup_timeout",Ka="monitor_window_timeout",Ya="redirect_in_iframe",Wa="block_iframe_reload",$a="block_nested_popups",Qa="iframe_closed_prematurely",Va="silent_logout_unsupported",Ga="no_account_error",Ja="silent_prompt_value_error",Xa="no_token_request_cache_error",Za="unable_to_parse_token_request_cache_error",ei="no_cached_authority_error",ti="auth_request_not_set_error",ni="invalid_cache_type",ri="non_browser_environment",oi="database_not_open",ai="no_network_connectivity",ii="post_request_failed",si="get_request_failed",ci="failed_to_parse_response",li="unable_to_load_token",ui="crypto_key_not_found",di="auth_code_required",hi="auth_code_or_nativeAccountId_required",pi="spa_code_and_nativeAccountId_present",fi="database_unavailable",gi="unable_to_acquire_token_from_native_platform",mi="native_handshake_timeout",yi="native_extension_not_installed",vi="native_connection_not_established",wi="uninitialized_public_client_application",bi="native_prompt_not_supported",Ci="invalid_base64_string",ki="invalid_pop_token_request",Si="failed_to_build_headers",Ti="failed_to_parse_headers",Ii="For more visit: aka.ms/msaljs/browser-errors",Ei={[xa]:"The PKCE code challenge and verifier could not be generated.",[Ma]:"The crypto object or function is not available.",[Na]:"Navigation URI is empty. Please check stack trace for more info.",[Da]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Ii}`,[Oa]:"Hash does not contain state. Please verify that the request originated from msal.",[La]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Ii}`,[Fa]:"Unable to parse state. Please verify that the request originated from msal.",[qa]:"Hash contains state but the interaction type does not match the caller.",[Ha]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Ii}`,[Ua]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Ba]:"window.open returned null or undefined window object.",[za]:"User cancelled the flow.",[ja]:`Token acquisition in popup failed due to timeout.  ${Ii}`,[Ka]:`Token acquisition in iframe failed due to timeout.  ${Ii}`,[Ya]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Wa]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Ii}`,[$a]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Qa]:"The iframe being monitored was closed prematurely.",[Va]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Ga]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Ja]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Xa]:"No token request found in cache.",[Za]:"The cached token request could not be parsed.",[ei]:"No cached authority found.",[ti]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[ni]:"Invalid cache type",[ri]:"Login and token requests are not supported in non-browser environments.",[oi]:"Database is not open!",[ai]:"No network connectivity. Check your internet connection.",[ii]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[si]:"Network request failed. Please check the network trace to determine root cause.",[ci]:"Failed to parse network response. Check network trace.",[li]:"Error loading token to cache.",[ui]:"Cryptographic Key or Keypair not found in browser storage.",[di]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[hi]:"An authorization code or nativeAccountId must be provided to this flow.",[pi]:"Request cannot contain both spa code and native account id.",[fi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[gi]:`Unable to acquire token from native platform.  ${Ii}`,[mi]:"Timed out while attempting to establish connection to browser extension",[yi]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[vi]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Ii}`,[wi]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Ii}`,[bi]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Ci]:"Invalid base64 encoded string.",[ki]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Si]:"Failed to build request headers object.",[Ti]:"Failed to parse response headers"};class _i extends Ie{constructor(e,t){super(e,Ei[e],t),Object.setPrototypeOf(this,_i.prototype),this.name="BrowserAuthError"}}function Ai(e,t){return new _i(e,t)}class Pi{async sendGetRequestAsync(e,t){let n,r={},o=0;const a=Ri(t);try{n=await fetch(e,{method:$o,headers:a})}catch(i){throw Ai(window.navigator.onLine?si:ai)}r=xi(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(i){throw Ra(Ai(ci),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Ri(t);let o,a=0,i={};try{o=await fetch(e,{method:Qo,headers:r,body:n})}catch(s){throw Ai(window.navigator.onLine?ii:ai)}i=xi(o.headers);try{return a=o.status,{headers:i,body:await o.json(),status:a}}catch(s){throw Ra(Ai(ci),a,i)}}}function Ri(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw Ai(Si)}}function xi(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw Ai(Ti)}}function Mi(e){return encodeURIComponent(Di(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ni(e){return Oi(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Di(e){return Oi((new TextEncoder).encode(e))}function Oi(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Li(e){return(new TextDecoder).decode(Fi(e))}function Fi(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Ai(Ci)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const qi="AES-GCM",Hi="HKDF",Ui="SHA-256",Bi=new Uint8Array([1,0,1]),zi="0123456789abcdef",ji=new Uint32Array(1),Ki="encrypt",Yi="decrypt",Wi={name:"RSASSA-PKCS1-v1_5",hash:Ui,modulusLength:2048,publicExponent:Bi};async function $i(e,t,n){t?.addQueueMeasurement(bo,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(Ui,r)}function Qi(e){return window.crypto.getRandomValues(e)}function Vi(){return window.crypto.getRandomValues(ji),ji[0]}function Gi(){const e=Date.now(),t=1024*Vi()+(1023&Vi()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,a=Vi();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=a>>>24,n[13]=a>>>16,n[14]=a>>>8,n[15]=a;let i="";for(let s=0;s<n.length;s++)i+=zi.charAt(n[s]>>>4),i+=zi.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(i+="-");return i}async function Ji(e){return window.crypto.subtle.exportKey("jwk",e)}async function Xi(){const e=await window.crypto.subtle.generateKey({name:qi,length:256},!0,[Ki,Yi]);return window.crypto.subtle.exportKey("raw",e)}async function Zi(e){return window.crypto.subtle.importKey("raw",e,Hi,!1,["deriveKey"])}async function es(e,t,n){return window.crypto.subtle.deriveKey({name:Hi,salt:t,hash:Ui,info:(new TextEncoder).encode(n)},e,{name:qi,length:256},!1,[Ki,Yi])}async function ts(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),a=await es(e,o,n),i=await window.crypto.subtle.encrypt({name:qi,iv:new Uint8Array(12)},a,r);return{data:Ni(new Uint8Array(i)),nonce:Ni(o)}}async function ns(e,t,n,r){const o=Fi(r),a=await es(e,Fi(t),n),i=await window.crypto.subtle.decrypt({name:qi,iv:new Uint8Array(12)},a,o);return(new TextDecoder).decode(i)}async function rs(e){const t=await $i(e);return Ni(new Uint8Array(t))}const os="storage_not_supported",as="stubbed_public_client_application_called",is="in_mem_redirect_unavailable",ss={[os]:"Given storage configuration option was not supported.",[as]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[is]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class cs extends Ie{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,cs.prototype)}}function ls(e){return new cs(e,ss[e])}function us(){return window.parent!==window}function ds(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function hs(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${Do}.`))throw Ai($a)}function ps(){if("undefined"===typeof window)throw Ai(ri)}function fs(e){if(!e)throw Ai(wi)}function gs(e){ps(),function(){if(An.hashContainsKnownProperties(window.location.hash)&&us())throw Ai(Wa)}(),hs(),fs(e)}function ms(e,t){if(gs(e),function(e){if(us()&&!e)throw Ai(Ya)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Wo&&!t.cache.storeAuthStateInCookie)throw ls(is)}function ys(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const vs=1e4;const ws="4.5.1";class bs{static loggerCallback(e,t){switch(e){case ye.Error:return void console.error(t);case ye.Info:return void console.info(t);case ye.Verbose:return void console.debug(t);case ye.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:a}=e;const i={clientId:c.EMPTY_STRING,authority:`${c.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:c.EMPTY_STRING,authorityMetadata:c.EMPTY_STRING,redirectUri:"undefined"!==typeof window?ds():"",postLogoutRedirectUri:c.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:we,OIDCOptions:{serverResponseType:P.FRAGMENT,defaultScopes:[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Ce,tenant:c.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:Yo,temporaryCacheLocation:Yo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Ko),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:ye.Info,piiLoggingEnabled:!1},u={...{...Un,loggerOptions:l,networkClient:t?new Pi:Vn,navigationClient:new Aa,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||vs,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:Oo},...o,loggerOptions:o?.loggerOptions||l},d={application:{appName:c.EMPTY_STRING,appVersion:c.EMPTY_STRING},client:new Ro};n?.protocolMode!==be&&n?.OIDCOptions&&new ve(u.loggerOptions).warning(JSON.stringify(hn(sn)));if(n?.protocolMode&&n.protocolMode!==we&&u?.allowPlatformBroker)throw hn(cn);return{auth:{...i,...n,OIDCOptions:{...i.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...r},system:u,telemetry:{...d,...a}}}(e,this.browserEnvironment);try{t=window[Yo]}catch(s){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,a={...this.config.system.loggerOptions},i=n&&Object.keys(ye).includes(n)?ye[n]:void 0;i&&(a.loggerCallback=bs.loggerCallback,a.logLevel=i),void 0!==o&&(a.piiLoggingEnabled=o),this.logger=new ve(a,"@azure/msal-browser",ws),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Cs extends bs{getModuleName(){return Cs.MODULE_NAME}getId(){return Cs.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Cs.MODULE_NAME="",Cs.ID="StandardOperatingContext";const ks="missing_kid_error",Ss="missing_alg_error",Ts={[ks]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Ss]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Is extends Ie{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Is.prototype)}}function Es(e){return new Is(e,Ts[e])}class _s{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Es(ks);if(!e.alg)throw Es(Ss);const t=new _s({typ:e.typ||me,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class As{constructor(){this.dbName=wa,this.version=1,this.tableName=ba,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Ai(fi))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ai(oi));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Ai(oi));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ai(oi));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Ai(oi));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Ai(oi));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(wa),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Ps{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Rs{constructor(e){this.inMemoryCache=new Ps,this.indexedDBCache=new As,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof _i&&e.errorCode===fi))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class xs{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Ai(ri);if(!window.crypto)throw Ai(Ma);if(!e&&!window.crypto.subtle)throw Ai(Ma,"crypto_subtle_undefined")}(n??!1),this.cache=new Rs(this.logger),this.performanceClient=t}createNewGuid(){return Gi()}base64Encode(e){return Di(e)}base64Decode(e){return Li(e)}base64UrlEncode(e){return Mi(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(rr,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Wi,e,t)}(xs.EXTRACTABLE,xs.POP_KEY_USAGES),r=await Ji(n.publicKey),o=Ms({e:r.e,kty:r.kty,n:r.n}),a=await this.hashString(o),i=await Ji(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Wi,t,n)}(i,!1,["sign"]);return await this.cache.setItem(a,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),a}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(or,r),a=await this.cache.getItem(t);if(!a)throw Ai(ui);const i=await Ji(a.publicKey),s=Ms(i),c=Mi(JSON.stringify({kid:t})),l=Mi(_s.getShrHeaderString({...n?.header,alg:i.alg,kid:c}));e.cnf={jwk:JSON.parse(s)};const u=`${l}.${Mi(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Wi,e,t)}(a.privateKey,d),p=`${u}.${Ni(new Uint8Array(h))}`;return o&&o.end({success:!0}),p}async hashString(e){return rs(e)}}function Ms(e){return JSON.stringify(e,Object.keys(e).sort())}xs.POP_KEY_USAGES=["sign","verify"],xs.EXTRACTABLE=!0;const Ns=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return a?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(i){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(i))}catch(i){n.trace("Unable to print error message.")}throw a?.end({success:!1},i),i}},Ds=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const a=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),a?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw a?.end({success:!1},e),e}))};class Os{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(ro,this.correlationId);let n=e;if(n)t.region_source=ie;else{const e=Os.IMDS_OPTIONS;try{const r=await Ds(this.getRegionFromIMDS.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(c.IMDS_VERSION,e);if(r.status===re&&(n=r.body,t.region_source=se),r.status===oe){const r=await Ds(this.getCurrentVersion.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=ae,null;const o=await Ds(this.getRegionFromIMDS.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===re&&(n=o.body,t.region_source=se)}}catch(r){return t.region_source=ae,null}}return n||(t.region_source=ae),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(oo,this.correlationId),this.networkInterface.sendGetRequestAsync(`${c.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,c.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(ao,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${c.IMDS_ENDPOINT}?format=json`,e);return t.status===oe&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Os.IMDS_OPTIONS={headers:{Metadata:"true"}};class Ls{constructor(e,t,n,r,o,a,i,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=i,this.correlationId=a,this.managedIdentity=s||!1,this.regionDiscovery=new Os(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(c.CIAM_AUTH_URL))return Sn;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case c.ADFS:return Cn;case c.DSTS:return kn}return bn}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new An(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw wt(xe)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw wt(xe)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw wt(xe)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw wt(ut);return this.replacePath(this.metadata.end_session_endpoint)}throw wt(xe)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw wt(xe)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw wt(xe)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Ls.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===bn&&this.protocolMode===we}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new An(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new An(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose(`Replacing tenant domain name ${a} with id ${e}`),a=e)}e!==a&&(t=t.replace(`/${a}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Cn||this.protocolMode!==we&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Jr,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Ds(this.updateCloudDiscoveryMetadata.bind(this),Zr,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Ds(this.updateEndpointMetadata.bind(this),to,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ft(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==K&&n?.source!==K&&(e.expiresAt=Ft(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(to,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===W&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){qt(e,await Ds(this.updateMetadataWithRegionalInformation.bind(this),no,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Ds(this.getEndpointMetadataFromNetwork.bind(this),eo,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Ds(this.updateMetadataWithRegionalInformation.bind(this),no,this.logger,this.performanceClient,this.correlationId)(n)),qt(e,n,!0),Y;throw wt(Ne,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),qt(e,t,!1),{source:j};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return qt(e,t,!1),{source:W,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Ut(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:K}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new An(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw hn(en)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(eo,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Pn?Pn[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(no,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==c.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=ce,this.regionDiscoveryMetadata.region_used=t,Ls.replaceWithRegionalInformation(e,t);const n=await Ds(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),ro,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=le,this.regionDiscoveryMetadata.region_used=n,Ls.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=ue}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Zr,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Ds(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Xr,this.logger,this.performanceClient,this.correlationId)();if(n)return Ht(e,n,!0),Y;throw hn(tn)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||c.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||c.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||c.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Ht(e,t,!1),j;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Nn(Rn.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Ht(e,t,!1),W;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Ut(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),K):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Sn)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ls.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Nn(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),hn(Zt)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ls.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Xr,this.correlationId);const e=`${c.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,a=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===c.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Nn(a,this.hostnameAndPort)}catch(r){if(r instanceof Ie)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Ls.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&An.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==Ce){const e=t.tenant?t.tenant:c.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return c.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw wt(xe)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return xn.has(e)}static isPublicCloudAuthority(e){return c.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new An(e);r.validateAsUri();const o=r.getUrlComponents();let a=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${t}.${c.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const i=An.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${i}?${n}`:i}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Ls.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Ls.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Ls.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new An(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(c.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${c.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Fs(e){return e.endsWith(c.FORWARD_SLASH)?e:`${e}${c.FORWARD_SLASH}`}Ls.reservedTenantDomains=new Set(["{tenant}","{tenantid}",k,T,S]);const qs="no_tokens_found",Hs="native_account_unavailable",Us="refresh_token_expired",Bs="bad_token",zs=["interaction_required","consent_required","login_required",Bs],js=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ks={[qs]:"No refresh token found in the cache. Please sign-in.",[Hs]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Us]:"Refresh token has expired.",[Bs]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Ys extends Ie{constructor(e,t,n,r,o,a,i,s){super(e,t,n),Object.setPrototypeOf(this,Ys.prototype),this.timestamp=r||c.EMPTY_STRING,this.traceId=o||c.EMPTY_STRING,this.correlationId=a||c.EMPTY_STRING,this.claims=i||c.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function Ws(e,t,n){const r=!!e&&zs.indexOf(e)>-1,o=!!n&&js.indexOf(n)>-1,a=!!t&&zs.some((e=>t.indexOf(e)>-1));return r||a||o}function $s(e){return new Ys(e,Ks[e])}class Qs{static setRequestState(e,t,n){const r=Qs.generateLibraryState(e,n);return t?`${r}${c.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw wt(tt);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw wt(tt);if(!t)throw wt(Oe);try{const n=t.split(c.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(c.RESOURCE_DELIM):c.EMPTY_STRING,a=e.base64Decode(r),i=JSON.parse(a);return{userRequestState:o||c.EMPTY_STRING,libraryState:i}}catch(n){throw wt(Oe)}}}const Vs="home_account_id",Gs="UPN",Js=864e5,Xs="Lax",Zs="None";class ec{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...a]=decodeURIComponent(e).trim().split("="),i=a.join("=");if(o===t)return i}return""}getUserData(){throw wt(gt)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xs,a=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*Js);return n.toUTCString()}(n);a+=`expires=${e};`}(r||o===Zs)&&(a+="Secure;"),document.cookie=a}async setUserData(){return Promise.reject(wt(gt))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function tc(e){const t=e.getItem(aa);return t?JSON.parse(t):[]}function nc(e,t){const n=t.getItem(`${ia}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const rc="msal.cache.encryption";class oc{constructor(e,t,n){if(!window.localStorage)throw ls(os);this.memoryStorage=new Ps,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new ec,n=t.getItem(rc);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=Ns(Fi,To,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Ds(Zi,ko,this.logger,this.performanceClient,e)(t)},await Ds(this.importExistingCache.bind(this),fo,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=Gi(),r=await Ds(Xi,So,this.logger,this.performanceClient,e)(),o=Ns(Ni,Io,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Ds(Zi,ko,this.logger,this.performanceClient,e)(r)};const a={id:n,key:o};t.setItem(rc,JSON.stringify(a),0,!0,Zs)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Ai(wi);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Ai(wi);const{data:r,nonce:o}=await Ds(ts,Eo,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();tc(this).forEach((e=>this.removeItem(e)));const e=nc(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(c.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=tc(this);t=await this.importArray(t,e),this.setItem(aa,JSON.stringify(t));const n=nc(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${ia}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Ds(ns,_o,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(mo);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class ac{constructor(){if(!window.sessionStorage)throw ls(os)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}function ic(e,t){if(!t)return null;try{return Qs.parseRequestState(e,t).libraryState.meta}catch(n){throw wt(Oe)}}const sc="msal:initializeStart",cc="msal:initializeEnd",lc="msal:accountAdded",uc="msal:accountRemoved",dc="msal:activeAccountChanged",hc="msal:loginStart",pc="msal:loginSuccess",fc="msal:loginFailure",gc="msal:acquireTokenStart",mc="msal:acquireTokenSuccess",yc="msal:acquireTokenFailure",vc="msal:acquireTokenFromNetworkStart",wc="msal:ssoSilentStart",bc="msal:ssoSilentSuccess",Cc="msal:ssoSilentFailure",kc="msal:acquireTokenByCodeStart",Sc="msal:acquireTokenByCodeSuccess",Tc="msal:acquireTokenByCodeFailure",Ic="msal:handleRedirectStart",Ec="msal:handleRedirectEnd",_c="msal:popupOpened",Ac="msal:logoutStart",Pc="msal:logoutSuccess",Rc="msal:logoutFailure",xc="msal:logoutEnd",Mc="msal:restoreFromBFCache";class Nc extends qn{constructor(e,t,n,r,o,a,i){super(e,n,r,i),this.cacheConfig=t,this.logger=r,this.internalStorage=new Ps,this.browserStorage=Dc(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Dc(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new ec,this.performanceClient=o,this.eventHandler=a}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&In.isAccountEntity(n)?qn.toObject(new In,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Ds(this.browserStorage.setUserData.bind(this.browserStorage),go,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===Ko&&r&&this.eventHandler.emitEvent(lc,void 0,e.getAccountInfo())}getAccountKeys(){return tc(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(aa,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(aa,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Ko&&this.eventHandler.emitEvent(uc,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,q.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,q.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,q.REFRESH_TOKEN)}getTokenKeys(){return nc(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case q.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case q.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case q.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(nt)}this.browserStorage.setItem(`${ia}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case q.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case q.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case q.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=n.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(nt)}this.browserStorage.setItem(`${ia}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&xt(r)&&r.hasOwnProperty("realm")&&r.credentialType===q.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=_t(e);await Ds(this.browserStorage.setUserData.bind(this.browserStorage),go,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&xt(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===q.ACCESS_TOKEN||r.credentialType===q.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=_t(e);await Ds(this.browserStorage.setUserData.bind(this.browserStorage),go,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&xt(r)&&r.credentialType===q.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=_t(e);await Ds(this.browserStorage.setUserData.bind(this.browserStorage),go,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(H)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[H,t,n].join(L).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf($.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(B)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(sa,e),this.internalStorage.setItem(ca,t)}getWrapperMetadata(){return[this.internalStorage.getItem(sa)||c.EMPTY_STRING,this.internalStorage.getItem(ca)||c.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(C),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(C);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(dc)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(J));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Ko){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(c.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(c.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(ho,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):pn.startsWith(e,c.CACHE_PREFIX)?e:`${c.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Qs.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Vo}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Qs.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Jo}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Qs.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Go}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:Vs};this.setTemporaryCache(na,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:Gs};this.setTemporaryCache(na,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(ea)),this.removeTemporaryItem(this.generateCacheKey(Xo)),this.removeTemporaryItem(this.generateCacheKey(Zo)),this.removeTemporaryItem(this.generateCacheKey(ra)),this.removeTemporaryItem(this.generateCacheKey(na)),this.removeTemporaryItem(this.generateCacheKey(oa)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||c.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(Go))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=ic(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=Di(JSON.stringify(e));this.setTemporaryCache(ea,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(ea,!0);if(!t)throw Ai(Xa);let n;try{n=JSON.parse(Li(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),Ai(Za)}if(this.removeTemporaryItem(this.generateCacheKey(ea)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw Ai(ei);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(oa,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${c.CACHE_PREFIX}.${ta}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${c.CACHE_PREFIX}.${ta}`;if(e){if(this.getInteractionInProgress())throw Ai(Ha);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}async hydrateCache(e,t){const n=At(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Pt(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Li,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof Fn&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function Dc(e,t,n,r){try{switch(t){case Ko:return new oc(e,n,r);case Yo:return new ac}}catch(o){n.error(o)}return new Ps}class Oc{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ve({}),this.broadcastChannel=new BroadcastChannel("msal.broadcast.event"),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||Gi();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case lc:case uc:case dc:this.broadcastChannel.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel.removeEventListener("message",this.invokeCrossTabCallbacks)}}class Lc extends Ie{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Lc.prototype)}}class Fc{static generateThrottlingStorageKey(e){return`${J}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Fc.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Lc(r.errorCodes?.join(" ")||c.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Fc.checkResponseStatus(n)||Fc.checkResponseForRetryAfter(n)){const r={throttleTime:Fc.calculateThrottleTime(parseInt(n.headers[y])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Fc.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(y)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||V),n+G))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}const qc="client_id",Hc="redirect_uri",Uc="response_type",Bc="token_type",zc="req_cnf",jc="return_spa_code",Kc="x-client-xtra-sku",Yc="brk_client_id",Wc="brk_redirect_uri";class $c{static validateRedirectUri(e){if(!e)throw hn(Bt)}static validatePrompt(e){const t=[];for(const n in _)t.push(_[n]);if(t.indexOf(e)<0)throw hn($t)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw hn(Qt)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw hn(Xt);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([A.PLAIN,A.S256].indexOf(e)<0)throw hn(Jt)}}class Qc{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(Uc,encodeURIComponent(c.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Uc,encodeURIComponent(`${c.TOKEN_RESPONSE_TYPE} ${c.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||R.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new fn(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(qc,encodeURIComponent(e))}addRedirectUri(e){$c.validateRedirectUri(e),this.parameters.set(Hc,encodeURIComponent(e))}addPostLogoutRedirectUri(e){$c.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(v,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(v,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);$c.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){$c.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if($c.validateCodeChallengeParams(e,t),!e||!t)throw hn(Xt);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw hn(Qt)}else n={};return t&&t.length>0&&(n.hasOwnProperty(I)||(n[I]={}),n[I][E]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(te,encodeURIComponent(e))}addPassword(e){this.parameters.set(ne,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Bc,Q.POP),this.parameters.set(zc,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Bc,Q.SSH),this.parameters.set(zc,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",X)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Yc]=e.brokerClientId,t[Wc]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),function(e,t,n){if(!t)return;const r=e.get(qc);r&&e.has(Yc)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(Hc)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function Vc(e,t,n,r,o,a,i){i?.addQueueMeasurement(Gr,a);const s=Ls.transformCIAMAuthority(Fs(e)),c=new Ls(s,t,n,r,o,a,i);try{return await Ds(c.resolveEndpointsAsync.bind(c),Jr,o,i,a)(),c}catch(l){throw wt(xe)}}class Gc{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:a,networkInterface:i,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:p}=e;const f={...Bn,...r};return{authOptions:(g=t,{clientCapabilities:[],azureCloudOptions:Wn,skipAuthorityMetadataCache:!1,instanceAware:!1,...g}),systemOptions:{...Un,...n},loggerOptions:f,cacheOptions:{...zn,...o},storageInterface:a||new Hn(t.clientId,bt,new ve(f)),networkInterface:i||jn,cryptoInterface:s||bt,clientCredentials:c||Yn,libraryInfo:{...Kn,...l},telemetry:{...$n,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:p||null};var g}(e),this.logger=new ve(this.config.loggerOptions,Ct,kt),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[g]=c.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Vs:try{const n=mn(e.credential);t[v]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Gs:t[v]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,a){a&&this.performanceClient?.addQueueMeasurement(a,o);const i=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),i}async sendPostRequest(e,t,n,r){let o;Fc.preProcess(this.cacheManager,e);try{o=await Ds(this.networkClient.sendPostRequestAsync.bind(this.networkClient),pr,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[b]||"",requestId:e[w]||""},r)}catch(a){if(a instanceof Pa){const e=a.responseHeaders;throw e&&this.performanceClient?.addFields({httpVerToken:e[b]||"",requestId:e[w]||"",contentTypeHeader:e[g]||void 0,contentLengthHeader:e[m]||void 0,httpStatus:a.httpStatus},r),a.error}throw a instanceof Ie?a:wt(Me)}return Fc.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Br,t);const n=`https://${e}/${this.authority.tenant}/`,r=await Vc(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Qc(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}const Jc="sw";class Xc{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Wr,e.correlationId);const n=await Ds(this.generateKid.bind(this),Wr,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement($r,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:Jc}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:i,shrNonce:s,shrOptions:c}=n,l=a?new An(a):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:It(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:i||void 0,...r},t,c,n.correlationId)}}class Zc{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class el{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?wt(Fe,"Cached State"):wt(Fe,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw wt(Oe,e.state)}try{r=decodeURIComponent(t)}catch(o){throw wt(Oe,e.state)}if(n!==r)throw wt(Le);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(Ws(e.error,e.error_description,e.suberror))throw new Ys(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Lc(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||c.NOT_AVAILABLE} - Timestamp: ${e.timestamp||c.NOT_AVAILABLE} - Description: ${e.error_description||c.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||c.NOT_AVAILABLE} - Trace ID: ${e.trace_id||c.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new Lc(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=d&&e.status<=h)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=l&&e.status<=u)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(Ws(e.error,e.error_description,e.suberror))throw new Ys(e.error,e.error_description,e.suberror,e.timestamp||c.EMPTY_STRING,e.trace_id||c.EMPTY_STRING,e.correlation_id||c.EMPTY_STRING,e.claims||c.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,a,i,s,l){let u,d;if(this.performanceClient?.addQueueMeasurement(Qr,e.correlation_id),e.id_token){if(u=St(e.id_token||c.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw wt(qe);if(r.maxAge||0===r.maxAge){const e=u.auth_time;if(!e)throw wt(He);Tt(e,r.maxAge)}}this.homeAccountIdentifier=In.generateHomeAccountId(e.client_info||c.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),o&&o.state&&(d=Qs.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,u,a,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new Zc(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),i&&!s&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await el.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return el.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,e,l)}generateCacheRecord(e,t,n,r,o,a,i){const s=t.getPreferredCache();if(!s)throw wt(Ze);const c=Tn(o);let l,u;e.id_token&&o&&(l=At(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=tl(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,c,i,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?fn.fromString(e.scope):new fn(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+i,p=h+l,f=u&&u>0?n+u:void 0;d=Pt(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,p,this.cryptoObj.base64Decode,f,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Rt(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,a,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,t,n,r,o,a,i,s,l){let u,d,h=c.EMPTY_STRING,p=[],f=null,g=c.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Q.POP||o.popKid)h=n.accessToken.secret;else{const t=new Xc(e),{secret:r,keyId:a}=n.accessToken;if(!a)throw wt(dt);h=await t.signPopToken(r,a,o)}p=fn.fromString(n.accessToken.target).asArray(),f=new Date(1e3*Number(n.accessToken.expiresOn)),u=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(d=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(g=n.appMetadata.familyId===U?U:"");const m=a?.oid||a?.sub||"",y=a?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const v=n.account?wn(n.account.getAccountInfo(),void 0,a,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:m,tenantId:y,scopes:p,account:v,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:h,fromCache:r,expiresOn:f,extExpiresOn:u,refreshOn:d,correlationId:o.correlationId,requestId:l||c.EMPTY_STRING,familyId:g,tokenType:n.accessToken?.tokenType||c.EMPTY_STRING,state:i?i.userRequestState:c.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||c.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||c.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function tl(e,t,n,r,o,a,i,s,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const p=h||In.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:a,environment:i,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),f=p.tenantProfiles||[],g=s||p.realm;if(g&&!f.find((e=>e.tenantId===g))){const e=vn(n,p.localAccountId,g,o);f.push(e)}return p.tenantProfiles=f,p}async function nl(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class rl extends Gc{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(qr,e.correlationId);const t=await Ds(this.createAuthCodeUrlQueryString.bind(this),Yr,this.logger,this.performanceClient,e.correlationId)(e);return An.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(zr,e.correlationId),!e.code)throw wt(Ke);const n=It(),r=await Ds(this.executeTokenRequest.bind(this),jr,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[w],a=new el(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),Ds(a.handleServerTokenResponse.bind(a),Qr,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new el(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw wt(ct);return e}getLogoutUri(e){if(!e)throw hn(Gt);const t=this.createLogoutUrlQueryString(e);return An.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(jr,t.correlationId);const n=this.createTokenQueryParameters(t),r=An.appendQueryString(e.tokenEndpoint,n),o=await Ds(this.createTokenRequestBody.bind(this),Kr,this.logger,this.performanceClient,t.correlationId)(t);let a;if(t.clientInfo)try{const e=gn(t.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${e.uid}${F}${e.utid}`,type:Vs}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const i=this.createTokenRequestHeaders(a||t.ccsCredential),s={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return Ds(this.executePostToTokenEndpoint.bind(this),gr,this.logger,this.performanceClient,t.correlationId)(r,o,i,s,t.correlationId,gr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Kr,e.correlationId);const t=new Qc(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[qc]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):$c.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Qn(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await nl(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(x),t.addClientInfo(),e.authenticationScheme===Q.POP){const n=new Xc(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ds(n.generateCnf.bind(n),Wr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===Q.SSH){if(!e.sshJwk)throw hn(nn);t.addSshJwk(e.sshJwk)}let n;if((!pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=gn(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${F}${t.utid}`,type:Vs}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Vs:try{const e=mn(n.credential);t.addCcsOid(e)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Gs:t.addCcsUpn(n.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[jc]||t.addExtraQueryParameters({[jc]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){const t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(Yr,t);const n=new Qc(t,this.performanceClient);n.addClientId(e.embeddedClientId||e.extraQueryParameters?.[qc]||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),Qn(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&(n.addDomainHint(e.domainHint),this.performanceClient?.addFields({domainHintFromRequest:!0},t)),this.performanceClient?.addFields({prompt:e.prompt},t),e.prompt!==_.SELECT_ACCOUNT)if(e.sid&&e.prompt===_.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid),this.performanceClient?.addFields({sidFromRequest:!0},t);else if(e.account){const r=this.extractAccountSid(e.account);let a=this.extractLoginHint(e.account);if(a&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),a=null),a){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(a),this.performanceClient?.addFields({loginHintFromClaim:!0},t);try{const t=mn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(r&&e.prompt===_.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(r),this.performanceClient?.addFields({sidFromClaim:!0},t);try{const t=mn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username),this.performanceClient?.addFields({loginHintFromUpn:!0},t);try{const t=mn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.platformBroker&&(n.addNativeBroker(),e.authenticationScheme===Q.POP)){const t=new Xc(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ds(t.generateCnf.bind(t),Wr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new Qc(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function ol(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:a}=e,i=new Map([[0,[n,r]],[2,[o,a]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return i.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class al{constructor(e,t){this.cacheOutcome=de,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||c.EMPTY_STRING,this.wrapperVer=e.wrapperVer||c.EMPTY_STRING,this.telemetryCacheKey=$.CACHE_KEY+L+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${$.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join($.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join($.VALUE_SEPARATOR);return[$.SCHEMA_VERSION,o,r].join($.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=al.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join($.VALUE_SEPARATOR),r=e.errors.slice(0,t).join($.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?$.OVERFLOW_TRUE:$.OVERFLOW_FALSE].join($.VALUE_SEPARATOR);return[$.SCHEMA_VERSION,e.cacheHits,n,r,a].join($.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=$.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ie?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push($.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=al.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||c.EMPTY_STRING,a=e.failedRequests[2*t+1]||c.EMPTY_STRING,i=e.errors[t]||c.EMPTY_STRING;if(r+=o.toString().length+a.toString().length+i.length+3,!(r<$.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||c.EMPTY_STRING),e.push(this.regionSource||c.EMPTY_STRING),e.push(this.regionOutcome||c.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return ol(e)}}class il{constructor(e,t,n,r,o,a,i,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=s,this.correlationId=c||Gi(),this.logger=r.clone(Lo,ws,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){In.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(In.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return An.getAbsoluteUrl(t,ds())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new al(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(ur,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=n?.length?"true"===n:this.config.auth.instanceAware,i=t&&a?this.config.auth.authority.replace(An.getDomainFromUrl(o),t.environment):o,s=Ls.generateAuthority(i,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Ds(Vc,Gr,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw hn(ln);return c}}async function sl(e,t,n){e.addQueueMeasurement(yo,n);const r=Ns(cl,vo,t,e,n)(e,t,n);return{verifier:r,challenge:await Ds(ll,wo,t,e,n)(r,e,t,n)}}function cl(e,t,n){try{const r=new Uint8Array(32);Ns(Qi,Co,t,e,n)(r);return Ni(r)}catch(r){throw Ai(xa)}}async function ll(e,t,n,r){t.addQueueMeasurement(wo,r);try{const o=await Ds($i,bo,n,t,r)(e,t,r);return Ni(new Uint8Array(o))}catch(o){throw Ai(xa)}}async function ul(e,t,n,r){n.addQueueMeasurement(Ir,e.correlationId);const o=e.authority||t.auth.authority,a=[...e&&e.scopes||[]],i={...e,correlationId:e.correlationId,authority:o,scopes:a};if(i.authenticationScheme){if(i.authenticationScheme===Q.SSH){if(!e.sshJwk)throw hn(nn);if(!e.sshKid)throw hn(rn)}r.verbose(`Authentication Scheme set to "${i.authenticationScheme}" as configured in Auth request`)}else i.authenticationScheme=Q.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!pn.isEmptyObj(e.claims)&&(i.requestedClaimsHash=await rs(e.claims)),i}async function dl(e,t,n,r,o){r.addQueueMeasurement(Er,e.correlationId);const a=await Ds(ul,Ir,o,r,e.correlationId)(e,n,r,o);return{...e,...a,account:t,forceRefresh:e.forceRefresh||!1}}class hl extends il{async initializeAuthorizationCodeRequest(e,t){this.performanceClient.addQueueMeasurement(Fr,this.correlationId);const n=t||await Ds(sl,yo,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...e,redirectUri:e.redirectUri,code:c.EMPTY_STRING,codeVerifier:n.verifier};return e.codeChallenge=n.challenge,e.codeChallengeMethod=c.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Gi(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=An.getAbsoluteUrl(e.postLogoutRedirectUri,ds())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=An.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ds())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=An.getAbsoluteUrl(ds(),ds())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Dr,this.correlationId);const t=await Ds(this.getClientConfiguration.bind(this),Or,this.logger,this.performanceClient,this.correlationId)(e);return new rl(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(Or,this.correlationId);const i=await Ds(this.getDiscoveredAuthority.bind(this),ur,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:a}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:i,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Lo,version:ws,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Lr,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Qs.setRequestState(this.browserCrypto,e&&e.state||c.EMPTY_STRING,r),a={...await Ds(ul,Ir,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Gi(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return a;const i=e.account||this.browserStorage.getActiveAccount();return i&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${i.homeAccountId}`,this.correlationId),a.account=i),a}}const pl="user_switch",fl={[pl]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class gl extends Ie{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,gl.prototype),this.name="NativeAuthError",this.ext=n}}function ml(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function yl(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return $s(Hs);case"USER_INTERACTION_REQUIRED":return new Ys(e,t);case"USER_CANCEL":return Ai(za);case"NO_NETWORK":return Ai(ai)}return new gl(e,fl[e]||t,n)}class vl extends Gc{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(kr,e.correlationId);let t=de;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!pn.isEmptyObj(e.claims))throw this.setCacheOutcome(he,e.correlationId),wt(at);if(!e.account)throw wt(Je);const n=e.account.tenantId||function(e){const t=new An(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case k:case S:case T:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(pe,e.correlationId),wt(at);if(a=o.cachedAt,Number(a)>It()||Et(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(fe,e.correlationId),wt(at);var a;o.refreshOn&&Et(o.refreshOn,0)&&(t=ge);const i=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(i)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ds(this.generateResultFromCacheRecord.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==de&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Sr,t.correlationId),e.idToken&&(n=St(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw wt(He);Tt(e,t.maxAge)}return el.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class wl extends hl{async acquireToken(e){this.performanceClient.addQueueMeasurement(ar,e.correlationId);const t=this.initializeServerTelemetryManager(fa),n=await Ds(this.getClientConfiguration.bind(this),Or,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new vl(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ds(r.acquireCachedToken.bind(r),kr,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof _i&&o.errorCode===ui&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class bl extends il{constructor(e,t,n,r,o,a,i,s,c,l,u,d){super(e,t,n,r,o,a,s,c,d),this.apiId=i,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new wl(e,this.nativeStorageManager,n,r,o,a,s,c,d);const h=this.nativeMessageHandler.getExtensionId()===qo?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=al.makeExtraSkuString({libraryName:Lo,libraryVersion:ws,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Kc]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(hr,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(hr,e.correlationId),r=It(),o=this.initializeServerTelemetryManager(this.apiId);try{const i=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(a){if(t===ka)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),a;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=i,c={method:zo,request:s},l=await this.nativeMessageHandler.sendMessage(c),u=this.validateNativeResponse(l);return await this.handleNativeResponse(u,i,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(a){throw a instanceof gl&&o.setNativeBrokerErrorCode(a.errorCode),a}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:fn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),wt(et);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw wt(et);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:zo,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof gl){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(s.errorCode),ml(s))throw s}}this.browserStorage.setTemporaryCache(oa,JSON.stringify(r),!0);const a={apiId:la,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(i,a)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(oa));const a={method:zo,request:o},i=It();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,i);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=St(e.id_token,Li),o=this.createHomeAccountIdentifier(e,r),a=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==a&&e.account.id!==t.accountId)throw yl(pl);const i=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=tl(this.browserStorage,i,o,Li,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,r,s,i.canonicalAuthority,n);return await this.cacheAccount(s),await this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return In.generateHomeAccountId(e.client_info||c.EMPTY_STRING,bn,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?fn.fromString(e.scope):fn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Q.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new Xc(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw wt(dt);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,a){const i=this.addTelemetryFromNativeResponse(e),s=e.scope?fn.fromString(e.scope):fn.fromString(t.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||c.EMPTY_STRING,d=l.TenantId||n.tid||c.EMPTY_STRING,h=wn(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const p=await this.generatePopAccessToken(e,t),f=t.tokenType===Q.POP?Q.POP:Q.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:s.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:p,fromCache:!!i&&this.isResponseFromCache(i),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,a,i){const s=At(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=i+(t.tokenType===Q.POP?c.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d={idToken:s,accessToken:Pt(n,t.authority,o,t.clientId,r.tid||a,u.printScopes(),l,0,Li,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(d,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Ee(ke,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new An(t);n.validateAsUri();const{scopes:r,...o}=e,a=new fn(r||[]);a.appendScopes(p);const i={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case da:case fa:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),_.NONE}if(e.prompt)switch(e.prompt){case _.NONE:case _.CONSENT:case _.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Ai(bi)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(i.signPopToken&&e.popKid)throw Ai(ki);if(this.handleExtraBrokerParams(i),i.extraParameters=i.extraParameters||{},i.extraParameters.telemetry=Ho,e.authenticationScheme===Q.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new Xc(this.browserCrypto);let r;if(i.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:i.keyId})),i.signPopToken=!1;else{const o=await Ds(n.generateCnf.bind(n),Wr,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,i.keyId=o.kid,i.signPopToken=!0}i.reqCnf=r}return this.addRequestSKUs(i),i}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Yc)&&e.extraParameters.hasOwnProperty(Wc)&&e.extraParameters.hasOwnProperty(qc);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Wc],n=e.extraParameters[qc]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}class Cl{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(lo)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Fo,extensionId:this.extensionId,responseId:Gi(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Cl(e,t,n,qo);return await r.sendHandshakeRequest(),r}catch(r){const o=new Cl(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Fo,extensionId:this.extensionId,responseId:Gi(),body:{method:Uo}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Ai(mi)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Fo&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Uo){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Ai(yi))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===jo){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(yl(e.code,e.description,e.ext));else{if(!e.result)throw Ee(ke,"Event does not contain result.");e.result.code&&e.result.description?n.reject(yl(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Bo){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case Q.BEARER:case Q.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class kl{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Ur,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof Lc&&r.subError===za?Ai(za):r}return Ds(this.handleCodeResponseFromServer.bind(this),Hr,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Hr,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ds(this.authModule.updateAuthority.bind(this.authModule),Br,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ds(this.authModule.acquireToken.bind(this.authModule),zr,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Vs}:e.loginHint?{credential:e.loginHint,type:Gs}:null}}function Sl(e,t,n){const r=_n(e);if(!r)throw En(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),Ai(La)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),Ai(Da));return r}class Tl extends hl{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||p,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(n){return Promise.reject(n)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(ua),o=await Ds(this.initializeAuthorizationRequest.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)(e,ya.Popup);t.popup&&ys(o.authority);try{const a=await Ds(this.initializeAuthorizationCodeRequest.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)(o,n),i=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),s=Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;s&&(c=this.performanceClient.startMeasurement(dr,e.correlationId));const l=await i.getAuthCodeUrl({...o,platformBroker:s}),u=new kl(i,this.browserStorage,a,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(_c,ya.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,t.popupWindowParent),p=Ns(Sl,Vr,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Fc.removeThrottle(this.browserStorage,this.config.auth.clientId,a),p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw Ai(vi);const e=new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ua,this.performanceClient,this.nativeMessageHandler,p.accountId,this.nativeStorage,o.correlationId),{userRequestState:t}=Qs.parseRequestState(this.browserCrypto,o.state);return await e.acquireToken({...o,state:t,prompt:void 0})}return await u.handleCodeResponse(p,o)}catch(a){throw t.popup?.close(),a instanceof Ie&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),a}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Ac,ya.Popup,e);const o=this.initializeServerTelemetryManager(ma);try{await this.clearCacheOnLogout(e.account);const a=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{a.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&a.authority.protocolMode===be){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Pc,ya.Popup,e),r){const e={apiId:ma,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=An.getAbsoluteUrl(r,ds());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const i=a.getLogoutUri(e);this.eventHandler.emitEvent(Pc,ya.Popup,e);const s=this.openPopup(i,t);if(this.eventHandler.emitEvent(_c,ya.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:ma,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=An.getAbsoluteUrl(r,ds());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(a){throw t.popup?.close(),a instanceof Ie&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Rc,ya.Popup,null,a),this.eventHandler.emitEvent(xc,ya.Popup),a}this.eventHandler.emitEvent(xc,ya.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Ai(Na)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Ai(za));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let a="";const i=this.config.auth.OIDCOptions.serverResponseType;e&&(a=i===P.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(a)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw Ai(Ba);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),Ai(Ua)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const a=o.screenLeft?o.screenLeft:o.screenX,i=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Mo),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=No),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-No/2+i)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-Mo/2+a)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(ya.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Do}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Do}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Il{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(Xo,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(ra,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:la,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Ai(Na)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw wt(Fe,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(c){throw c instanceof Lc&&c.subError===za?Ai(za):c}const a=this.browserStorage.generateNonceKey(r),i=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Ds(this.authModule.updateAuthority.bind(this.authModule),Br,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=i||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(na,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class El extends hl{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,i,c,l),this.nativeStorage=s}async acquireToken(e){const t=await Ds(this.initializeAuthorizationRequest.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)(e,ya.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(la),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Mc,ya.Redirect))};try{const o=await Ds(this.initializeAuthorizationCodeRequest.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)(t),a=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Il(a,this.browserStorage,o,this.logger,this.performanceClient),s=await a.getAuthCodeUrl({...t,platformBroker:Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",r),await i.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Ie&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(ha);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(ya.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(Xo,!0)||c.EMPTY_STRING,i=An.removeHashFromUrl(a);if(i===An.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!us()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Zo,o,!0);const e={apiId:ha,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),t=await this.navigationClient.navigateInternal(a,e);else{const n=function(){const e=new An(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(Xo,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(ya.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===P.QUERY?window.location.search:window.location.hash);let n=_n(t);if(n){try{!function(e,t,n){if(!e.state)throw Ai(Oa);const r=ic(t,e.state);if(!r)throw Ai(Fa);if(r.interactionType!==n)throw Ai(qa)}(n,this.browserCrypto,ya.Redirect)}catch(a){return a instanceof Ie&&this.logger.error(`Interaction type validation failed due to ${a.errorCode}: ${a.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(Zo,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Zo)),o&&(n=_n(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw Ai(Oa);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ai(vi);const t=new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ua,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=Qs.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw Ai(ei);const a=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});Fc.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Il(a,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(ga);try{this.eventHandler.emitEvent(Ac,ya.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:ga,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===be)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Pc,ya.Redirect,t)}const a=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Pc,ya.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);if(!1!==e.onRedirectNavigate(a))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(Rc,ya.Redirect,null,r),this.eventHandler.emitEvent(xc,ya.Redirect),r}this.eventHandler.emitEvent(xc,ya.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return An.getAbsoluteUrl(t,ds())}}async function _l(e,t,n,r,o){if(t.addQueueMeasurement(Rr,r),!e)throw n.info("Navigate url is empty"),Ai(Na);return o?Ds(Pl,Mr,n,t,r)(e,o,t,r):Ns(Rl,Nr,n,t,r)(e)}async function Al(e,t,n,r,o,a,i){return r.addQueueMeasurement(xr,a),new Promise(((r,a)=>{t<vs&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(c),a(Ai(Ka))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(a){}if(!t||"about:blank"===t)return;let o="";n&&(o=i===P.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)}),n)})).finally((()=>{Ns(Ml,uo,o,r,a)(e)}))}function Pl(e,t,n,r){return n.addQueueMeasurement(Mr,r),new Promise(((n,r)=>{const o=xl();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Rl(e){const t=xl();return t.src=e,t}function xl(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Ml(e){document.body===e.parentNode&&document.body.removeChild(e)}class Nl extends hl{constructor(e,t,n,r,o,a,i,s,c,l,u){super(e,t,n,r,o,a,s,l,u),this.apiId=i,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(ir,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==_.NONE&&t.prompt!==_.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${_.NONE}`),t.prompt=_.NONE):t.prompt=_.NONE;const n=await Ds(this.initializeAuthorizationRequest.bind(this),Lr,this.logger,this.performanceClient,e.correlationId)(t,ya.Silent);ys(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Ds(this.createAuthCodeClient.bind(this),Dr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Ds(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(a){if(a instanceof Ie&&(a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a)),!o||!(a instanceof Ie)||a.errorCode!==xo)throw a;this.performanceClient.addFields({retryError:a.errorCode},this.correlationId);const n=await Ds(this.initializeAuthorizationRequest.bind(this),Lr,this.logger,this.performanceClient,e.correlationId)(t,ya.Silent);return await Ds(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,this.correlationId)(o,n)}}logout(){return Promise.reject(Ai(Va))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Pr,n);const r=await Ds(this.initializeAuthorizationCodeRequest.bind(this),Fr,this.logger,this.performanceClient,n)(t),o=await Ds(e.getAuthCodeUrl.bind(e),qr,this.logger,this.performanceClient,n)({...t,platformBroker:Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),a=new kl(e,this.browserStorage,r,this.logger,this.performanceClient),i=await Ds(_l,Rr,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,c=await Ds(Al,xr,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),l=Ns(Sl,Vr,this.logger,this.performanceClient,this.correlationId)(c,s,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw Ai(vi);const e=new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:r}=Qs.parseRequestState(this.browserCrypto,t.state);return Ds(e.acquireToken.bind(e),hr,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||_.NONE})}return Ds(a.handleCodeResponse.bind(a),Ur,this.logger,this.performanceClient,n)(l,t)}}class Dl extends Gc{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(yr,e.correlationId);const t=It(),n=await Ds(this.executeTokenRequest.bind(this),mr,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[w],o=new el(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Ds(o.handleServerTokenResponse.bind(o),Qr,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw hn(Vt);if(this.performanceClient?.addQueueMeasurement(wr,e.correlationId),!e.account)throw wt(Je);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ds(this.acquireTokenWithCachedRefreshToken.bind(this),vr,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof Ys&&t.errorCode===qs,r=t instanceof Lc&&t.errorCode===Z&&t.subError===ee;if(n||r)return Ds(this.acquireTokenWithCachedRefreshToken.bind(this),vr,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return Ds(this.acquireTokenWithCachedRefreshToken.bind(this),vr,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(vr,e.correlationId);const n=Ns(this.cacheManager.getRefreshToken.bind(this.cacheManager),po,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw $s(qs);if(n.expiresOn&&Et(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),$s(Us);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Q.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Vs}};try{return await Ds(this.acquireToken.bind(this),yr,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof Ys&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),o.subError===Bs)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=_t(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(mr,e.correlationId);const n=this.createTokenQueryParameters(e),r=An.appendQueryString(t.tokenEndpoint,n),o=await Ds(this.createTokenRequestBody.bind(this),br,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),i={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return Ds(this.executePostToTokenEndpoint.bind(this),fr,this.logger,this.performanceClient,e.correlationId)(r,o,a,i,e.correlationId,fr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(br,e.correlationId);const t=e.correlationId,n=new Qc(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[qc]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(M),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Qn(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await nl(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===Q.POP){const t=new Xc(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ds(t.generateCnf.bind(t),Wr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===Q.SSH){if(!e.sshJwk)throw hn(nn);n.addSshJwk(e.sshJwk)}if((!pn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Vs:try{const t=mn(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Gs:n.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Ol extends hl{async acquireToken(e){this.performanceClient.addQueueMeasurement(cr,e.correlationId);const t=await Ds(ul,Ir,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(fa),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ds(o.acquireTokenByRefreshToken.bind(o),wr,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Ai(Va))}async createRefreshTokenClient(e){const t=await Ds(this.getClientConfiguration.bind(this),Or,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Dl(t,this.performanceClient)}}class Ll{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Ai(ri);const r=e.correlationId||Gi(),o=t.id_token?St(t.id_token,Li):void 0,a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.authority?new Ls(Ls.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,a,this.logger,e.correlationId||Gi()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,i),c=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),l=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:c,accessToken:l,refreshToken:u},o,i)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=In.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Ai(li);const a=In.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),i=r?.tid,s=tl(this.storage,o,a,Li,r,t,o.hostnameAndPort,i,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const a=At(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(a,o),a}async loadAccessToken(e,t,n,r,o,a,i){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?fn.fromString(t.scope):new fn(e.scopes),c=a.expiresOn||t.expires_in+(new Date).getTime()/1e3,l=a.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+(new Date).getTime()/1e3,u=Pt(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),c,l,Li);return await this.storage.setAccessTokenCredential(u,i),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Rt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){let o,a="",i=[],s=null;t?.accessToken&&(a=t.accessToken.secret,i=fn.fromString(t.accessToken.target).asArray(),s=new Date(1e3*Number(t.accessToken.expiresOn)),o=new Date(1e3*Number(t.accessToken.extendedExpiresOn)));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:i,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:a,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class Fl extends rl{constructor(e){super(e),this.includeRedirectUri=!1}}class ql extends hl{constructor(e,t,n,r,o,a,i,s,c,l){super(e,t,n,r,o,a,s,c,l),this.apiId=i}async acquireToken(e){if(!e.code)throw Ai(di);const t=await Ds(this.initializeAuthorizationRequest.bind(this),Lr,this.logger,this.performanceClient,e.correlationId)(e,ya.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Ds(this.getClientConfiguration.bind(this),Or,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Fl(o);this.logger.verbose("Auth code client created");const i=new kl(a,this.browserStorage,r,this.logger,this.performanceClient);return await Ds(i.handleCodeResponseFromServer.bind(i),Hr,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(Ai(Va))}}function Hl(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Ul(e,t){try{gs(e)}catch(n){throw t.end({success:!1},n),n}}class Bl{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new xs(this.logger,this.performanceClient):bt,this.eventHandler=new Oc(this.logger),this.browserStorage=this.isBrowserEnvironment?new Nc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw hn(Zt)}return{canonicalAuthority:e.authority?Fs(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new Nc(t,{cacheLocation:Wo,temporaryCacheLocation:Wo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},bt,n,r,o));const a={cacheLocation:Wo,temporaryCacheLocation:Wo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Nc(this.config.auth.clientId,a,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Ll(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Bl(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(cc);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(_r,t);if(this.eventHandler.emitEvent(sc),await Ds(this.browserStorage.initialize.bind(this.browserStorage),Ar,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await Cl.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ds(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),ho,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t),this.initialized=!0,this.eventHandler.emitEvent(cc),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),fs(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(ra,!0)||"",a=this.performanceClient.startMeasurement(nr,o);let i;if(this.eventHandler.emitEvent(Ic,ya.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ha,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);i=Ds(e.handleRedirectPromise.bind(e),co,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);i=Ds(t.handleRedirectPromise.bind(t),so,this.logger,this.performanceClient,a.event.correlationId)(e,a)}return i.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(pc,ya.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(mc,ya.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Hl(e.account)})}else a.event.errorCode?a.end({success:!1}):a.discard();return this.eventHandler.emitEvent(Ec,ya.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(yc,ya.Redirect,null,n):this.eventHandler.emitEvent(fc,ya.Redirect,null,n),this.eventHandler.emitEvent(Ec,ya.Redirect),a.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(tr,t);n.add({accountType:Hl(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(ms(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(gc,ya.Redirect,e):this.eventHandler.emitEvent(hc,ya.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,la,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof gl&&ml(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Ys){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(a){throw n.end({success:!1},a),o?this.eventHandler.emitEvent(yc,ya.Redirect,null,a):this.eventHandler.emitEvent(fc,ya.Redirect,null,a),a}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(er,t);n.add({scenarioId:e.scenarioId,accountType:Hl(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Ul(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(i){return Promise.reject(i)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(gc,ya.Popup,e):this.eventHandler.emitEvent(hc,ya.Popup,e);const a=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative({...e,correlationId:t},ua).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:Hl(e.account)}),e))).catch((n=>{if(n instanceof gl&&ml(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,a)}if(n instanceof Ys){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,a)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e,a)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(pc,ya.Popup,e):this.eventHandler.emitEvent(mc,ya.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Hl(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(yc,ya.Popup,null,e):this.eventHandler.emitEvent(fc,ya.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((()=>this.config.system.asyncPopups&&this.preGeneratePkceCodes(t)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(lr,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Hl(e.account)}),Ul(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(wc,ya.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,da).catch((e=>{if(e instanceof gl&&ml(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(bc,ya.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Hl(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Cc,ya.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Gn,t);Ul(this.initialized,n),this.eventHandler.emitEvent(kc,ya.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Ai(pi);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Sc,ya.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Hl(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Tc,ya.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},pa,e.nativeAccountId).catch((e=>{throw e instanceof gl&&ml(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Hl(r.account),success:!0}),r}throw Ai(gi)}throw Ai(hi)}catch(r){throw this.eventHandler.emitEvent(Tc,ya.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(io,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Cr,e.correlationId),t){case Ca:case ka:case Sa:const t=this.createSilentCacheClient(e.correlationId);return Ds(t.acquireToken.bind(t),ar,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(at)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Jn,e.correlationId),t){case Ca:case Sa:case Ta:case Ia:const t=this.createSilentRefreshClient(e.correlationId);return Ds(t.acquireToken.bind(t),cr,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(at)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Tr,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ds(t.acquireToken.bind(t),ir,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);ms(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);gs(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=In.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Ai(vi);return new bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case _.NONE:case _.CONSENT:case _.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Tl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new El(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Nl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,da,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new wl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Ol(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new ql(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pa,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return ps(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Ko?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Ko?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Gi():c.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||va})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||va})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Xn,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Ul(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Ai(Ga);n.add({accountType:Hl(r)});const o={clientId:this.config.auth.clientId,authority:e.authority||c.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},a=JSON.stringify(o),i=this.activeSilentTokenRequests.get(a);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=Ds(this.acquireTokenSilentAsync.bind(this),Zn,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(a),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(a),n.end({success:!1},e),e}));return this.activeSilentTokenRequests.set(a,o),{...await o,state:e.state}}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),{...await i,state:e.state}}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Zn,e.correlationId),this.eventHandler.emitEvent(gc,ya.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Ds(dl,Er,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Ca;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Ys&&e.subError!==Bs),r=e.errorCode===xo||e.errorCode===at,o=n&&r||e.errorCode===qs||e.errorCode===Us,a=_a.includes(t);return o&&a}(e,o);if(t){if(this.activeIframeRequest){if(o!==Ea){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const a=this.performanceClient.startMeasurement(sr,r.correlationId);a.add({awaitIframeCorrelationId:n});const i=await t;if(a.end({success:i}),i)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Ds(this.acquireTokenBySilentIframe.bind(this),Tr,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Ds(this.acquireTokenBySilentIframe.bind(this),Tr,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(mc,ya.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(yc,ya.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Cl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,fa,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof gl&&ml(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,wt(at);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===ka&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Ds(this.acquireTokenFromCache.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===ka)throw n;return this.eventHandler.emitEvent(vc,ya.Silent,e),Ds(this.acquireTokenByRefreshToken.bind(this),Jn,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Ds(sl,yo,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}}class zl{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Cs(e);return await n.initialize(),Bl.createController(n,t)}(e);return new zl(e,t)}constructor(e,t){this.controller=t||new Bl(new Cs(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const jl=n.p+"static/media/KJTech.6856cb53045bf96f74c0.png",Kl=n.p+"static/media/dff_logo.cb0b525fe175d62cca38.png";var Yl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wl=o.createContext&&o.createContext(Yl),$l=["attr","size","title"];function Ql(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zl(e){return e&&e.map(((e,t)=>o.createElement(e.tag,Jl({key:t},e.attr),Zl(e.child))))}function eu(e){return t=>o.createElement(tu,Vl({attr:Jl({},e.attr)},t),Zl(e.child))}function tu(e){var t=t=>{var n,{attr:r,size:a,title:i}=e,s=Ql(e,$l),c=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",Vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Jl(Jl({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==Wl?o.createElement(Wl.Consumer,null,(e=>t(e))):t(Yl)}function nu(e){return eu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function ru(e){return eu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function ou(e){return eu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function au(e){return eu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function iu(e){return eu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function su(e){return eu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}var cu=n(579);const lu=function(e){let{value:t,onChange:n}=e;return(0,cu.jsxs)("div",{className:"search-bar-container",children:[(0,cu.jsx)(iu,{className:"icon left-icon"}),(0,cu.jsx)("input",{type:"text",value:t,onChange:n,className:"search-bar-input",placeholder:"Search by room name..."})]})};function uu(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=uu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function du(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=uu(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const hu=6048e5,pu=6e4,fu=36e5,gu=Symbol.for("constructDateFrom");function mu(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&gu in e?e[gu](t):e instanceof Date?new e.constructor(t):new Date(t)}function yu(e,t){return mu(t||e,e)}function vu(e,t){const n=()=>mu(t?.in,NaN),r=t?.additionalDigits??2,o=function(e){const t={},n=e.split(wu.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=wu.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let a;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(bu);if(!n)return new Date(NaN);const r=!!n[4],o=Su(n[1]),a=Su(n[2])-1,i=Su(n[3]),s=Su(n[4]),c=Su(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,a=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}(t,s,c):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Iu[t]||(Eu(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(Eu(e)?366:365)}(t,o)?(e.setUTCFullYear(t,a,Math.max(o,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return n();const i=+a;let s,c=0;if(o.time&&(c=function(e){const t=e.match(Cu);if(!t)return NaN;const n=Tu(t[1]),r=Tu(t[2]),o=Tu(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o))return NaN;return n*fu+r*pu+1e3*o}(o.time),isNaN(c)))return n();if(!o.timezone){const e=new Date(i+c),n=yu(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(ku);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(r*fu+o*pu)}(o.timezone),isNaN(s)?n():yu(i+c+s,t?.in)}const wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bu=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Cu=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ku=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Su(e){return e?parseInt(e):1}function Tu(e){return e&&parseFloat(e.replace(",","."))||0}const Iu=[31,null,31,30,31,30,31,31,30,31,30,31];function Eu(e){return e%400===0||e%4===0&&e%100!==0}const _u={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Au(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Pu={date:Au({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Au({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Au({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ru={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xu(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Mu={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:xu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:xu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Nu(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(i))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(i)));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(i.length)}}}const Du={ordinalNumber:(Ou={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Ou.matchPattern);if(!n)return null;const r=n[0],o=e.match(Ou.parsePattern);if(!o)return null;let a=Ou.valueCallback?Ou.valueCallback(o[0]):o[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:Nu({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Nu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nu({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Nu({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Nu({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Ou;const Lu={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=_u[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Pu,formatRelative:(e,t,n,r)=>Ru[e],localize:Mu,match:Du,options:{weekStartsOn:0,firstWeekContainsDate:1}},Fu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qu=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Hu={p:qu,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Fu(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Fu(r,t)).replace("{{time}}",qu(o,t))}},Uu=/^D+$/,Bu=/^Y+$/,zu=["D","DD","YY","YYYY"];function ju(e){return Uu.test(e)}function Ku(e){return Bu.test(e)}function Yu(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),zu.includes(e))throw new RangeError(r)}let Wu={};function $u(){return Wu}function Qu(){return Object.assign({},$u())}function Vu(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):mu(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Gu{subPriority=0;validate(e,t){return!0}}class Ju extends Gu{constructor(e,t,n,r,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Xu extends Gu{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>mu(t,e))}set(e,t){return t.timestampIsSet?e:mu(e,Vu(e,this.context))}}class Zu{run(e,t,n,r){const o=this.parse(e,t,n,r);return o?{setter:new Ju(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}const ed=/^(1[0-2]|0?\d)/,td=/^(3[0-1]|[0-2]?\d)/,nd=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,rd=/^(5[0-3]|[0-4]?\d)/,od=/^(2[0-3]|[0-1]?\d)/,ad=/^(2[0-4]|[0-1]?\d)/,id=/^(1[0-1]|0?\d)/,sd=/^(1[0-2]|0?\d)/,cd=/^[0-5]?\d/,ld=/^[0-5]?\d/,ud=/^\d/,dd=/^\d{1,2}/,hd=/^\d{1,3}/,pd=/^\d{1,4}/,fd=/^-?\d+/,gd=/^-?\d/,md=/^-?\d{1,2}/,yd=/^-?\d{1,3}/,vd=/^-?\d{1,4}/,wd=/^([+-])(\d{2})(\d{2})?|Z/,bd=/^([+-])(\d{2})(\d{2})|Z/,Cd=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,kd=/^([+-])(\d{2}):(\d{2})|Z/,Sd=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Td(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Id(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ed(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(o*fu+a*pu+1e3*i),rest:t.slice(n[0].length)}}function _d(e){return Id(fd,e)}function Ad(e,t){switch(e){case 1:return Id(ud,t);case 2:return Id(dd,t);case 3:return Id(hd,t);case 4:return Id(pd,t);default:return Id(new RegExp("^\\d{1,"+e+"}"),t)}}function Pd(e,t){switch(e){case 1:return Id(gd,t);case 2:return Id(md,t);case 3:return Id(yd,t);case 4:return Id(vd,t);default:return Id(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Rd(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function xd(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const t=r+50;o=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?o:1-o}function Md(e){return e%400===0||e%4===0&&e%100!==0}function Nd(e,t){const n=$u(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=yu(e,t?.in),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function Dd(e,t){const n=yu(e,t?.in),r=n.getFullYear(),o=$u(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=mu(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const s=Nd(i,t),c=mu(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const l=Nd(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function Od(e,t){return Nd(e,{...t,weekStartsOn:1})}function Ld(e,t){const n=$u(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Dd(e,t),a=mu(t?.in||e,0);a.setFullYear(o,0,r),a.setHours(0,0,0,0);return Nd(a,t)}function Fd(e,t){const n=yu(e,t?.in),r=+Nd(n,t)-+Ld(n,t);return Math.round(r/hu)+1}function qd(e,t,n){const r=yu(e,n?.in),o=Fd(r,n)-t;return r.setDate(r.getDate()-7*o),yu(r,n?.in)}function Hd(e,t){const n=yu(e,t?.in),r=n.getFullYear(),o=mu(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=Od(o),i=mu(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=Od(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Ud(e,t){const n=Hd(e,t),r=mu(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Od(r)}function Bd(e,t){const n=yu(e,t?.in),r=+Od(n)-+Ud(n);return Math.round(r/hu)+1}function zd(e,t,n){const r=yu(e,n?.in),o=Bd(r,n)-t;return r.setDate(r.getDate()-7*o),r}const jd=[31,28,31,30,31,30,31,31,30,31,30,31],Kd=[31,29,31,30,31,30,31,31,30,31,30,31];function Yd(e,t,n){const r=yu(e,n?.in);return isNaN(t)?mu(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Wd(e,t,n){const r=$u(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=yu(e,n?.in),i=a.getDay(),s=7-o;return Yd(a,t<0||t>6?t-(i+s)%7:((t%7+7)%7+s)%7-(i+s)%7,n)}function $d(e,t){const n=yu(e,t?.in).getDay();return 0===n?7:n}function Qd(e,t,n){const r=yu(e,n?.in);return Yd(r,t-$d(r,n),n)}function Vd(e){const t=yu(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Gd={G:new class extends Zu{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends Zu{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Td(Ad(4,e),r);case"yo":return Td(n.ordinalNumber(e,{unit:"year"}),r);default:return Td(Ad(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=xd(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}},Y:new class extends Zu{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Td(Ad(4,e),r);case"Yo":return Td(n.ordinalNumber(e,{unit:"year"}),r);default:return Td(Ad(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const o=Dd(e,r);if(n.isTwoDigitYear){const t=xd(n.year,o);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Nd(e,r)}const a="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(a,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Nd(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends Zu{priority=130;parse(e,t){return Pd("R"===t?4:t.length,e)}set(e,t,n){const r=mu(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Od(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends Zu{priority=130;parse(e,t){return Pd("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends Zu{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Ad(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends Zu{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Ad(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends Zu{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Td(Id(ed,e),r);case"MM":return Td(Ad(2,e),r);case"Mo":return Td(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends Zu{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Td(Id(ed,e),r);case"LL":return Td(Ad(2,e),r);case"Lo":return Td(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends Zu{priority=100;parse(e,t,n){switch(t){case"w":return Id(rd,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Ad(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Nd(qd(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends Zu{priority=100;parse(e,t,n){switch(t){case"I":return Id(rd,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Ad(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Od(zd(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends Zu{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return Id(td,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Ad(t.length,e)}}validate(e,t){const n=Md(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Kd[r]:t>=1&&t<=jd[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends Zu{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return Id(nd,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Ad(t.length,e)}}validate(e,t){return Md(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends Zu{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Wd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends Zu{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Td(Ad(t.length,e),o);case"eo":return Td(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Wd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends Zu{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Td(Ad(t.length,e),o);case"co":return Td(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Wd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends Zu{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Ad(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Td(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Td(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Td(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Td(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Qd(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends Zu{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends Zu{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends Zu{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends Zu{priority=70;parse(e,t,n){switch(t){case"h":return Id(sd,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ad(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends Zu{priority=70;parse(e,t,n){switch(t){case"H":return Id(od,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Ad(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends Zu{priority=70;parse(e,t,n){switch(t){case"K":return Id(id,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ad(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends Zu{priority=70;parse(e,t,n){switch(t){case"k":return Id(ad,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Ad(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends Zu{priority=60;parse(e,t,n){switch(t){case"m":return Id(cd,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Ad(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends Zu{priority=50;parse(e,t,n){switch(t){case"s":return Id(ld,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Ad(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends Zu{priority=30;parse(e,t){return Td(Ad(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends Zu{priority=10;parse(e,t){switch(t){case"X":return Ed(wd,e);case"XX":return Ed(bd,e);case"XXXX":return Ed(Cd,e);case"XXXXX":return Ed(Sd,e);default:return Ed(kd,e)}}set(e,t,n){return t.timestampIsSet?e:mu(e,e.getTime()-Vd(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends Zu{priority=10;parse(e,t){switch(t){case"x":return Ed(wd,e);case"xx":return Ed(bd,e);case"xxxx":return Ed(Cd,e);case"xxxxx":return Ed(Sd,e);default:return Ed(kd,e)}}set(e,t,n){return t.timestampIsSet?e:mu(e,e.getTime()-Vd(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends Zu{priority=40;parse(e){return _d(e)}set(e,t,n){return[mu(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends Zu{priority=20;parse(e){return _d(e)}set(e,t,n){return[mu(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},Jd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zd=/^'([^]*?)'?$/,eh=/''/g,th=/\S/,nh=/[a-zA-Z]/;function rh(e,t,n,r){const o=()=>mu(r?.in||n,NaN),a=Qu(),i=r?.locale??a.locale??Lu,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!t)return e?o():yu(n,r?.in);const l={firstWeekContainsDate:s,weekStartsOn:c,locale:i},u=[new Xu(r?.in,n)],d=t.match(Xd).map((e=>{const t=e[0];if(t in Hu){return(0,Hu[t])(e,i.formatLong)}return e})).join("").match(Jd),h=[];for(let m of d){!r?.useAdditionalWeekYearTokens&&Ku(m)&&Yu(m,t,e),!r?.useAdditionalDayOfYearTokens&&ju(m)&&Yu(m,t,e);const n=m[0],a=Gd[n];if(a){const{incompatibleTokens:t}=a;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${m}\` at the same time`)}else if("*"===a.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);h.push({token:n,fullToken:m});const r=a.run(e,m,i.match,l);if(!r)return o();u.push(r.setter),e=r.rest}else{if(n.match(nh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===m?m="'":"'"===n&&(m=m.match(Zd)[1].replace(eh,"'")),0!==e.indexOf(m))return o();e=e.slice(m.length)}}if(e.length>0&&th.test(e))return o();const p=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let f=yu(n,r?.in);if(isNaN(+f))return o();const g={};for(const m of p){if(!m.validate(f,l))return o();const e=m.set(f,g,l);Array.isArray(e)?(f=e[0],Object.assign(g,e[1])):f=e}return f}function oh(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ah(e){return!(!oh(e)&&"number"!==typeof e||isNaN(+yu(e)))}function ih(e,t){return+yu(e)<+yu(t)}function sh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=mu.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(o)}function ch(e,t){const n=yu(e,t?.in);return n.setHours(0,0,0,0),n}function lh(e,t,n){const[r,o]=sh(n?.in,e,t),a=ch(r),i=ch(o),s=+a-Vd(a),c=+i-Vd(i);return Math.round((s-c)/864e5)}function uh(e,t){const n=yu(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dh(e,t){const n=yu(e,t?.in);return lh(n,uh(n))+1}function hh(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ph={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return hh("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):hh(n+1,2)},d:(e,t)=>hh(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>hh(e.getHours()%12||12,t.length),H:(e,t)=>hh(e.getHours(),t.length),m:(e,t)=>hh(e.getMinutes(),t.length),s:(e,t)=>hh(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return hh(Math.trunc(r*Math.pow(10,n-3)),t.length)}},fh="midnight",gh="noon",mh="morning",yh="afternoon",vh="evening",wh="night",bh={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return ph.y(e,t)},Y:function(e,t,n,r){const o=Dd(e,r),a=o>0?o:1-o;if("YY"===t){return hh(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):hh(a,t.length)},R:function(e,t){return hh(Hd(e),t.length)},u:function(e,t){return hh(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return hh(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return hh(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ph.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return hh(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Fd(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):hh(o,t.length)},I:function(e,t,n){const r=Bd(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):hh(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ph.d(e,t)},D:function(e,t,n){const r=dh(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):hh(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return hh(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return hh(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return hh(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?gh:0===r?fh:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?vh:r>=12?yh:r>=4?mh:wh,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ph.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ph.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):hh(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):hh(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ph.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ph.s(e,t)},S:function(e,t){return ph.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return kh(r);case"XXXX":case"XX":return Sh(r);default:return Sh(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kh(r);case"xxxx":case"xx":return Sh(r);default:return Sh(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ch(r,":");default:return"GMT"+Sh(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ch(r,":");default:return"GMT"+Sh(r,":")}},t:function(e,t,n){return hh(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return hh(+e,t.length)}};function Ch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return 0===a?n+String(o):n+String(o)+t+hh(a,2)}function kh(e,t){if(e%60===0){return(e>0?"-":"+")+hh(Math.abs(e)/60,2)}return Sh(e,t)}function Sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+hh(Math.trunc(r/60),2)+t+hh(r%60,2)}const Th=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ih=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eh=/^'([^]*?)'?$/,_h=/''/g,Ah=/[a-zA-Z]/;function Ph(e,t,n){const r=$u(),o=n?.locale??r.locale??Lu,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=yu(e,n?.in);if(!ah(s))throw new RangeError("Invalid time value");let c=t.match(Ih).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Hu[t])(e,o.formatLong)}return e})).join("").match(Th).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Rh(e)};if(bh[t])return{isToken:!0,value:e};if(t.match(Ah))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(c=o.localize.preprocessor(s,c));const l={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return c.map((r=>{if(!r.isToken)return r.value;const a=r.value;(!n?.useAdditionalWeekYearTokens&&Ku(a)||!n?.useAdditionalDayOfYearTokens&&ju(a))&&Yu(a,t,String(e));return(0,bh[a[0]])(s,a,o.localize,l)})).join("")}function Rh(e){const t=e.match(Eh);return t?t[1].replace(_h,"'"):e}function xh(e,t,n){const r=yu(e,n?.in);return r.setHours(t),r}function Mh(e,t,n){const r=yu(e,n?.in);return r.setMinutes(t),r}function Nh(e,t,n){const r=yu(e,n?.in);return r.setSeconds(t),r}function Dh(e,t){const n=yu(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Oh(e,t){const n=yu(e,t?.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function Lh(e,t){const n=yu(e,t?.in);return n.setHours(23,59,59,999),n}function Fh(e,t){const n=$u(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=yu(e,t?.in),a=o.getDay(),i=6+(a<r?-7:0)-(a-r);return o.setDate(o.getDate()+i),o.setHours(23,59,59,999),o}function qh(e,t){const n=yu(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Hh(e,t,n){const[r,o]=sh(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function Uh(e,t,n){const[r,o]=sh(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function Bh(e,t,n){const[r,o]=sh(n?.in,e,t);return+Oh(r)===+Oh(o)}function zh(e,t,n){const[r,o]=sh(n?.in,e,t);return+ch(r)===+ch(o)}function jh(e,t){return+yu(e)===+yu(t)}function Kh(e,t,n){const r=+yu(e,n?.in),[o,a]=[+yu(t.start,n?.in),+yu(t.end,n?.in)].sort(((e,t)=>e-t));return r>=o&&r<=a}function Yh(e,t){const n=yu(e,t?.in),r=n.getFullYear(),o=n.getMonth(),a=mu(n,0);return a.setFullYear(r,o+1,0),a.setHours(0,0,0,0),a.getDate()}function Wh(e,t,n){const r=yu(e,n?.in),o=r.getFullYear(),a=r.getDate(),i=mu(n?.in||e,0);i.setFullYear(o,t,15),i.setHours(0,0,0,0);const s=Yh(i);return r.setMonth(t,Math.min(a,s)),r}function $h(e,t,n){const r=yu(e,n?.in),o=t-(Math.trunc(r.getMonth()/3)+1);return Wh(r,r.getMonth()+3*o)}function Qh(e,t){return yu(e,t?.in).getFullYear()}function Vh(e,t){return yu(e,t?.in).getMonth()}function Gh(e,t){const n=yu(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Jh(e,t){const n=yu(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function Xh(e,t){return yu(e,t?.in).getHours()}function Zh(e,t){return yu(e,t?.in).getMinutes()}function ep(e){return yu(e).getSeconds()}function tp(e,t,n){const r=yu(e,n?.in);if(isNaN(t))return mu(n?.in||e,NaN);if(!t)return r;const o=r.getDate(),a=mu(n?.in||e,r.getTime());a.setMonth(r.getMonth()+t+1,0);return o>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}function np(e,t,n){return tp(e,-t,n)}function rp(e,t,n){const[r,o]=sh(n?.in,e,t);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}function op(e,t,n){return tp(e,3*t,n)}function ap(e,t,n){return op(e,-t,n)}function ip(e,t,n){const[r,o]=sh(n?.in,e,t);return 4*(r.getFullYear()-o.getFullYear())+(Jh(r)-Jh(o))}function sp(e,t,n){return tp(e,12*t,n)}function cp(e,t,n){return sp(e,-t,n)}function lp(e,t,n){const[r,o]=sh(n?.in,e,t);return r.getFullYear()-o.getFullYear()}function up(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=mu.bind(null,e));const t=yu(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),mu(r,n||NaN)}function dp(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=mu.bind(null,e));const t=yu(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),mu(r,n||NaN)}function hp(e,t,n){return mu(n?.in||e,+yu(e)+t)}function pp(e,t,n){return hp(e,t*fu,n)}function fp(e,t,n){const r=yu(e,n?.in);return r.setTime(r.getTime()+t*pu),r}function gp(e,t,n){return hp(e,1e3*t,n)}function mp(e,t){return+yu(e)>+yu(t)}function yp(e,t){return yu(e,t?.in).getDay()}function vp(e,t){return yu(e,t?.in).getDate()}function wp(e,t,n){return Yd(e,7*t,n)}function bp(e){return+yu(e)}function Cp(e,t,n){const r=yu(e,n?.in);return isNaN(+r)?mu(n?.in||e,NaN):(r.setFullYear(t),r)}function kp(e,t,n){const[r,o]=sh(n?.in,e,t),a=Sp(r,o),i=Math.abs(lh(r,o));r.setDate(r.getDate()-a*i);const s=a*(i-Number(Sp(r,o)===-a));return 0===s?0:s}function Sp(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Tp(e,t,n){return wp(e,-t,n)}function Ip(e,t,n){return Yd(e,-t,n)}function Ep(){return"undefined"!==typeof window}function _p(e){return Rp(e)?(e.nodeName||"").toLowerCase():"#document"}function Ap(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Pp(e){var t;return null==(t=(Rp(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Rp(e){return!!Ep()&&(e instanceof Node||e instanceof Ap(e).Node)}function xp(e){return!!Ep()&&(e instanceof Element||e instanceof Ap(e).Element)}function Mp(e){return!!Ep()&&(e instanceof HTMLElement||e instanceof Ap(e).HTMLElement)}function Np(e){return!(!Ep()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ap(e).ShadowRoot)}function Dp(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Up(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Op(e){return["table","td","th"].includes(_p(e))}function Lp(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Fp(e){const t=qp(),n=xp(e)?Up(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function qp(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Hp(e){return["html","body","#document"].includes(_p(e))}function Up(e){return Ap(e).getComputedStyle(e)}function Bp(e){return xp(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zp(e){if("html"===_p(e))return e;const t=e.assignedSlot||e.parentNode||Np(e)&&e.host||Pp(e);return Np(t)?t.host:t}function jp(e){const t=zp(e);return Hp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mp(t)&&Dp(t)?t:jp(t)}function Kp(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=jp(e),a=o===(null==(r=e.ownerDocument)?void 0:r.body),i=Ap(o);if(a){const e=Yp(i);return t.concat(i,i.visualViewport||[],Dp(o)?o:[],e&&n?Kp(e):[])}return t.concat(o,Kp(o,[],n))}function Yp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Wp=n(950);const $p=Math.min,Qp=Math.max,Vp=Math.round,Gp=Math.floor,Jp=e=>({x:e,y:e}),Xp={left:"right",right:"left",bottom:"top",top:"bottom"},Zp={start:"end",end:"start"};function ef(e,t){return"function"===typeof e?e(t):e}function tf(e){return e.split("-")[0]}function nf(e){return e.split("-")[1]}function rf(e){return"y"===e?"height":"width"}function of(e){return["top","bottom"].includes(tf(e))?"y":"x"}function af(e){return"x"===of(e)?"y":"x"}function sf(e){return e.replace(/start|end/g,(e=>Zp[e]))}function cf(e){return e.replace(/left|right|bottom|top/g,(e=>Xp[e]))}function lf(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function uf(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function df(e,t,n){let{reference:r,floating:o}=e;const a=of(t),i=af(t),s=rf(i),c=tf(t),l="y"===a,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let p;switch(c){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(nf(t)){case"start":p[i]-=h*(n&&l?-1:1);break;case"end":p[i]+=h*(n&&l?-1:1)}return p}async function hf(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:a,rects:i,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=ef(t,e),f=lf(p),g=s[h?"floating"===d?"reference":"floating":d],m=uf(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(g)))||n?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===d?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),w=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},b=uf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:c}):y);return{top:(m.top-b.top+f.top)/w.y,bottom:(b.bottom-m.bottom+f.bottom)/w.y,left:(m.left-b.left+f.left)/w.x,right:(b.right-m.right+f.right)/w.x}}function pf(e){const t=Up(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Mp(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,s=Vp(n)!==a||Vp(r)!==i;return s&&(n=a,r=i),{width:n,height:r,$:s}}function ff(e){return xp(e)?e:e.contextElement}function gf(e){const t=ff(e);if(!Mp(t))return Jp(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=pf(t);let i=(a?Vp(n.width):n.width)/r,s=(a?Vp(n.height):n.height)/o;return i&&Number.isFinite(i)||(i=1),s&&Number.isFinite(s)||(s=1),{x:i,y:s}}const mf=Jp(0);function yf(e){const t=Ap(e);return qp()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:mf}function vf(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),a=ff(e);let i=Jp(1);t&&(r?xp(r)&&(i=gf(r)):i=gf(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Ap(e))&&t}(a,n,r)?yf(a):Jp(0);let c=(o.left+s.x)/i.x,l=(o.top+s.y)/i.y,u=o.width/i.x,d=o.height/i.y;if(a){const e=Ap(a),t=r&&xp(r)?Ap(r):r;let n=e,o=Yp(n);for(;o&&r&&t!==n;){const e=gf(o),t=o.getBoundingClientRect(),r=Up(o),a=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=i,n=Ap(o),o=Yp(n)}}return uf({width:u,height:d,x:c,y:l})}function wf(e,t){const n=Bp(e).scrollLeft;return t?t.left+n:vf(Pp(e)).left+n}function bf(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:wf(e,r)),y:r.top+t.scrollTop}}function Cf(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Ap(e),r=Pp(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,s=0,c=0;if(o){a=o.width,i=o.height;const e=qp();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:a,height:i,x:s,y:c}}(e,n);else if("document"===t)r=function(e){const t=Pp(e),n=Bp(e),r=e.ownerDocument.body,o=Qp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Qp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+wf(e);const s=-n.scrollTop;return"rtl"===Up(r).direction&&(i+=Qp(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:s}}(Pp(e));else if(xp(t))r=function(e,t){const n=vf(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=Mp(e)?gf(e):Jp(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:o*a.x,y:r*a.y}}(t,n);else{const n=yf(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return uf(r)}function kf(e,t){const n=zp(e);return!(n===t||!xp(n)||Hp(n))&&("fixed"===Up(n).position||kf(n,t))}function Sf(e,t,n){const r=Mp(t),o=Pp(t),a="fixed"===n,i=vf(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=Jp(0);if(r||!r&&!a)if(("body"!==_p(t)||Dp(o))&&(s=Bp(t)),r){const e=vf(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=wf(o));const l=!o||r||a?Jp(0):bf(o,s);return{x:i.left+s.scrollLeft-c.x-l.x,y:i.top+s.scrollTop-c.y-l.y,width:i.width,height:i.height}}function Tf(e){return"static"===Up(e).position}function If(e,t){if(!Mp(e)||"fixed"===Up(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Pp(e)===n&&(n=n.ownerDocument.body),n}function Ef(e,t){const n=Ap(e);if(Lp(e))return n;if(!Mp(e)){let t=zp(e);for(;t&&!Hp(t);){if(xp(t)&&!Tf(t))return t;t=zp(t)}return n}let r=If(e,t);for(;r&&Op(r)&&Tf(r);)r=If(r,t);return r&&Hp(r)&&Tf(r)&&!Fp(r)?n:r||function(e){let t=zp(e);for(;Mp(t)&&!Hp(t);){if(Fp(t))return t;if(Lp(t))return null;t=zp(t)}return null}(e)||n}const _f={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a="fixed"===o,i=Pp(r),s=!!t&&Lp(t.floating);if(r===i||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=Jp(1);const u=Jp(0),d=Mp(r);if((d||!d&&!a)&&(("body"!==_p(r)||Dp(i))&&(c=Bp(r)),Mp(r))){const e=vf(r);l=gf(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!i||d||a?Jp(0):bf(i,c,!0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}},getDocumentElement:Pp,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[..."clippingAncestors"===n?Lp(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Kp(e,[],!1).filter((e=>xp(e)&&"body"!==_p(e))),o=null;const a="fixed"===Up(e).position;let i=a?zp(e):e;for(;xp(i)&&!Hp(i);){const t=Up(i),n=Fp(i);n||"fixed"!==t.position||(o=null),(a?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Dp(i)&&!n&&kf(e,i))?r=r.filter((e=>e!==i)):o=t,i=zp(i)}return t.set(e,r),r}(t,this._c):[].concat(n),r],i=a[0],s=a.reduce(((e,n)=>{const r=Cf(t,n,o);return e.top=Qp(r.top,e.top),e.right=$p(r.right,e.right),e.bottom=$p(r.bottom,e.bottom),e.left=Qp(r.left,e.left),e}),Cf(t,i,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Ef,getElementRects:async function(e){const t=this.getOffsetParent||Ef,n=this.getDimensions,r=await n(e.floating);return{reference:Sf(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=pf(e);return{width:t,height:n}},getScale:gf,isElement:xp,isRTL:function(e){return"rtl"===Up(e).direction}};function Af(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pf(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,l=ff(e),u=o||a?[...l?Kp(l):[],...Kp(t)]:[];u.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=l&&s?function(e,t){let n,r=null;const o=Pp(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function i(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),a();const l=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=l;if(s||t(),!h||!p)return;const f={rootMargin:-Gp(d)+"px "+-Gp(o.clientWidth-(u+h))+"px "+-Gp(o.clientHeight-(d+p))+"px "+-Gp(u)+"px",threshold:Qp(0,$p(1,c))||1};let g=!0;function m(t){const r=t[0].intersectionRatio;if(r!==c){if(!g)return i();r?i(!1,r):n=setTimeout((()=>{i(!1,1e-7)}),1e3)}1!==r||Af(l,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(m,{...f,root:o.ownerDocument})}catch(y){r=new IntersectionObserver(m,f)}r.observe(e)}(!0),a}(l,n):null;let h,p=-1,f=null;i&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),l&&!c&&f.observe(l),f.observe(t));let g=c?vf(e):null;return c&&function t(){const r=vf(e);g&&!Af(g,r)&&n();g=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{o&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const Rf=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,a=await(null==r.isRTL?void 0:r.isRTL(o.floating)),i=tf(n),s=nf(n),c="y"===of(n),l=["left","top"].includes(i)?-1:1,u=a&&c?-1:1,d=ef(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}(t,e);return i===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},xf=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:g=!0,...m}=ef(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const y=tf(o),v=of(s),w=tf(s)===s,b=await(null==c.isRTL?void 0:c.isRTL(l.floating)),C=h||(w||!g?[cf(s)]:function(e){const t=cf(e);return[sf(e),t,sf(t)]}(s)),k="none"!==f;!h&&k&&C.push(...function(e,t,n,r){const o=nf(e);let a=function(e,t,n){const r=["left","right"],o=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?a:i;default:return[]}}(tf(e),"start"===n,r);return o&&(a=a.map((e=>e+"-"+o)),t&&(a=a.concat(a.map(sf)))),a}(s,g,f,b));const S=[s,...C],T=await hf(t,m),I=[];let E=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&I.push(T[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=nf(e),o=af(e),a=rf(o);let i="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=cf(i)),[i,cf(i)]}(o,i,b);I.push(T[e[0]],T[e[1]])}if(E=[...E,{placement:o,overflows:I}],!I.every((e=>e<=0))){var _,A;const e=((null==(_=a.flip)?void 0:_.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(A=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var P;const e=null==(P=E.filter((e=>{if(k){const t=of(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},Mf=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=ef(e,t)||{};if(null==l)return{};const d=lf(u),h={x:n,y:r},p=af(o),f=rf(p),g=await i.getDimensions(l),m="y"===p,y=m?"top":"left",v=m?"bottom":"right",w=m?"clientHeight":"clientWidth",b=a.reference[f]+a.reference[p]-h[p]-a.floating[f],C=h[p]-a.reference[p],k=await(null==i.getOffsetParent?void 0:i.getOffsetParent(l));let S=k?k[w]:0;S&&await(null==i.isElement?void 0:i.isElement(k))||(S=s.floating[w]||a.floating[f]);const T=b/2-C/2,I=S/2-g[f]/2-1,E=$p(d[y],I),_=$p(d[v],I),A=E,P=S-g[f]-_,R=S/2-g[f]/2+T,x=Qp(A,$p(R,P));const M=!c.arrow&&null!=nf(o)&&R!==x&&a.reference[f]/2-(R<A?E:_)-g[f]/2<0,N=M?R<A?R-A:R-P:0;return{[p]:h[p]+N,data:{[p]:x,centerOffset:R-x-N,...M&&{alignmentOffset:N}},reset:M}}}),Nf=(e,t,n)=>{const r=new Map,o={platform:_f,...n},a={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,s=a.filter(Boolean),c=await(null==i.isRTL?void 0:i.isRTL(t));let l=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=df(l,r,c),h=r,p={},f=0;for(let g=0;g<s.length;g++){const{name:n,fn:a}=s[g],{x:m,y:y,data:v,reset:w}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:l,platform:i,elements:{reference:e,floating:t}});u=null!=m?m:u,d=null!=y?y:d,p={...p,[n]:{...p[n],...v}},w&&f<=50&&(f++,"object"===typeof w&&(w.placement&&(h=w.placement),w.rects&&(l=!0===w.rects?await i.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:u,y:d}=df(l,h,c))),g=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:p}})(e,t,{...o,platform:a})};var Df="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;function Of(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Of(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Of(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Lf(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ff(e,t){const n=Lf(e);return Math.round(t*n)/n}function qf(e){const t=o.useRef(e);return Df((()=>{t.current=e})),t}const Hf=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?Mf({element:n.current,padding:r}).fn(t):{}:n?Mf({element:n,padding:r}).fn(t):{};var o}}),Uf=(e,t)=>({...Rf(e),options:[e,t]}),Bf=(e,t)=>({...Hf(e),options:[e,t]});const zf={...a},jf=zf.useInsertionEffect||(e=>e());function Kf(e){const t=o.useRef((()=>{0}));return jf((()=>{t.current=e})),o.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Yf="ArrowUp",Wf="ArrowDown",$f="ArrowLeft",Qf="ArrowRight";var Vf="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;const Gf=[$f,Qf],Jf=[Yf,Wf];let Xf=!1,Zf=0;const eg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Zf++;const tg=zf.useId||function(){const[e,t]=o.useState((()=>Xf?eg():void 0));return Vf((()=>{null==e&&t(eg())}),[]),o.useEffect((()=>{Xf=!0}),[]),e};const ng=o.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:a,shift:i}},width:s=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:f,...g}={},...m}=e;const y=tg(),[v,w]=o.useState(!1);if(Vf((()=>{if(!r)return;"rtl"===Up(r).direction&&w(!0)}),[r]),!r)return null;const[b,C]=n.split("-"),k="top"===b||"bottom"===b;let S=d;(k&&null!=i&&i.x||!k&&null!=i&&i.y)&&(S=null);const T=2*u,I=T/2,E=s/2*(l/-8+1),_=c/2*l/4,A=!!p,P=S&&"end"===C?"bottom":"top";let R=S&&"end"===C?"right":"left";S&&v&&(R="end"===C?"left":"right");const x=null!=(null==a?void 0:a.x)?S||a.x:"",M=null!=(null==a?void 0:a.y)?S||a.y:"",N=p||"M0,0 H"+s+" L"+(s-E)+","+(c-_)+" Q"+s/2+","+c+" "+E+","+(c-_)+" Z",D={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,cu.jsxs)("svg",{...m,"aria-hidden":!0,ref:t,width:A?s:s+T,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[R]:x,[P]:M,[b]:k||A?"100%":"calc(100% - "+T/2+"px)",transform:[D,f].filter((e=>!!e)).join(" "),...g},children:[T>0&&(0,cu.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:T+(p?0:1),d:N}),(0,cu.jsx)("path",{stroke:T&&!p?m.fill:"none",d:N}),(0,cu.jsx)("clipPath",{id:y,children:(0,cu.jsx)("rect",{x:-I,y:I*(A?-1:1),width:s+T,height:s})})]})}));function rg(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const og=o.createContext(null),ag=o.createContext(null),ig=()=>{var e;return(null==(e=o.useContext(og))?void 0:e.id)||null},sg=()=>o.useContext(ag);function cg(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,a=tg(),i=o.useRef({}),[s]=o.useState((()=>rg())),c=null!=ig(),[l,u]=o.useState(r.reference),d=Kf(((e,t,r)=>{i.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)})),h=o.useMemo((()=>({setPositionReference:u})),[]),p=o.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return o.useMemo((()=>({dataRef:i,open:t,onOpenChange:d,elements:p,events:s,floatingId:a,refs:h})),[t,d,p,s,a,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,a=r.elements,[i,s]=o.useState(null),[c,l]=o.useState(null),u=(null==a?void 0:a.domReference)||i,d=o.useRef(null),h=sg();Vf((()=>{u&&(d.current=u)}),[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,h]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=o.useState(r);Of(p,r)||f(r);const[g,m]=o.useState(null),[y,v]=o.useState(null),w=o.useCallback((e=>{e!==S.current&&(S.current=e,m(e))}),[]),b=o.useCallback((e=>{e!==T.current&&(T.current=e,v(e))}),[]),C=i||g,k=s||y,S=o.useRef(null),T=o.useRef(null),I=o.useRef(d),E=null!=l,_=qf(l),A=qf(a),P=qf(u),R=o.useCallback((()=>{if(!S.current||!T.current)return;const e={placement:t,strategy:n,middleware:p};A.current&&(e.platform=A.current),Nf(S.current,T.current,e).then((e=>{const t={...e,isPositioned:!1!==P.current};x.current&&!Of(I.current,t)&&(I.current=t,Wp.flushSync((()=>{h(t)})))}))}),[p,t,n,A,P]);Df((()=>{!1===u&&I.current.isPositioned&&(I.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const x=o.useRef(!1);Df((()=>(x.current=!0,()=>{x.current=!1})),[]),Df((()=>{if(C&&(S.current=C),k&&(T.current=k),C&&k){if(_.current)return _.current(C,k,R);R()}}),[C,k,R,_,E]);const M=o.useMemo((()=>({reference:S,floating:T,setReference:w,setFloating:b})),[w,b]),N=o.useMemo((()=>({reference:C,floating:k})),[C,k]),D=o.useMemo((()=>{const e={position:n,left:0,top:0};if(!N.floating)return e;const t=Ff(N.floating,d.x),r=Ff(N.floating,d.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...Lf(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,c,N.floating,d.x,d.y]);return o.useMemo((()=>({...d,update:R,refs:M,elements:N,floatingStyles:D})),[d,R,M,N,D])}({...e,elements:{...a,...c&&{reference:c}}}),f=o.useCallback((e=>{const t=xp(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),p.refs.setReference(t)}),[p.refs]),g=o.useCallback((e=>{(xp(e)||null===e)&&(d.current=e,s(e)),(xp(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!xp(e))&&p.refs.setReference(e)}),[p.refs]),m=o.useMemo((()=>({...p.refs,setReference:g,setPositionReference:f,domReference:d})),[p.refs,g,f]),y=o.useMemo((()=>({...p.elements,domReference:u})),[p.elements,u]),v=o.useMemo((()=>({...p,...r,refs:m,elements:y,nodeId:t})),[p,m,y,t,r]);return Vf((()=>{r.dataRef.current.floatingContext=v;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),o.useMemo((()=>({...p,context:v,refs:m,elements:y})),[p,m,y,v])}var lg=function(e,t){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},lg(e,t)};function ug(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}lg(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var dg=function(){return dg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dg.apply(this,arguments)};function hg(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var pg,fg=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,a=void 0!==r&&r,i=e.className,s=e.children,c=n?"Choose Time":"Choose Date".concat(a?" and Time":"");return o.createElement("div",{className:i,role:"dialog","aria-label":c,"aria-modal":"true"},s)},gg=function(e){var t=e.children,n=e.onClickOutside,r=e.className,a=e.containerRef,i=e.style,s=function(e,t){var n=(0,o.useRef)(null),r=(0,o.useRef)(e);r.current=e;var a=(0,o.useCallback)((function(e){var o,a=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(a)&&(t&&a instanceof HTMLElement&&a.classList.contains(t)||null===(o=r.current)||void 0===o||o.call(r,e))}),[t]);return(0,o.useEffect)((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[a]),n}(n,e.ignoreClass);return o.createElement("div",{className:r,style:i,ref:function(e){s.current=e,a&&(a.current=e)}},t)};function mg(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(pg||(pg={}));function yg(e){if(null==e)return new Date;var t="string"===typeof e?vu(e):yu(e);return wg(t)?t:new Date}function vg(e,t,n,r,o){void 0===o&&(o=yg());for(var a=qg(n)||qg(Fg()),i=0,s=Array.isArray(t)?t:[t];i<s.length;i++){var c=s[i],l=rh(e,c,o,{locale:a,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(wg(l)&&(!r||e===bg(l,c,n)))return l}return null}function wg(e,t){return ah(e)&&!ih(e,new Date("1/1/1800"))}function bg(e,t,n){if("en"===n)return Ph(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?qg(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),Ph(e,t,{locale:r=r||qg(Fg()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Cg(e,t){var n=t.dateFormat,r=t.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return e&&bg(e,o,r)||""}function kg(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,a=void 0===o?0:o,i=t.second;return xh(Mh(Nh(e,void 0===i?0:i),a),r)}function Sg(e){return ch(e)}function Tg(e,t,n){return Nd(e,{locale:qg(t||Fg()),weekStartsOn:n})}function Ig(e){return Dh(e)}function Eg(e){return uh(e)}function _g(e){return Oh(e)}function Ag(){return ch(yg())}function Pg(e){return Lh(e)}function Rg(e){return qh(e)}function xg(e,t){return e&&t?Hh(e,t):!e&&!t}function Mg(e,t){return e&&t?Uh(e,t):!e&&!t}function Ng(e,t){return e&&t?Bh(e,t):!e&&!t}function Dg(e,t){return e&&t?zh(e,t):!e&&!t}function Og(e,t){return e&&t?jh(e,t):!e&&!t}function Lg(e,t,n){var r,o=ch(t),a=Lh(n);try{r=Kh(e,{start:o,end:a})}catch(i){r=!1}return r}function Fg(){return mg().__localeId__}function qg(e){if("string"===typeof e){var t=mg();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Hg(e,t){return bg(Wh(yg(),e),"LLLL",t)}function Ug(e,t){return bg(Wh(yg(),e),"LLL",t)}function Bg(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return Gg(e,{minDate:r,maxDate:o})||a&&a.some((function(t){return t instanceof Date?Dg(e,t):Dg(e,t.date)}))||i&&i.some((function(t){var n=t.start,r=t.end;return Kh(e,{start:n,end:r})}))||s&&!s.some((function(t){return Dg(e,t)}))||c&&!c.some((function(t){var n=t.start,r=t.end;return Kh(e,{start:n,end:r})}))||l&&!l(yg(e))||!1}function zg(e,t){var n=void 0===t?{}:t,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some((function(t){var n=t.start,r=t.end;return Kh(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?Dg(e,t):Dg(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function jg(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,s=n.filterDate;return Gg(e,{minDate:r?Dh(r):void 0,maxDate:o?qh(o):void 0})||(null===a||void 0===a?void 0:a.some((function(t){return Mg(e,t instanceof Date?t:t.date)})))||i&&!i.some((function(t){return Mg(e,t)}))||s&&!s(yg(e))||!1}function Kg(e,t,n,r){var o=Qh(e),a=Vh(e),i=Qh(t),s=Vh(t),c=Qh(r);return o===i&&o===c?a<=n&&n<=s:o<i&&(c===o&&a<=n||c===i&&s>=n||c<i&&c>o)}function Yg(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates;return Gg(e,{minDate:r,maxDate:o})||a&&a.some((function(t){return Mg(t instanceof Date?t:t.date,e)}))||i&&!i.some((function(t){return Mg(t,e)}))||!1}function Wg(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,s=n.filterDate;return Gg(e,{minDate:r,maxDate:o})||(null===a||void 0===a?void 0:a.some((function(t){return Ng(e,t instanceof Date?t:t.date)})))||i&&!i.some((function(t){return Ng(e,t)}))||s&&!s(yg(e))||!1}function $g(e,t,n){if(!t||!n)return!1;if(!ah(t)||!ah(n))return!1;var r=Qh(t),o=Qh(n);return r<=e&&o>=e}function Qg(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,a=n.excludeDates,i=n.includeDates,s=n.filterDate,c=new Date(e,0,1);return Gg(c,{minDate:r?uh(r):void 0,maxDate:o?Gh(o):void 0})||(null===a||void 0===a?void 0:a.some((function(e){return xg(c,e instanceof Date?e:e.date)})))||i&&!i.some((function(e){return xg(c,e)}))||s&&!s(yg(c))||!1}function Vg(e,t,n,r){var o=Qh(e),a=Jh(e),i=Qh(t),s=Jh(t),c=Qh(r);return o===i&&o===c?a<=n&&n<=s:o<i&&(c===o&&a<=n||c===i&&s>=n||c<i&&c>o)}function Gg(e,t){var n,r=void 0===t?{}:t,o=r.minDate,a=r.maxDate;return null!==(n=o&&lh(e,o)<0||a&&lh(e,a)>0)&&void 0!==n&&n}function Jg(e,t){return t.some((function(t){return Xh(t)===Xh(e)&&Zh(t)===Zh(e)&&ep(t)===ep(e)}))}function Xg(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,o=n.includeTimes,a=n.filterTime;return r&&Jg(e,r)||o&&!Jg(e,o)||a&&!a(e)||!1}function Zg(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=yg();o=Nh(o=Mh(o=xh(o,Xh(e)),Zh(e)),ep(e));var a=yg();a=Nh(a=Mh(a=xh(a,Xh(n)),Zh(n)),ep(n));var i,s=yg();s=Nh(s=Mh(s=xh(s,Xh(r)),Zh(r)),ep(r));try{i=!Kh(o,{start:a,end:s})}catch(c){i=!1}return i}function em(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,a=np(e,1);return r&&rp(r,a)>0||o&&o.every((function(e){return rp(e,a)>0}))||!1}function tm(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,a=tp(e,1);return r&&rp(a,r)>0||o&&o.every((function(e){return rp(a,e)>0}))||!1}function nm(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,a=cp(e,1);return r&&lp(r,a)>0||o&&o.every((function(e){return lp(e,a)>0}))||!1}function rm(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,a=sp(e,1);return r&&lp(a,r)>0||o&&o.every((function(e){return lp(a,e)>0}))||!1}function om(e){var t=e.minDate,n=e.includeDates;return n&&t?up(n.filter((function(e){return lh(e,t)>=0}))):n?up(n):t}function am(e){var t=e.maxDate,n=e.includeDates;return n&&t?dp(n.filter((function(e){return lh(e,t)<=0}))):n?dp(n):t}function im(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,o=0,a=e.length;o<a;o++){var i=e[o];if(oh(i)){var s=bg(i,"MM.dd.yyyy");(p=r.get(s)||[]).includes(t)||(p.push(t),r.set(s,p))}else if("object"===typeof i){var c=null!==(n=Object.keys(i)[0])&&void 0!==n?n:"",l=i[c];if("string"===typeof c&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var h=l[u];if(h){var p;s=bg(h,"MM.dd.yyyy");(p=r.get(s)||[]).includes(c)||(p.push(c),r.set(s,p))}}}}return r}function sm(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,o=e.holidayName;if(oh(r)){var a=bg(r,"MM.dd.yyyy"),i=n.get(a)||{className:"",holidayNames:[]};if(!("className"in i)||i.className!==t||(s=i.holidayNames,c=[o],s.length!==c.length||!s.every((function(e,t){return e===c[t]})))){var s,c;i.className=t;var l=i.holidayNames;i.holidayNames=l?hg(hg([],l,!0),[o],!1):[o],n.set(a,i)}}})),n}function cm(e,t,n,r,o){for(var a=o.length,i=[],s=0;s<a;s++){var c=e,l=o[s];l&&(c=gp(c=fp(c=pp(c,Xh(l)),Zh(l)),ep(l)));var u=fp(e,(n+1)*r);mp(c,t)&&ih(c,u)&&void 0!=l&&i.push(l)}return i}function lm(e){return e<10?"0".concat(e):"".concat(e)}function um(e,t){void 0===t&&(t=12);var n=Math.ceil(Qh(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function dm(e){var t=e.getSeconds(),n=e.getMilliseconds();return yu(e.getTime()-1e3*t-n)}function hm(e){if(!oh(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function pm(e,t){if(!oh(e)||!oh(t))throw new Error("Invalid date received");return ih(hm(e),hm(t))}function fm(e){return e.key===pg.Space}var gm,mm=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=o.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var o=n.props.date,a=o instanceof Date&&!isNaN(+o)?o:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var i=e.split(":"),s=i[0],c=i[1];a.setHours(Number(s)),a.setMinutes(Number(c))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,a)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,a=t.timeString,i=t.customTimeInput;return i?(0,o.cloneElement)(i,{date:r,value:e,onChange:n.onTimeChange}):o.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||a)}})},n.state={time:n.props.timeString},n}return ug(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return o.createElement("div",{className:"react-datepicker__input-time-container"},o.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),o.createElement("div",{className:"react-datepicker-time__input-container"},o.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(o.Component),ym=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,o.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===pg.Space&&(e.preventDefault(),e.key=pg.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Dg(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),Bg(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return zg(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Dg(t.props.day,Tg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Dg(e,Tg(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var o=bg(n,"MM.dd.yyyy");return r.get(o)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,o=n.holidays;if(!o)return[void 0];var a=bg(r,"MM.dd.yyyy");return o.has(a)?[null===(e=o.get(a))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&Lg(n,r,o)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,o=n.selectsStart,a=n.selectsEnd,i=n.selectsRange,s=n.selectsDisabledDaysInRange,c=n.startDate,l=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(o||a||i)||!u||!s&&t.isDisabled())&&(o&&l&&(ih(u,l)||Og(u,l))?Lg(r,u,l):(a&&c&&(mp(u,c)||Og(u,c))||!(!i||!c||l||!mp(u,c)&&!Og(u,c)))&&Lg(r,c,u))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,o=n.startDate,a=n.selectsStart,i=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Dg(r,a?i:o)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,o=n.endDate,a=n.selectsEnd,i=n.selectsRange,s=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Dg(r,a||i?s:o)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&Dg(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&Dg(o,n)},t.isWeekend=function(){var e=yp(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Vh(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Vh(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(yg())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return du("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+bg(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,o=void 0===r?"Choose":r,a=e.ariaLabelPrefixWhenDisabled,i=void 0===a?"Not available":a,s=t.isDisabled()||t.isExcluded()?i:o;return"".concat(s," ").concat(bg(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,o=void 0===r?new Map:r,a=e.excludeDates,i=bg(n,"MM.dd.yyyy"),s=[];return o.has(i)&&s.push.apply(s,o.get(i).holidayNames),t.isExcluded()&&s.push(null===a||void 0===a?void 0:a.filter((function(e){return e instanceof Date?Dg(e,n):Dg(null===e||void 0===e?void 0:e.date,n)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),s.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Dg(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(vp(t.props.day),t.props.day):vp(t.props.day)},t.render=function(){return o.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&o.createElement("span",{className:"overlay"},t.getTitle()))},t}return ug(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(o.Component),vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,o.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===pg.Space&&(e.preventDefault(),e.key=pg.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Dg(t.props.date,t.props.selected)&&Dg(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Dg(t.props.date,t.props.selected)&&Dg(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Dg(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,a=e.ariaLabelPrefix,i=void 0===a?t.defaultProps.ariaLabelPrefix:a,s=e.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!r,"react-datepicker__week-number--selected":!!s&&Dg(this.props.date,this.props.selected)};return o.createElement("div",{ref:this.weekNumberEl,className:du(c),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(o.Component),wm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return Bg(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,o){for(var a,i,s,c=new Date(e),l=0;l<7;l++){var u=new Date(e);if(u.setDate(u.getDate()+l),!n.isDisabled(u)){c=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(c,r,o),n.props.showWeekPicker&&n.handleDayClick(c,o),(null!==(a=n.props.shouldCloseOnSelect)&&void 0!==a?a:t.defaultProps.shouldCloseOnSelect)&&(null===(s=(i=n.props).setOpen)||void 0===s||s.call(i,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return Bd(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Yd(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Yd(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],a=n.formatWeekNumber(e);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,a):void 0;r.push(o.createElement(vm,dg({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:i})))}return r.concat([0,1,2,3,4,5,6].map((function(r){var a=Yd(e,r);return o.createElement(ym,dg({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:a.valueOf(),day:a,onClick:n.handleDayClick.bind(n,a),onMouseEnter:n.handleDayMouseEnter.bind(n,a)}))})))},n.startOfWeek=function(){return Tg(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Dg(n.startOfWeek(),n.props.selected)&&Dg(n.startOfWeek(),n.props.preSelection)},n}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Dg(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return o.createElement("div",{className:du(e)},this.renderDays())},t}(o.Component),bm="two_columns",Cm="three_columns",km="four_columns",Sm=((gm={})[bm]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},gm[Cm]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},gm[km]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},gm);function Tm(e,t){return e?km:t?bm:Cm}var Im=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=hg([],Array(12),!0).map((function(){return(0,o.createRef)()})),t.QUARTER_REFS=hg([],Array(4),!0).map((function(){return(0,o.createRef)()})),t.isDisabled=function(e){return Bg(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return zg(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,o;null===(o=(r=t.props).onDayClick)||void 0===o||o.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate;return!(!o||!a)&&Mg(Wh(r,e),o)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate;return!(!o||!a)&&Ng($h(r,e),o)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate;return!(!o||!a)&&Mg(Wh(r,e),a)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate;return!(!o||!a)&&Ng($h(r,e),a)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,o=r.day,a=r.selectsStart,i=r.selectsEnd,s=r.selectsRange,c=r.startDate,l=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||i||s)||!u)&&(a&&l?Kg(u,l,e,o):(i&&c||!(!s||!c||l))&&Kg(c,u,e,o))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,o=r.day,a=r.startDate,i=r.selectsStart,s=Wh(o,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Mg(s,i?c:a)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,o=r.day,a=r.endDate,i=r.selectsEnd,s=r.selectsRange,c=Wh(o,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Mg(c,i||s?l:a)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,o=r.day,a=r.selectsStart,i=r.selectsEnd,s=r.selectsRange,c=r.startDate,l=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(a||i||s)||!u)&&(a&&l?Vg(u,l,e,o):(i&&c||!(!s||!c||l))&&Vg(c,u,e,o))},t.isWeekInMonth=function(e){var n=t.props.day,r=Yd(e,6);return Mg(e,n)||Mg(r,n)},t.isCurrentMonth=function(e,t){return Qh(e)===Qh(yg())&&t===Vh(yg())},t.isCurrentQuarter=function(e,t){return Qh(e)===Qh(yg())&&t===Jh(yg())},t.isSelectedMonth=function(e,t,n){return Vh(n)===t&&Qh(e)===Qh(n)},t.isSelectMonthInList=function(e,n,r){return r.some((function(r){return t.isSelectedMonth(e,n,r)}))},t.isSelectedQuarter=function(e,t,n){return Jh(e)===t&&Qh(e)===Qh(n)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,a=!1,i=Tg(Ig(t.props.day),t.props.locale,t.props.calendarStartDay),s=t.props.selected?function(e){return t.props.showWeekPicker?Tg(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,c=t.props.preSelection?function(e){return t.props.showWeekPicker?Tg(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(o.createElement(wm,dg({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:i,month:Vh(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!a;){r++,i=wp(i,1);var l=n&&r>=6,u=!n&&!t.isWeekInMonth(i);if(l||u){if(!t.props.peekNextMonth)break;a=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),o=r.isDisabled,a=r.labelDate;o||t.handleDayClick(Ig(a),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,o=n.labelDate;r||t.handleDayMouseEnter(Ig(o))},t.handleMonthNavigation=function(e,n){var r,o,a,i;null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,n),null===(i=null===(a=t.MONTH_REFS[e])||void 0===a?void 0:a.current)||void 0===i||i.focus()},t.handleKeyboardNavigation=function(e,n,r){var o,a=t.props,i=a.selected,s=a.preSelection,c=a.setPreSelection,l=a.minDate,u=a.maxDate,d=a.showFourColumnMonthYearPicker,h=a.showTwoColumnMonthYearPicker;if(s){var p=Tm(d,h),f=t.getVerticalOffset(p),g=null===(o=Sm[p])||void 0===o?void 0:o.grid,m=function(e,t,n){var r,o,a=t,i=n;switch(e){case pg.ArrowRight:a=tp(t,1),i=11===n?0:n+1;break;case pg.ArrowLeft:a=np(t,1),i=0===n?11:n-1;break;case pg.ArrowUp:a=np(t,f),i=(null===(r=null===g||void 0===g?void 0:g[0])||void 0===r?void 0:r.includes(n))?n+12-f:n-f;break;case pg.ArrowDown:a=tp(t,f),i=(null===(o=null===g||void 0===g?void 0:g[g.length-1])||void 0===o?void 0:o.includes(n))?n-12+f:n+f}return{newCalculatedDate:a,newCalculatedMonth:i}};if(n!==pg.Enter){var y=function(e,n,r){for(var o=e,a=!1,i=0,s=m(o,n,r),c=s.newCalculatedDate,d=s.newCalculatedMonth;!a;){if(i>=40){c=n,d=r;break}var h;if(l&&c<l)o=pg.ArrowRight,c=(h=m(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;if(u&&c>u)o=pg.ArrowLeft,c=(h=m(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;if(Yg(c,t.props))c=(h=m(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;else a=!0;i++}return{newCalculatedDate:c,newCalculatedMonth:d}}(n,s,r),v=y.newCalculatedDate,w=y.newCalculatedMonth;switch(n){case pg.ArrowRight:case pg.ArrowLeft:case pg.ArrowUp:case pg.ArrowDown:t.handleMonthNavigation(w,v)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===c||void 0===c||c(i))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Sm[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,o=r.disabledKeyboardNavigation,a=r.handleOnMonthKeyDown,i=e.key;i!==pg.Tab&&e.preventDefault(),o||t.handleKeyboardNavigation(e,i,n),a&&a(e)},t.onQuarterClick=function(e,n){var r=$h(t.props.day,n);Wg(r,t.props)||t.handleDayClick(_g(r),e)},t.onQuarterMouseEnter=function(e){var n=$h(t.props.day,e);Wg(n,t.props)||t.handleDayMouseEnter(_g(n))},t.handleQuarterNavigation=function(e,n){var r,o,a,i;t.isDisabled(n)||t.isExcluded(n)||(null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,n),null===(i=null===(a=t.QUARTER_REFS[e-1])||void 0===a?void 0:a.current)||void 0===i||i.focus())},t.onQuarterKeyDown=function(e,n){var r,o,a=e.key;if(!t.props.disabledKeyboardNavigation)switch(a){case pg.Enter:t.onQuarterClick(e,n),null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,t.props.selected);break;case pg.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,op(t.props.preSelection,1));break;case pg.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,ap(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,o=r.day,a=r.minDate,i=r.maxDate,s=r.excludeDates,c=r.includeDates,l=Wh(o,e);return{isDisabled:null!==(n=(a||i||s||c)&&jg(l,t.props))&&void 0!==n&&n,labelDate:l}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate,i=n.preSelection,s=n.monthClassName,c=s?s(Wh(r,e)):void 0,l=t.getSelection();return du("react-datepicker__month-text","react-datepicker__month-".concat(e),c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":l?t.isSelectMonthInList(r,e,l):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&i&&t.isSelectedMonth(r,e,i)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":o&&a?Kg(o,a,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Vh(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Jh(t.props.preSelection),r=Wg(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,o=void 0===r?"Choose":r,a=n.disabledDayAriaLabelPrefix,i=void 0===a?"Not available":a,s=n.day,c=n.locale,l=Wh(s,e),u=t.isDisabled(l)||t.isExcluded(l)?i:o;return"".concat(u," ").concat(bg(l,"MMMM yyyy",c))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,o=n.startDate,a=n.endDate,i=n.selected,s=n.minDate,c=n.maxDate,l=n.excludeDates,u=n.includeDates,d=n.filterDate,h=n.preSelection,p=n.disabledKeyboardNavigation,f=(s||c||l||u||d)&&Wg($h(r,e),t.props);return du("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":f,"react-datepicker__quarter-text--selected":i?t.isSelectedQuarter(r,e,i):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&t.isSelectedQuarter(r,e,h)&&!f,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":o&&a?Vg(o,a,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,o=n.renderMonthContent,a=n.locale,i=n.day,s=Ug(e,a),c=Hg(e,a);return o?o(e,s,c,i):r?c:s},t.getQuarterContent=function(e){var n,r=t.props,o=r.renderQuarterContent,a=function(e,t){return bg($h(yg(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===o||void 0===o?void 0:o(e,a))&&void 0!==n?n:a},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,a=n.showFourColumnMonthYearPicker,i=n.day,s=n.selected,c=null===(e=Sm[Tm(a,r)])||void 0===e?void 0:e.grid;return null===c||void 0===c?void 0:c.map((function(e,n){return o.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return o.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){fm(n)&&(n.preventDefault(),n.key=pg.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(i,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(i,e,s):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return o.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,a){return o.createElement("div",{key:a,ref:t.QUARTER_REFS[a],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,o=e.selectsEnd;return du("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||o)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return ug(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,a=e.ariaLabelPrefix,i=void 0===a?"Month ":a,s=i?i.trim()+" ":"";return o.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(bg(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(o.Component),Em=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return o.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?o.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return ug(t,e),t.prototype.render=function(){return o.createElement(gg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),_m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return o.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return o.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},o.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return o.createElement(Em,dg({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return ug(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return Ug(e,t.props.locale)}:function(e){return Hg(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return o.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component);function Am(e,t){for(var n=[],r=Ig(e),o=Ig(t);!mp(r,o);)n.push(yg(r)),r=tp(r,1);return n}var Pm=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=bp(e),r=xg(n.props.date,e)&&Mg(n.props.date,e);return o.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?o.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",bg(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Am(n.props.minDate,n.props.maxDate)},n}return ug(t,e),t.prototype.render=function(){var e=du({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return o.createElement(gg,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),Rm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Ig(t.props.minDate),n=Ig(t.props.maxDate),r=[];!mp(e,n);){var a=bp(e);r.push(o.createElement("option",{key:a,value:a},bg(e,t.props.dateFormat,t.props.locale))),e=tp(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return o.createElement("select",{value:bp(Ig(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=bg(t.props.date,t.props.dateFormat,t.props.locale);return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},o.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return o.createElement(Pm,dg({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=yg(e);xg(t.props.date,n)&&Mg(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return ug(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return o.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component),xm=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,o;n.list&&(n.list.scrollTop=null!==(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==o?o:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&Zg(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Xg(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,dm(t).getTime()===dm(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&Zg(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Xg(e,n.props)},n.liClasses=function(e){var r,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*Xh(e)+60*Zh(e)+ep(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(e,t){var r,o;e.key===pg.Space&&(e.preventDefault(),e.key=pg.Enter),(e.key===pg.ArrowUp||e.key===pg.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===pg.ArrowDown||e.key===pg.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===pg.Enter&&n.handleClick(t),null===(o=(r=n.props).handleOnKeyDown)||void 0===o||o.call(r,e)},n.renderTimes=function(){for(var e,r=[],a="string"===typeof n.props.format?n.props.format:"p",i=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||yg(),c=Sg(s),l=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(s),d=u/i,h=0;h<d;h++){var p=fp(c,h*i);if(r.push(p),l){var f=cm(c,p,h,i,l);r=r.concat(f)}}var g=r.reduce((function(e,t){return t.getTime()<=s.getTime()?t:e}),r[0]);return r.map((function(e){return o.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===g&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===g?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},bg(e,a,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?o.createElement(o.Fragment,null):o.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},o.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return o.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),o.createElement("div",{className:"react-datepicker__time"},o.createElement("div",{className:"react-datepicker__time-box"},o.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(o.Component),Mm=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=hg([],Array(n.props.yearItemNumber),!0).map((function(){return(0,o.createRef)()})),n.isDisabled=function(e){return Bg(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return zg(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,o,a,i,s=n.props,c=s.date,l=s.yearItemNumber;if(void 0!==c&&void 0!==l){var u=um(c,l).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,t),e-u<0?n.updateFocusOnPaginate(l-(u-e)):e-u>=l?n.updateFocusOnPaginate(Math.abs(l-(e-u))):null===(i=null===(a=n.YEAR_REFS[e-u])||void 0===a?void 0:a.current)||void 0===i||i.focus())}},n.isSameDay=function(e,t){return Dg(e,t)},n.isCurrentYear=function(e){return e===Qh(yg())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&xg(Cp(yg(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&xg(Cp(yg(),e),n.props.endDate)},n.isInRange=function(e){return $g(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,o=t.selectsEnd,a=t.selectsRange,i=t.startDate,s=t.endDate;return!(!(r||o||a)||!n.selectingDate())&&(r&&s?$g(e,n.selectingDate(),s):(o&&i||!(!a||!i||s))&&$g(e,i,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,o=r.startDate,a=r.selectsStart,i=Cp(yg(),e);return xg(i,a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,o=r.endDate,a=r.selectsEnd,i=r.selectsRange,s=Cp(yg(),e);return xg(s,a||i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,o=t.maxDate,a=t.excludeDates,i=t.includeDates,s=t.filterDate,c=Eg(Cp(n.props.date,e)),l=(r||o||a||i||s)&&Qg(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Dg(c,Eg(n.props.selected))&&Dg(c,Eg(n.props.preSelection))&&!l}},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(Eg(Cp(r,t)),e)},n.onYearKeyDown=function(e,t){var r,o,a=e.key,i=n.props,s=i.date,c=i.yearItemNumber,l=i.handleOnKeyDown;if(a!==pg.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(a){case pg.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,n.props.selected);break;case pg.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,sp(n.props.preSelection,1));break;case pg.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,cp(n.props.preSelection,1));break;case pg.ArrowUp:if(void 0===s||void 0===c||null==n.props.preSelection)break;var u=um(s,c).startPeriod;if((p=t-(h=3))<u){var d=c%h;t>=u&&t<u+d?h=d:h+=d,p=t-h}n.handleYearNavigation(p,cp(n.props.preSelection,h));break;case pg.ArrowDown:if(void 0===s||void 0===c||null==n.props.preSelection)break;var h,p,f=um(s,c).endPeriod;if((p=t+(h=3))>f){d=c%h;t<=f&&t>f-d?h=d:h+=d,p=t+h}n.handleYearNavigation(p,sp(n.props.preSelection,h))}l&&l(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,o=t.minDate,a=t.maxDate,i=t.selected,s=t.excludeDates,c=t.includeDates,l=t.filterDate,u=t.yearClassName;return du("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===u||void 0===u?void 0:u(Cp(r,e)):void 0,{"react-datepicker__year-text--selected":i?e===Qh(i):void 0,"react-datepicker__year-text--disabled":(o||a||s||c||l)&&Qg(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Qh(n.props.preSelection),r=Qg(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return ug(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,a=n.yearItemNumber,i=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===r)return null;for(var c=um(r,a),l=c.startPeriod,u=c.endPeriod,d=function(n){t.push(o.createElement("div",{ref:h.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){fm(t)&&(t.preventDefault(),t.key=pg.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return i(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return i(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,p=l;p<=u;p++)d(p);return o.createElement("div",{className:"react-datepicker__year"},o.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(o.Component);function Nm(e,t,n,r){for(var o=[],a=0;a<2*t+1;a++){var i=e+t-a,s=!0;n&&(s=Qh(n)<=i),r&&s&&(s=Qh(r)>=i),s&&o.push(i)}return o}var Dm=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return o.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?o.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),r=n.props.minDate?Qh(n.props.minDate):null,a=n.props.maxDate?Qh(n.props.maxDate):null;return a&&n.state.yearsList.find((function(e){return e===a}))||t.unshift(o.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},o.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find((function(e){return e===r}))||t.push(o.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},o.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,i=r||(a?10:5);return n.state={yearsList:Nm(n.props.year,i,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,o.createRef)(),n}return ug(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=du({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return o.createElement(gg,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),Om=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Qh(t.props.minDate):1900,n=t.props.maxDate?Qh(t.props.maxDate):2100,r=[],a=e;a<=n;a++)r.push(o.createElement("option",{key:a,value:a},a));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return o.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},o.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return o.createElement(Dm,dg({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,o;null===(o=(r=t.props).onSelect)||void 0===o||o.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return ug(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return o.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component),Lm=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Fm=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return Lm.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,o=e.openToDate,a=om(r.props),i=am(r.props),s=yg(),c=o||n||t;return c||(a&&ih(s,a)?a:i&&mp(s,i)?i:s)},r.increaseMonth=function(){r.setState((function(e){return{date:tp(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState((function(e){return{date:np(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Cp(yg(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,o,a;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(a=(o=r.props).setOpen)||void 0===a||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!Bg(e,r.props))return e;for(var t=Ig(e),n=kp(Rg(e),t),o=null,a=0;a<=n;a++){var i=Yd(t,a);if(!Bg(i,r.props)){o=i;break}}return o},r.handleMonthChange=function(e){var t,n,o,a=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(a),r.props.adjustDateOnChange&&(r.props.onSelect(a),null===(o=(n=r.props).setOpen)||void 0===o||o.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(a)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState((function(t){return{date:Cp(t.date,Number(e))}}),(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState((function(t){return{date:Wh(t.date,Number(e))}}),(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState((function(t){return{date:Cp(Wh(t.date,Vh(e)),Qh(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(e){void 0===e&&(e=r.state.date);var t=Tg(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(o.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=Yd(t,e),a=r.formatWeekday(n,r.props.locale),i=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return o.createElement("div",{key:e,"aria-label":bg(n,"EEEE",r.props.locale),className:du("react-datepicker__day-name",i)},a)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(bg(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return bg(e,"EEE",t)}(e,t):function(e,t){return bg(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState((function(e){var n;return{date:cp(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,a;if(!r.props.renderCustomHeader){var i,s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?s-1:0,l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:c,u=np(r.state.date,l);switch(!0){case r.props.showMonthYearPicker:i=nm(r.state.date,r.props);break;case r.props.showYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.yearItemNumber,a=void 0===o?12:o,i=um(Eg(cp(e,a)),a).endPeriod,s=r&&Qh(r);return s&&s>i||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:i=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,a=ap(uh(e),1);return r&&ip(r,a)>0||o&&o.every((function(e){return ip(e,a)>0}))||!1}(r.state.date,r.props);break;default:i=em(u,r.props)}if(((null!==(a=r.props.forceShowMonthNavigation)&&void 0!==a?a:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,g=f.previousMonthButtonLabel,m=void 0===g?t.defaultProps.previousMonthButtonLabel:g,y=f.previousYearButtonLabel,v=void 0===y?t.defaultProps.previousYearButtonLabel:y,w=r.props,b=w.previousMonthAriaLabel,C=void 0===b?"string"===typeof m?m:"Previous Month":b,k=w.previousYearAriaLabel,S=void 0===k?"string"===typeof v?v:"Previous Year":k;return o.createElement("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?S:C},o.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},p?v:m))}}},r.increaseYear=function(){r.setState((function(e){var n;return{date:sp(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=rm(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.yearItemNumber,a=void 0===o?12:o,i=um(sp(e,a),a).startPeriod,s=r&&Qh(r);return s&&s<i||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,a=op(Gh(e),1);return r&&ip(a,r)>0||o&&o.every((function(e){return ip(a,e)>0}))||!1}(r.state.date,r.props);break;default:n=tm(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var a=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var i=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(i=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),i=void 0);var s=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,l=c.nextMonthButtonLabel,u=void 0===l?t.defaultProps.nextMonthButtonLabel:l,d=c.nextYearButtonLabel,h=void 0===d?t.defaultProps.nextYearButtonLabel:d,p=r.props,f=p.nextMonthAriaLabel,g=void 0===f?"string"===typeof u?u:"Next Month":f,m=p.nextYearAriaLabel,y=void 0===m?"string"===typeof h?h:"Next Year":m;return o.createElement("button",{type:"button",className:a.join(" "),onClick:i,onKeyDown:r.props.handleOnKeyDown,"aria-label":s?y:g},o.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?h:u))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),o.createElement("h2",{className:t.join(" ")},bg(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return o.createElement(Om,dg({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Qh(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return o.createElement(_m,dg({},t.defaultProps,r.props,{month:Vh(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return o.createElement(Rm,dg({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(Ag(),e),r.props.setPreSelection&&r.props.setPreSelection(Ag())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return o.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return o.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),o.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),o.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,a=e.monthDate,i=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var s=em(r.state.date,r.props),c=tm(r.state.date,r.props),l=nm(r.state.date,r.props),u=rm(r.state.date,r.props),d=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return o.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,dg(dg({},r.state),{customHeaderCount:i,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:s,nextMonthButtonDisabled:c,prevYearButtonDisabled:l,nextYearButtonDisabled:u})),d&&o.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(e){var n=e.monthDate,a=r.props,i=a.showYearPicker,s=a.yearItemNumber,c=um(n,void 0===s?t.defaultProps.yearItemNumber:s),l=c.startPeriod,u=c.endPeriod;return o.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},i?"".concat(l," - ").concat(u):Qh(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,o={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(o);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(o);default:return r.renderDefaultHeader(o)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var a=[],i=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?i-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?sp(r.state.date,s):np(r.state.date,s),l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:s,u=0;u<i;++u){var d=u-l+s,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?sp(c,d):tp(c,d),p="month-".concat(u),f=u<i-1,g=u>0;a.push(o.createElement("div",{key:p,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),o.createElement(Im,dg({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:u,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:g}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?o.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),o.createElement(Mm,dg({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return o.createElement(xm,dg({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&wg(e)&&Boolean(r.props.selected)?"".concat(lm(e.getHours()),":").concat(lm(e.getMinutes())):"";if(r.props.showTimeInput)return o.createElement(mm,dg({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,a=um(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),i=a.startPeriod,s=a.endPeriod;return n=r.props.showYearPicker?"".concat(i," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qh(r.state.date):"".concat(Hg(Vh(r.state.date),r.props.locale)," ").concat(Qh(r.state.date)),o.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return o.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,o.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Dg(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Dg(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Mg(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||fg;return o.createElement(gg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},o.createElement("div",{style:{display:"contents"},ref:this.containerRef},o.createElement(e,{className:du("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(o.Component),qm=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,a=e.onClick,i="react-datepicker__calendar-icon";if("string"===typeof t)return o.createElement("i",{className:"".concat(i," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:a});if(o.isValidElement(t)){var s=t;return o.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(i," ").concat(r),onClick:function(e){"function"===typeof s.props.onClick&&s.props.onClick(e),"function"===typeof a&&a(e)}})}return o.createElement("svg",{className:"".concat(i," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},o.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Hm=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return ug(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Wp.createPortal(this.props.children,this.el)},t}(o.Component),Um=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},Bm=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Um)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,o.createRef)(),n}return ug(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?o.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},o.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,o.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(o.Component);var zm,jm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,a=e.hidePopper,i=void 0===a?t.defaultProps.hidePopper:a,s=e.popperComponent,c=e.targetComponent,l=e.enableTabLoop,u=e.popperOnKeyDown,d=e.portalId,h=e.portalHost,p=e.popperProps,f=e.showArrow,g=void 0;if(!i){var m=du("react-datepicker-popper",n);g=o.createElement(Bm,{enableTabLoop:l},o.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:m,"data-placement":p.placement,onKeyDown:u},s,f&&o.createElement(ng,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=(0,o.createElement)(this.props.popperContainer,{},g)),d&&!i&&(g=o.createElement(Hm,{portalId:d,portalHost:h},g));var y=du("react-datepicker-wrapper",r);return o.createElement(o.Fragment,null,o.createElement("div",{ref:p.refs.setReference,className:y},c),g)},t}(o.Component),Km=(zm=jm,function(e){var t,n,r,a="boolean"!==typeof e.hidePopper||e.hidePopper,i=(0,o.useRef)(null),s=cg(dg({open:!a,whileElementsMounted:Pf,placement:e.popperPlacement,middleware:hg([(n={padding:15},{...xf(n),options:[n,r]}),Uf(10),Bf({element:i})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),c=dg(dg({},e),{hidePopper:a,popperProps:dg(dg({},s),{arrowRef:i})});return o.createElement(zm,dg({},c))}),Ym="react-datepicker-ignore-onclickoutside";var Wm="Date input not valid.",$m=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:yg()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return wg(n)?hg(hg([],e,!0),[dg(dg({},t),{date:n})],!1):e}),[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=om(r.props),o=am(r.props),a=n&&ih(t,Sg(n))?n:o&&mp(t,Pg(o))?o:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:a,highlightDates:im(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(dg(dg({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(dg(dg({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame((function(){console.log("reached"),r.setBlur()}))},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Vm},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.deferBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return oh(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,o=r.state.wasHidden,a=!o||r.state.open;o&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!a||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,o,a,i,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=s[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,s),l&&"function"===typeof l.isDefaultPrevented&&!l.isDefaultPrevented())){r.setState({inputValue:(null===l||void 0===l?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Qm});var u=r.props,d=u.selectsRange,h=u.startDate,p=u.endDate,f=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,g=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,m=(null===l||void 0===l?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(d){var y=m.split("-",2).map((function(e){return e.trim()})),v=y[0],w=y[1],b=vg(null!==v&&void 0!==v?v:"",f,r.props.locale,g),C=vg(null!==w&&void 0!==w?w:"",f,r.props.locale,g),k=(null===h||void 0===h?void 0:h.getTime())!==(null===b||void 0===b?void 0:b.getTime()),S=(null===p||void 0===p?void 0:p.getTime())!==(null===C||void 0===C?void 0:C.getTime());if(!k&&!S)return;if(b&&Bg(b,r.props))return;if(C&&Bg(C,r.props))return;null===(a=(o=r.props).onChange)||void 0===a||a.call(o,[b,C],l)}else{var T=vg(m,f,r.props.locale,g,null!==(i=r.props.selected)&&void 0!==i?i:void 0);!T&&m||r.setSelected(T,l,!0)}}},r.handleSelect=function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,a=o.startDate,i=o.endDate;!a||i||!r.props.swapRange&&pm(e,a)||r.setOpen(!1)}},r.setSelected=function(e,t,n,o){var a,i,s=e;if(r.props.showYearPicker){if(null!==s&&Qg(Qh(s),r.props))return}else if(r.props.showMonthYearPicker){if(null!==s&&jg(s,r.props))return}else if(null!==s&&Bg(s,r.props))return;var c=r.props,l=c.onChange,u=c.selectsRange,d=c.startDate,h=c.endDate,p=c.selectsMultiple,f=c.selectedDates,g=c.minTime,m=c.swapRange;if(!Og(r.props.selected,s)||r.props.allowSameDay||u||p)if(null!==s&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(s=kg(s,{hour:Xh(r.props.selected),minute:Zh(r.props.selected),second:ep(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||g&&(s=kg(s,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),r.props.inline||r.setState({preSelection:s}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),u){var y=d&&!h,v=d&&h;!d&&!h?null===l||void 0===l||l([s,null],t):y&&(null===s?null===l||void 0===l||l([null,null],t):pm(s,d)?m?null===l||void 0===l||l([s,d],t):null===l||void 0===l||l([s,null],t):null===l||void 0===l||l([d,s],t)),v&&(null===l||void 0===l||l([s,null],t))}else if(p){if(null!==s)if(null===f||void 0===f?void 0:f.length)if(f.some((function(e){return Dg(e,s)}))){var w=f.filter((function(e){return!Dg(e,s)}));null===l||void 0===l||l(w,t)}else null===l||void 0===l||l(hg(hg([],f,!0),[s],!1),t);else null===l||void 0===l||l([s],t)}else null===l||void 0===l||l(s,t);n||(null===(i=(a=r.props).onSelect)||void 0===i||i.call(a,s,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){var t=oh(r.props.minDate),n=oh(r.props.maxDate),o=!0;if(e){var a=Sg(e);if(t&&n)o=Lg(e,r.props.minDate,r.props.maxDate);else if(t){var i=Sg(r.props.minDate);o=mp(e,i)||Og(a,i)}else if(n){var s=Pg(r.props.maxDate);o=ih(e,s)||Og(a,s)}}o&&r.setState({preSelection:e})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var o=r.props.selected?r.props.selected:r.getPreSelection(),a=r.props.selected?e:kg(o,{hour:Xh(e),minute:Zh(e)});r.setState({preSelection:a}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,a),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,o,a,i,s;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var c=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(c===pg.ArrowDown||c===pg.ArrowUp){e.preventDefault();var l=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(a=r.calendar)||void 0===a?void 0:a.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(l);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=yg(r.state.preSelection);c===pg.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Vm?(r.handleSelect(d,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(d)):r.setOpen(!1)):c===pg.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):c===pg.Tab&&r.setOpen(!1),r.inputOk()||null===(s=(i=r.props).onInputError)||void 0===s||s.call(i,{code:1,msg:Wm})}}else c!==pg.ArrowDown&&c!==pg.ArrowUp&&c!==pg.Enter||null===(o=r.onInputClick)||void 0===o||o.call(r)},r.onPortalKeyDown=function(e){e.key===pg.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))},r.onDayKeyDown=function(e){var t,n,o,a,i,s,c=r.props,l=c.minDate,u=c.maxDate,d=c.disabledKeyboardNavigation,h=c.showWeekPicker,p=c.shouldCloseOnSelect,f=c.locale,g=c.calendarStartDay,m=c.adjustDateOnChange,y=c.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!d){var v=e.key,w=e.shiftKey,b=yg(r.state.preSelection),C=function(e,t){var n=t;switch(e){case pg.ArrowRight:n=h?wp(t,1):Yd(t,1);break;case pg.ArrowLeft:n=h?Tp(t,1):Ip(t,1);break;case pg.ArrowUp:n=Tp(t,1);break;case pg.ArrowDown:n=wp(t,1);break;case pg.PageUp:n=w?cp(t,1):np(t,1);break;case pg.PageDown:n=w?sp(t,1):tp(t,1);break;case pg.Home:n=Tg(t,f,g);break;case pg.End:n=function(e){return Fh(e)}(t)}return n};if(v===pg.Enter)return e.preventDefault(),r.handleSelect(b,e),void(!p&&r.setPreSelection(b));if(v===pg.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(a=(o=r.props).onInputError)||void 0===a||a.call(o,{code:1,msg:Wm}));var k=null;switch(v){case pg.ArrowLeft:case pg.ArrowRight:case pg.ArrowUp:case pg.ArrowDown:case pg.PageUp:case pg.PageDown:case pg.Home:case pg.End:k=function(e,t){for(var n=e,o=!1,a=0,i=C(e,t);!o;){if(a>=40){i=t;break}l&&i<l&&(n=pg.ArrowRight,i=Bg(l,r.props)?C(n,i):l),u&&i>u&&(n=pg.ArrowLeft,i=Bg(u,r.props)?C(n,i):u),Bg(i,r.props)?(n!==pg.PageUp&&n!==pg.Home||(n=pg.ArrowRight),n!==pg.PageDown&&n!==pg.End||(n=pg.ArrowLeft),i=C(n,i)):o=!0,a++}return i}(v,b)}if(k){if(e.preventDefault(),r.setState({lastPreSelectChange:Vm}),m&&r.setSelected(k),r.setPreSelection(k),y){var S=Vh(b),T=Vh(k),I=Qh(b),E=Qh(k);S!==T||I!==E?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(s=(i=r.props).onInputError)||void 0===s||s.call(i,{code:1,msg:Wm})}},r.onPopperKeyDown=function(e){e.key===pg.Escape&&(e.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,o=t.onChange;n?null===o||void 0===o||o([null,null],e):null===o||void 0===o||o(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?o.createElement(Fm,dg({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:sm(r.modifyHolidays()),outsideClickIgnoreClass:Ym,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,a=n.dateFormat,i=void 0===a?t.defaultProps.dateFormat:a,s=n.locale,c=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Cg(r.props.startDate,{dateFormat:c,locale:s}),". ").concat(r.props.endDate?"End date: "+Cg(r.props.endDate,{dateFormat:c,locale:s}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Cg(r.props.selected,{dateFormat:i,locale:s})):r.props.showYearPicker?"Selected year: ".concat(Cg(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?"Selected month: ".concat(Cg(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Cg(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):"Selected date: ".concat(Cg(r.props.selected,{dateFormat:c,locale:s})),o.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,a,i=du(r.props.className,((e={})[Ym]=r.state.open,e)),s=r.props.customInput||o.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",l=r.props,u=l.dateFormat,d=void 0===u?t.defaultProps.dateFormat:u,h=l.locale,p="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Cg(e,n),o=t?Cg(t,n):"";return"".concat(r," - ").concat(o)}(r.props.startDate,r.props.endDate,{dateFormat:d,locale:h}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?Cg(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Cg(e[1],t);return"".concat(n,", ").concat(r)}var o=e.length-1;return"".concat(n," (+").concat(o,")")}(null!==(a=r.props.selectedDates)&&void 0!==a?a:[],{dateFormat:d,locale:h}):Cg(r.props.selected,{dateFormat:d,locale:h});return(0,o.cloneElement)(s,((n={})[c]=function(e){r.input=e},n.value=p,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=du(s.props.className,i),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,a=e.selected,i=e.startDate,s=e.endDate,c=e.clearButtonTitle,l=e.clearButtonClassName,u=void 0===l?"":l,d=e.ariaLabelClose,h=void 0===d?"Close":d,p=e.selectedDates;return t&&(null!=a||null!=i||null!=s||(null===p||void 0===p?void 0:p.length))?o.createElement("button",{type:"button",className:du("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return ug(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,o,a,i,s;e.inline&&(i=e.selected,s=this.props.selected,i&&s?Vh(i)!==Vh(s)||Qh(i)!==Qh(s):i!==s)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:im(this.props.highlightDates)}),t.focused||Og(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(a=(o=this.props).onCalendarClose)||void 0===a||a.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,a=e.calendarIconClassName,i=e.toggleCalendarOnIconClick,s=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),o.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&o.createElement(qm,dg({icon:n,className:du(a,!a&&r,s&&"react-datepicker-ignore-onclickoutside")},i?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?o.createElement(Bm,{enableTabLoop:this.props.enableTabLoop},o.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=o.createElement(Hm,dg({portalId:this.props.portalId},this.props),t)),o.createElement("div",null,this.renderInputContainer(),t)}return o.createElement(Km,dg({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(o.Component),Qm="input",Vm="navigate";const Gm=function(e){let{handleFilterClick:t,onFilterChange:n}=e;const[r,a]=(0,o.useState)(null),[i,s]=(0,o.useState)("");(0,o.useEffect)((()=>{const e=r?r.toISOString().split("T")[0]:"";n({date:e,time:i})}),[r,i,n]);const c=(()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=15){const r=`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`,o=`${t%12===0?12:t%12}:${String(n).padStart(2,"0")} ${t<12?"AM":"PM"}`;e.push({value:r,label:o})}return e})(),l=(0,o.forwardRef)(((e,t)=>{let{value:n,onClick:r}=e;return(0,cu.jsxs)("button",{className:"dropdown date-picker-input",onClick:r,ref:t,children:[n||"Select Date",(0,cu.jsx)(ru,{className:"dropdown-icon",style:{marginLeft:5}})]})}));return(0,cu.jsx)("div",{className:"filter-panel",children:(0,cu.jsxs)("div",{className:"dropdown-row",children:[(0,cu.jsx)("div",{className:"filter-button-row",children:(0,cu.jsxs)("button",{className:"filter-button",onClick:t,children:["Filters ",(0,cu.jsx)(ru,{className:"filter-icon"})]})}),(0,cu.jsxs)("div",{className:"dropdown-group",children:[(0,cu.jsx)("label",{htmlFor:"date-input",children:"Date:"}),(0,cu.jsx)($m,{id:"date-input",selected:r,onChange:e=>{a(e)},placeholderText:"Select a date",dateFormat:"MMM d, yyyy",customInput:(0,cu.jsx)(l,{})})]}),(0,cu.jsxs)("div",{className:"dropdown-group",children:[(0,cu.jsx)("label",{htmlFor:"time-dropdown",children:"Time:"}),(0,cu.jsxs)("select",{id:"time-dropdown",className:"dropdown",value:i,onChange:e=>{s(e.target.value)},children:[(0,cu.jsx)("option",{value:"",children:"Select Time"}),c.map((e=>(0,cu.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})]})})};const Jm=function(e){let{searchQuery:t,onSearchChange:n,handleFilterClick:r,onFilterChange:o}=e;return(0,cu.jsxs)("div",{className:"search-filter-container",children:[(0,cu.jsx)("div",{className:"search-row",children:(0,cu.jsx)(lu,{value:t,onChange:n})}),(0,cu.jsx)(Gm,{handleFilterClick:r,onFilterChange:o})]})};const Xm=function(e){let{room:t,onBook:n,onToggleFavorite:r}=e;const{id:o,name:a,location:i,capacity:s,imageUrl:c,booked:l,favourite:u}=t;return(0,cu.jsxs)("div",{className:"room-card",children:[(0,cu.jsx)("img",{src:c,alt:a,className:"room-image"}),(0,cu.jsxs)("div",{className:"room-details",children:[(0,cu.jsx)("h3",{className:"room-name",children:a}),(0,cu.jsxs)("div",{className:"room-location",children:[(0,cu.jsx)(au,{className:"location-icon"}),(0,cu.jsx)("span",{children:i})]}),(0,cu.jsxs)("p",{className:"capacity",children:["Capacity: ",s]}),l?(0,cu.jsx)("button",{className:"booked-button",disabled:!0,children:"Booked"}):(0,cu.jsx)("button",{className:"book-button",onClick:n,children:"Book"})]}),(0,cu.jsx)("div",{className:"favorite-icon",onClick:()=>r(o),children:u?(0,cu.jsx)(ou,{className:"favorited"}):(0,cu.jsx)(su,{})})]})};const Zm=function(e){let{isOpen:t,onClose:n,onSave:r,selectedRoom:a}=e;const[i,s]=(0,o.useState)(""),[c,l]=(0,o.useState)(""),u=()=>{const e=new Date;return e.setSeconds(0,0),e},[d,h]=(0,o.useState)(u()),[p,f]=(0,o.useState)((()=>{const e=u();return e.setMinutes(e.getMinutes()+30),e})),[g,m]=(0,o.useState)(30);return(0,o.useEffect)((()=>{a&&(s(`Booking for ${a.name}`),l(a.name))}),[a]),(0,o.useEffect)((()=>{const e=new Date(d);e.setMinutes(d.getMinutes()+g),f(e)}),[d,g]),t?(0,cu.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,cu.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,cu.jsxs)("div",{className:"modal-header",children:[(0,cu.jsx)("h2",{children:"New Booking"}),(0,cu.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,cu.jsxs)("div",{className:"modal-body",children:[(0,cu.jsxs)("div",{className:"form-group",children:[(0,cu.jsxs)("label",{htmlFor:"title",children:["Title",(0,cu.jsx)("span",{className:"asterisk",children:"*"})]}),(0,cu.jsx)("input",{id:"title",type:"text",value:i,onChange:e=>s(e.target.value)})]}),(0,cu.jsxs)("div",{className:"form-group",children:[(0,cu.jsx)("label",{htmlFor:"space",children:"Space"}),(0,cu.jsx)("input",{id:"space",type:"text",value:c,onChange:e=>l(e.target.value)})]}),(0,cu.jsxs)("div",{className:"form-row",children:[(0,cu.jsxs)("div",{className:"form-group",children:[(0,cu.jsx)("label",{htmlFor:"startDate",children:"Date"}),(0,cu.jsx)($m,{id:"startDate",selected:d,onChange:e=>h(e),showTimeSelect:!0,timeIntervals:15,dateFormat:"MMM d, yyyy 'at' h:mm aa",className:"date-picker-input start-date-picker"})]}),(0,cu.jsxs)("div",{className:"form-group",children:[(0,cu.jsx)("label",{htmlFor:"endTime",children:"Duration"}),(0,cu.jsx)($m,{id:"endTime",selected:p,onChange:e=>{const t=new Date(d);t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),f(t);const n=t-d,r=Math.round(n/6e4);m(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,dateFormat:`h:mm aa '(${g} minutes)'`,className:"date-picker-input"})]})]})]}),(0,cu.jsx)("div",{className:"modal-footer",children:(0,cu.jsx)("button",{className:"save-button",onClick:e=>{e.preventDefault();const t={title:i,space:c,date:d.toISOString().slice(0,16),duration:g,system_id:null===a||void 0===a?void 0:a.id};r(t),n()},children:"Save"})})]})}):null};const ey=function(e){let{isOpen:t,onClose:n,bookingDetails:r}=e;if(!t)return null;const{title:o,date:a}=r||{};return(0,cu.jsx)("div",{className:"success-overlay",onClick:n,children:(0,cu.jsxs)("div",{className:"success-content",onClick:e=>e.stopPropagation(),children:[(0,cu.jsx)(nu,{className:"success-icon"}),(0,cu.jsx)("h2",{className:"success-title",children:"Room booked!"}),(0,cu.jsxs)("p",{className:"success-message",children:["Your booking",o?` for "${o}"`:"",a?` on ${new Date(a).toLocaleString()}`:""," has been successfully booked.",(0,cu.jsx)("br",{}),"Please check in 15 minutes prior to confirm your arrival."]}),(0,cu.jsx)("button",{className:"return-button",onClick:n,children:"Return to Home"})]})})};const ty=function(e){let{isOpen:t,onClose:n,onSave:r,defaultValues:a={}}=e;const[i,s]=(0,o.useState)(""),[c,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)("");return t?(0,cu.jsx)("div",{className:"filter-overlay",onClick:()=>{n()},children:(0,cu.jsxs)("div",{className:"filter-content",onClick:e=>{e.stopPropagation()},children:[(0,cu.jsxs)("div",{className:"filter-header",children:[(0,cu.jsx)("h2",{children:"Filters"}),(0,cu.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,cu.jsx)("hr",{}),(0,cu.jsx)("h3",{children:"Select room size"}),(0,cu.jsxs)("div",{className:"radio-group",children:[(0,cu.jsxs)("label",{children:[(0,cu.jsx)("input",{type:"radio",name:"roomSize",value:"2",checked:"2"===i,onChange:()=>s("2")}),"Min. 2 people"]}),(0,cu.jsxs)("label",{children:[(0,cu.jsx)("input",{type:"radio",name:"roomSize",value:"4",checked:"4"===i,onChange:()=>s("4")}),"Min. 4 people"]}),(0,cu.jsxs)("label",{children:[(0,cu.jsx)("input",{type:"radio",name:"roomSize",value:"10",checked:"10"===i,onChange:()=>s("10")}),"Min. 10 people"]})]}),(0,cu.jsx)("hr",{}),(0,cu.jsx)("h3",{children:"Level"}),(0,cu.jsx)("div",{className:"select-level",children:(0,cu.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"custom-select",children:[(0,cu.jsx)("option",{value:"",children:"All levels"}),(0,cu.jsx)("option",{value:"AREA 2071",children:"Area 2071"}),(0,cu.jsx)("option",{value:"DFA",children:"DFA"})]})}),(0,cu.jsx)("hr",{}),(0,cu.jsxs)("label",{className:"checkbox-row",children:[(0,cu.jsx)("input",{type:"checkbox",checked:c,onChange:()=>l(!c)}),"Favorites"]}),(0,cu.jsx)("button",{className:"apply-button",onClick:()=>{null===r||void 0===r||r({roomSize:i,onlyFavourites:c,meetingRoom:u,floor:h}),n()},children:"Apply Filters"})]})}):null};function ny(e,t){return function(){return e.apply(t,arguments)}}const{toString:ry}=Object.prototype,{getPrototypeOf:oy}=Object,ay=(iy=Object.create(null),e=>{const t=ry.call(e);return iy[t]||(iy[t]=t.slice(8,-1).toLowerCase())});var iy;const sy=e=>(e=e.toLowerCase(),t=>ay(t)===e),cy=e=>t=>typeof t===e,{isArray:ly}=Array,uy=cy("undefined");const dy=sy("ArrayBuffer");const hy=cy("string"),py=cy("function"),fy=cy("number"),gy=e=>null!==e&&"object"===typeof e,my=e=>{if("object"!==ay(e))return!1;const t=oy(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yy=sy("Date"),vy=sy("File"),wy=sy("Blob"),by=sy("FileList"),Cy=sy("URLSearchParams"),[ky,Sy,Ty,Iy]=["ReadableStream","Request","Response","Headers"].map(sy);function Ey(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ly(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function _y(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Ay="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Py=e=>!uy(e)&&e!==Ay;const Ry=(xy="undefined"!==typeof Uint8Array&&oy(Uint8Array),e=>xy&&e instanceof xy);var xy;const My=sy("HTMLFormElement"),Ny=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Dy=sy("RegExp"),Oy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ey(n,((n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)})),Object.defineProperties(e,r)};const Ly=sy("AsyncFunction"),Fy=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Ay.addEventListener("message",(e=>{let{source:t,data:o}=e;t===Ay&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Ay.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,py(Ay.postMessage)),qy="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ay):"undefined"!==typeof process&&process.nextTick||Fy,Hy={isArray:ly,isArrayBuffer:dy,isBuffer:function(e){return null!==e&&!uy(e)&&null!==e.constructor&&!uy(e.constructor)&&py(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||py(e.append)&&("formdata"===(t=ay(e))||"object"===t&&py(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dy(e.buffer),t},isString:hy,isNumber:fy,isBoolean:e=>!0===e||!1===e,isObject:gy,isPlainObject:my,isReadableStream:ky,isRequest:Sy,isResponse:Ty,isHeaders:Iy,isUndefined:uy,isDate:yy,isFile:vy,isBlob:wy,isRegExp:Dy,isFunction:py,isStream:e=>gy(e)&&py(e.pipe),isURLSearchParams:Cy,isTypedArray:Ry,isFileList:by,forEach:Ey,merge:function e(){const{caseless:t}=Py(this)&&this||{},n={},r=(r,o)=>{const a=t&&_y(n,o)||o;my(n[a])&&my(r)?n[a]=e(n[a],r):my(r)?n[a]=e({},r):ly(r)?n[a]=r.slice():n[a]=r};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Ey(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ey(t,((t,r)=>{n&&py(t)?e[r]=ny(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&oy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ay,kindOfTest:sy,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(ly(e))return e;let t=e.length;if(!fy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:My,hasOwnProperty:Ny,hasOwnProp:Ny,reduceDescriptors:Oy,freezeMethods:e=>{Oy(e,((t,n)=>{if(py(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];py(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return ly(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:_y,global:Ay,isContextDefined:Py,isSpecCompliantForm:function(e){return!!(e&&py(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(gy(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=ly(e)?[]:{};return Ey(e,((e,t)=>{const a=n(e,r+1);!uy(a)&&(o[t]=a)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Ly,isThenable:e=>e&&(gy(e)||py(e))&&py(e.then)&&py(e.catch),setImmediate:Fy,asap:qy};function Uy(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Hy.inherits(Uy,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Hy.toJSONObject(this.config),code:this.code,status:this.status}}});const By=Uy.prototype,zy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{zy[e]={value:e}})),Object.defineProperties(Uy,zy),Object.defineProperty(By,"isAxiosError",{value:!0}),Uy.from=(e,t,n,r,o,a)=>{const i=Object.create(By);return Hy.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Uy.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const jy=Uy;function Ky(e){return Hy.isPlainObject(e)||Hy.isArray(e)}function Yy(e){return Hy.endsWith(e,"[]")?e.slice(0,-2):e}function Wy(e,t,n){return e?e.concat(t).map((function(e,t){return e=Yy(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const $y=Hy.toFlatObject(Hy,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Qy=function(e,t,n){if(!Hy.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Hy.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Hy.isUndefined(t[e])}))).metaTokens,o=n.visitor||l,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Hy.isSpecCompliantForm(t);if(!Hy.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Hy.isDate(e))return e.toISOString();if(!s&&Hy.isBlob(e))throw new jy("Blob is not supported. Use a Buffer instead.");return Hy.isArrayBuffer(e)||Hy.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(Hy.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Hy.isArray(e)&&function(e){return Hy.isArray(e)&&!e.some(Ky)}(e)||(Hy.isFileList(e)||Hy.endsWith(n,"[]"))&&(s=Hy.toArray(e)))return n=Yy(n),s.forEach((function(e,r){!Hy.isUndefined(e)&&null!==e&&t.append(!0===i?Wy([n],r,a):null===i?n:n+"[]",c(e))})),!1;return!!Ky(e)||(t.append(Wy(o,n,a),c(e)),!1)}const u=[],d=Object.assign($y,{defaultVisitor:l,convertValue:c,isVisitable:Ky});if(!Hy.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Hy.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Hy.forEach(n,(function(n,a){!0===(!(Hy.isUndefined(n)||null===n)&&o.call(t,n,Hy.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function Vy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Gy(e,t){this._pairs=[],e&&Qy(e,this,t)}const Jy=Gy.prototype;Jy.append=function(e,t){this._pairs.push([e,t])},Jy.toString=function(e){const t=e?function(t){return e.call(this,t,Vy)}:Vy;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Xy=Gy;function Zy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ev(e,t,n){if(!t)return e;const r=n&&n.encode||Zy;Hy.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(a=o?o(t,n):Hy.isURLSearchParams(t)?t.toString():new Xy(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const tv=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Hy.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},nv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rv={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Xy,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ov="undefined"!==typeof window&&"undefined"!==typeof document,av="object"===typeof navigator&&navigator||void 0,iv=ov&&(!av||["ReactNative","NativeScript","NS"].indexOf(av.product)<0),sv="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,cv=ov&&window.location.href||"http://localhost",lv={...r,...rv};const uv=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&Hy.isArray(r)?r.length:a,s)return Hy.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&Hy.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],o)&&Hy.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(Hy.isFormData(e)&&Hy.isFunction(e.entries)){const n={};return Hy.forEachEntry(e,((e,r)=>{t(function(e){return Hy.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const dv={transitional:nv,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Hy.isObject(e);o&&Hy.isHTMLForm(e)&&(e=new FormData(e));if(Hy.isFormData(e))return r?JSON.stringify(uv(e)):e;if(Hy.isArrayBuffer(e)||Hy.isBuffer(e)||Hy.isStream(e)||Hy.isFile(e)||Hy.isBlob(e)||Hy.isReadableStream(e))return e;if(Hy.isArrayBufferView(e))return e.buffer;if(Hy.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qy(e,new lv.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return lv.isNode&&Hy.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Hy.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qy(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Hy.isString(e))try{return(t||JSON.parse)(e),Hy.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||dv.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Hy.isResponse(e)||Hy.isReadableStream(e))return e;if(e&&Hy.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw jy.from(o,jy.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lv.classes.FormData,Blob:lv.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Hy.forEach(["delete","get","head","post","put","patch"],(e=>{dv.headers[e]={}}));const hv=dv,pv=Hy.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fv=Symbol("internals");function gv(e){return e&&String(e).trim().toLowerCase()}function mv(e){return!1===e||null==e?e:Hy.isArray(e)?e.map(mv):String(e)}function yv(e,t,n,r,o){return Hy.isFunction(r)?r.call(this,t,n):(o&&(t=n),Hy.isString(t)?Hy.isString(r)?-1!==t.indexOf(r):Hy.isRegExp(r)?r.test(t):void 0:void 0)}class vv{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=gv(t);if(!o)throw new Error("header name must be a non-empty string");const a=Hy.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=mv(e))}const a=(e,t)=>Hy.forEach(e,((e,n)=>o(e,n,t)));if(Hy.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Hy.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&pv[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Hy.isHeaders(e))for(const[i,s]of e.entries())o(s,i,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=gv(e)){const n=Hy.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Hy.isFunction(t))return t.call(this,e,n);if(Hy.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gv(e)){const n=Hy.findKey(this,e);return!(!n||void 0===this[n]||t&&!yv(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=gv(e)){const o=Hy.findKey(n,e);!o||t&&!yv(0,n[o],o,t)||(delete n[o],r=!0)}}return Hy.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!yv(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Hy.forEach(this,((r,o)=>{const a=Hy.findKey(n,o);if(a)return t[a]=mv(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=mv(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Hy.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Hy.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[fv]=this[fv]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=gv(e);t[r]||(!function(e,t){const n=Hy.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Hy.isArray(e)?e.forEach(r):r(e),this}}vv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Hy.reduceDescriptors(vv.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),Hy.freezeMethods(vv);const wv=vv;function bv(e,t){const n=this||hv,r=t||n,o=wv.from(r.headers);let a=r.data;return Hy.forEach(e,(function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function Cv(e){return!(!e||!e.__CANCEL__)}function kv(e,t,n){jy.call(this,null==e?"canceled":e,jy.ERR_CANCELED,t,n),this.name="CanceledError"}Hy.inherits(kv,jy,{__CANCEL__:!0});const Sv=kv;function Tv(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new jy("Request failed with status code "+n.status,[jy.ERR_BAD_REQUEST,jy.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Iv=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[i];o||(o=c),n[a]=s,r[a]=c;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),c-o<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};const Ev=function(e,t){let n,r,o=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];t>=a?i(c,e):(n=c,r||(r=setTimeout((()=>{r=null,i(n)}),a-t)))},()=>n&&i(n)]},_v=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Iv(50,250);return Ev((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-r,c=o(s);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:c||void 0,estimated:c&&i&&a<=i?(i-a)/c:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Av=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Pv=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hy.asap((()=>e(...n)))},Rv=lv.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,lv.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(lv.origin),lv.navigator&&/(msie|trident)/i.test(lv.navigator.userAgent)):()=>!0,xv=lv.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];Hy.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Hy.isString(r)&&i.push("path="+r),Hy.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mv(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&r||0==n?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Nv=e=>e instanceof wv?{...e}:e;function Dv(e,t){t=t||{};const n={};function r(e,t,n,r){return Hy.isPlainObject(e)&&Hy.isPlainObject(t)?Hy.merge.call({caseless:r},e,t):Hy.isPlainObject(t)?Hy.merge({},t):Hy.isArray(t)?t.slice():t}function o(e,t,n,o){return Hy.isUndefined(t)?Hy.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function a(e,t){if(!Hy.isUndefined(t))return r(void 0,t)}function i(e,t){return Hy.isUndefined(t)?Hy.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>o(Nv(e),Nv(t),0,!0)};return Hy.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=c[r]||o,i=a(e[r],t[r],r);Hy.isUndefined(i)&&a!==s||(n[r]=i)})),n}const Ov=e=>{const t=Dv({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:c}=t;if(t.headers=s=wv.from(s),t.url=ev(Mv(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Hy.isFormData(r))if(lv.hasStandardBrowserEnv||lv.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(lv.hasStandardBrowserEnv&&(o&&Hy.isFunction(o)&&(o=o(t)),o||!1!==o&&Rv(t.url))){const e=a&&i&&xv.read(i);e&&s.set(a,e)}return t},Lv="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ov(e);let o=r.data;const a=wv.from(r.headers).normalize();let i,s,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=wv.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Tv((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new jy("Request aborted",jy.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new jy("Network Error",jy.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||nv;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new jy(t,o.clarifyTimeoutError?jy.ETIMEDOUT:jy.ECONNABORTED,e,g)),g=null},void 0===o&&a.setContentType(null),"setRequestHeader"in g&&Hy.forEach(a.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Hy.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),p&&([c,u]=_v(p,!0),g.addEventListener("progress",c)),h&&g.upload&&([s,l]=_v(h),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(i=t=>{g&&(n(!t||t.type?new Sv(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===lv.protocols.indexOf(y)?n(new jy("Unsupported protocol "+y+":",jy.ERR_BAD_REQUEST,e)):g.send(o||null)}))},Fv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof jy?t:new Sv(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new jy(`timeout ${t} of ms exceeded`,jy.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Hy.asap(i),s}},qv=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Hv=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Uv=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Hv(e))yield*qv(n,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Bv="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,zv=Bv&&"function"===typeof ReadableStream,jv=Bv&&("function"===typeof TextEncoder?(Kv=new TextEncoder,e=>Kv.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Kv;const Yv=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},Wv=zv&&Yv((()=>{let e=!1;const t=new Request(lv.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),$v=zv&&Yv((()=>Hy.isReadableStream(new Response("").body))),Qv={stream:$v&&(e=>e.body)};var Vv;Bv&&(Vv=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Qv[e]&&(Qv[e]=Hy.isFunction(Vv[e])?t=>t[e]():(t,n)=>{throw new jy(`Response type '${e}' is not supported`,jy.ERR_NOT_SUPPORT,n)})})));const Gv=async(e,t)=>{const n=Hy.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Hy.isBlob(e))return e.size;if(Hy.isSpecCompliantForm(e)){const t=new Request(lv.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Hy.isArrayBufferView(e)||Hy.isArrayBuffer(e)?e.byteLength:(Hy.isURLSearchParams(e)&&(e+=""),Hy.isString(e)?(await jv(e)).byteLength:void 0)})(t):n},Jv=Bv&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Ov(e);l=l?(l+"").toLowerCase():"text";let p,f=Fv([o,a&&a.toAbortSignal()],i);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let m;try{if(c&&Wv&&"get"!==n&&"head"!==n&&0!==(m=await Gv(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Hy.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Av(m,_v(Pv(c)));r=Uv(n.body,65536,e,t)}}Hy.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let a=await fetch(p);const i=$v&&("stream"===l||"response"===l);if($v&&(s||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Hy.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&Av(t,_v(Pv(s),!0))||[];a=new Response(Uv(a.body,65536,n,(()=>{r&&r(),g&&g()})),e)}l=l||"text";let y=await Qv[Hy.findKey(Qv,l)||"text"](a,e);return!i&&g&&g(),await new Promise(((t,n)=>{Tv(t,n,{data:y,headers:wv.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new jy("Network Error",jy.ERR_NETWORK,e,p),{cause:y.cause||y});throw jy.from(y,y&&y.code,e,p)}}),Xv={http:null,xhr:Lv,fetch:Jv};Hy.forEach(Xv,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Zv=e=>`- ${e}`,ew=e=>Hy.isFunction(e)||null===e||!1===e,tw=e=>{e=Hy.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!ew(n)&&(r=Xv[(t=String(n)).toLowerCase()],void 0===r))throw new jy(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+a]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Zv).join("\n"):" "+Zv(e[0]):"as no adapter specified";throw new jy("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function nw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sv(null,e)}function rw(e){nw(e),e.headers=wv.from(e.headers),e.data=bv.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tw(e.adapter||hv.adapter)(e).then((function(t){return nw(e),t.data=bv.call(e,e.transformResponse,t),t.headers=wv.from(t.headers),t}),(function(t){return Cv(t)||(nw(e),t&&t.response&&(t.response.data=bv.call(e,e.transformResponse,t.response),t.response.headers=wv.from(t.response.headers))),Promise.reject(t)}))}const ow="1.8.2",aw={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{aw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const iw={};aw.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new jy(r(o," has been removed"+(t?" in "+t:"")),jy.ERR_DEPRECATED);return t&&!iw[o]&&(iw[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}},aw.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const sw={assertOptions:function(e,t,n){if("object"!==typeof e)throw new jy("options must be an object",jy.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new jy("option "+a+" must be "+n,jy.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new jy("Unknown option "+a,jy.ERR_BAD_OPTION)}},validators:aw},cw=sw.validators;class lw{constructor(e){this.defaults=e,this.interceptors={request:new tv,response:new tv}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Dv(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&sw.assertOptions(n,{silentJSONParsing:cw.transitional(cw.boolean),forcedJSONParsing:cw.transitional(cw.boolean),clarifyTimeoutError:cw.transitional(cw.boolean)},!1),null!=r&&(Hy.isFunction(r)?t.paramsSerializer={serialize:r}:sw.assertOptions(r,{encode:cw.function,serialize:cw.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),sw.assertOptions(t,{baseUrl:cw.spelling("baseURL"),withXsrfToken:cw.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Hy.merge(o.common,o[t.method]);o&&Hy.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=wv.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[rw.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=i.length;let h=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{l=rw.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return ev(Mv((e=Dv(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Hy.forEach(["delete","get","head","options"],(function(e){lw.prototype[e]=function(t,n){return this.request(Dv(n||{},{method:e,url:t,data:(n||{}).data}))}})),Hy.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Dv(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lw.prototype[e]=t(),lw.prototype[e+"Form"]=t(!0)}));const uw=lw;class dw{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Sv(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dw((function(t){e=t})),cancel:e}}}const hw=dw;const pw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pw).forEach((e=>{let[t,n]=e;pw[n]=t}));const fw=pw;const gw=function e(t){const n=new uw(t),r=ny(uw.prototype.request,n);return Hy.extend(r,uw.prototype,n,{allOwnKeys:!0}),Hy.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Dv(t,n))},r}(hv);gw.Axios=uw,gw.CanceledError=Sv,gw.CancelToken=hw,gw.isCancel=Cv,gw.VERSION=ow,gw.toFormData=Qy,gw.AxiosError=jy,gw.Cancel=gw.CanceledError,gw.all=function(e){return Promise.all(e)},gw.spread=function(e){return function(t){return e.apply(null,t)}},gw.isAxiosError=function(e){return Hy.isObject(e)&&!0===e.isAxiosError},gw.mergeConfig=Dv,gw.AxiosHeaders=wv,gw.formToJSON=e=>uv(Hy.isHTMLForm(e)?new FormData(e):e),gw.getAdapter=tw,gw.HttpStatusCode=fw,gw.default=gw;const mw=gw,yw="/api/engine/v2/systems",vw={headers:{"X-API-KEY":"e2fc2b62f5df81a8280cf5fd967e7c91.KHthwUQt79o2-mZDfSPgBGRt2hCkzMpr3rOajEYiIQY"}},ww={headers:{"X-API-KEY":"e2fc2b62f5df81a8280cf5fd967e7c91.KHthwUQt79o2-mZDfSPgBGRt2hCkzMpr3rOajEYiIQY"}},bw=async(e,t,n)=>{try{const r=`/api/staff/v1/calendars/availability?system_ids=${n}&period_start=${e}&period_end=${t}`;return(await mw.get(r,ww)).data}catch(r){return console.error("Error fetching events:",r),[]}},Cw="/api/staff/v1/events",kw="e2fc2b62f5df81a8280cf5fd967e7c91.KHthwUQt79o2-mZDfSPgBGRt2hCkzMpr3rOajEYiIQY";const Sw=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!1),[s,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(!1),[p,f]=(0,o.useState)({date:"",time:"",roomSize:"",onlyFavourites:!1,meetingRoom:!1,floor:""}),[g,m]=(0,o.useState)("");(0,o.useEffect)((()=>{!async function(){try{const e=(await mw.get(yw,vw)).data.filter((e=>e.bookable)).map((e=>{var t;return{id:e.id,email:e.email,name:e.display_name||e.name,location:"Accelerate"==e.name?"Area 2071":("Collaborate"==e.name?"Area 2071":"DFA")||"Default Location",capacity:e.capacity,favourite:!1,imageUrl:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://kjtech-lab-bucket.s3.me-central-1.amazonaws.com/Accelerate.jpeg",availability:[],booked:!1,zones:e.zones||[]}}));t([...e])}catch(e){console.error("Error fetching data from API",e)}}()}),[]),(0,o.useEffect)((()=>{!async function(){if(p.date&&p.time){const r=`${p.date}T${p.time}:00`,o=Math.floor(new Date(r).getTime()/1e3),a=o+1800;try{const n=await Promise.all(e.map((async e=>{const t=await bw(o,a,e.id),n=t&&t.length>0;return{...e,booked:!n}})));t(n)}catch(n){console.error("Error checking availability",n)}}else if(p.date&&!p.time){const r=new Date(p.date);r.setHours(0,0,0,0);const o=Math.floor(r.getTime()/1e3),a=o+86400;try{const n=await Promise.all(e.map((async e=>{const t=await bw(o,a,e.id),n=t&&t.length>0;return{...e,booked:!n}})));t(n)}catch(n){console.error("Error checking availability",n)}}else if(!p.date&&p.time){const r=7;try{const n=await Promise.all(e.map((async e=>{let t=!1;for(let n=0;n<r;n++){const r=new Date;r.setDate(r.getDate()+n);const[o,a]=p.time.split(":");r.setHours(parseInt(o,10),parseInt(a,10),0,0);const i=Math.floor(r.getTime()/1e3),s=i+1800,c=await bw(i,s,e.id);if(c&&c.length>0){t=!0;break}}return{...e,booked:!t}})));t(n)}catch(n){console.error("Error checking availability",n)}}}()}),[p.date,p.time,e]);const y=e=>{t((t=>t.map((t=>t.id===e?{...t,favourite:!t.favourite}:t))))},v=e=>{f((t=>({...t,...e})))},w=e.filter((e=>{if(g&&!e.name.toLowerCase().includes(g.toLowerCase()))return!1;if(p.roomSize&&e.capacity<parseInt(p.roomSize,10))return!1;if(p.onlyFavourites&&!e.favourite)return!1;if("DFA"===p.floor){const t=e.name.toLowerCase();if(!t.includes("s1")&&!t.includes("s2"))return!1}else if("AREA 2071"===p.floor){const t=e.name.toLowerCase();if(!t.includes("collaborate")&&!t.includes("accelerate"))return!1}return!0}));return(0,cu.jsxs)("div",{className:"booking-page",children:[(0,cu.jsxs)("header",{className:"booking-header",children:[(0,cu.jsx)("div",{className:"header-left",children:(0,cu.jsx)("img",{src:Kl,alt:"Left Logo",className:"left-logo",width:"200px"})}),(0,cu.jsx)("div",{className:"header-right",children:(0,cu.jsx)("img",{src:jl,alt:"Left Logo",className:"left-logo",width:"200px"})})]}),(0,cu.jsxs)("div",{className:"content-area",children:[(0,cu.jsx)(Jm,{searchQuery:g,onSearchChange:e=>m(e.target.value),handleFilterClick:()=>{h(!0)},onFilterChange:v}),w.map((e=>(0,cu.jsx)(Xm,{room:e,onBook:()=>(e=>{r(e),i(!0)})(e),onToggleFavorite:y},e.id)))]}),(0,cu.jsx)(Zm,{isOpen:a,onClose:()=>i(!1),onSave:async e=>{const t={event_start:Math.floor(new Date(e.date).getTime()/1e3),event_end:Math.floor(new Date(e.date).getTime()/1e3)+60*e.duration,attendees:[],system_id:e.system_id,private:!0,all_day:!1,title:e.title};try{await(async e=>{try{return(await mw.post(Cw,e,{headers:{"X-API-KEY":kw,"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error creating event:",t.response?t.response.data:t.message),t}})(t),i(!1),c(!0)}catch(n){console.error("Error creating event",n)}},selectedRoom:n}),(0,cu.jsx)(ey,{isOpen:s,onClose:()=>{c(!1)},bookingDetails:l}),(0,cu.jsx)(ty,{isOpen:d,onClose:()=>h(!1),onSave:v,defaultValues:p})]})};n.p;class Tw extends o.Component{constructor(e){super(e),this.login=async()=>{try{await this.PublicClientApplication.loginRedirect({scopes:s.scopes,prompt:"select_account"})}catch(e){console.error("Login error:",e),this.setState({isAuthenticated:!1,user:{},error:e})}},this.state={error:null,isAuthenticated:!1,user:{}},this.PublicClientApplication=new zl({auth:{clientId:s.appId,redirectUri:s.redirectUri},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}})}async componentDidMount(){try{const e=await this.PublicClientApplication.handleRedirectPromise();e&&e.account?this.setState({isAuthenticated:!0,user:e.account}):this.login()}catch(e){console.error("MSAL error:",e),this.setState({error:e})}}logout(){this.PublicClientApplication.logout()}render(){return(0,cu.jsx)(Sw,{})}}const Iw=Tw,Ew=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:a,getTTFB:i}=t;n(e),r(e),o(e),a(e),i(e)}))};i.createRoot(document.getElementById("root")).render((0,cu.jsx)(o.StrictMode,{children:(0,cu.jsx)(Iw,{})})),Ew()})();
//# sourceMappingURL=main.0a04fab2.js.map