/*! For license information please see main.d2d69a33.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.jsx=l,t.jsxs=l},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,o)&&!T.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return a=a(c=e),e=""===i?"."+A(c,0):i,k(a)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),M(a,t,o,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(c=0,i=""===i?".":i+":",k(e))for(var l=0;l<e.length;l++){var u=i+A(s=e[l],l);c+=M(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=M(s=s.value,t,o,u=i+A(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function x(e,t,n){if(null==e)return e;var r=[],o=0;return M(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},N={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=a,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)C.call(t,l)&&!T.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function k(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,N(C);else{var t=r(u);null!==t&&O(k,t.startTime-e)}}function C(e,n){m=!1,g&&(g=!1,v(E),E=-1),f=!0;var i=p;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&o(l),b(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&O(k,d.startTime-n),c=!1}return c}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,I=null,E=-1,_=5,A=-1;function M(){return!(t.unstable_now()-A<_)}function x(){if(null!==I){var e=t.unstable_now();A=e;var n=!0;try{n=I(!0,e)}finally{n?S():(T=!1,I=null)}}else T=!1}if("function"===typeof w)S=function(){w(x)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=x,S=function(){R.postMessage(null)}}else S=function(){y(x,0)};function N(e){I=e,T||(T=!0,S())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,N(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(g?(v(E),E=-1):g=!0,O(k,i-a))):(e.sortIndex=s,n(l,e),m||f||(m=!0,N(C))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),C=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,F=Object.assign;function q(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var H=!1;function U(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Nw){var r=Nw}Reflect.construct(e,[],t)}else{try{t.call()}catch(Nw){r=Nw}e.call(t.prototype)}else{try{throw Error()}catch(Nw){r=Nw}e()}}catch(Nw){if(Nw&&r&&"string"===typeof Nw.stack){for(var o=Nw.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var c="\n"+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function B(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case C:return"Portal";case I:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function V(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&V(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ie(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Se=null,Te=null;function Ie(e){if(e=bo(e)){if("function"!==typeof Ce)throw Error(i(280));var t=e.stateNode;t&&(t=Co(t),Ce(e.stateNode,e.type,t))}}function Ee(e){Se?Te?Te.push(e):Te=[e]:Se=e}function _e(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Me(){}var xe=!1;function Pe(e,t,n){if(xe)return e(t,n);xe=!0;try{return Ae(e,t,n)}finally{xe=!1,(null!==Se||null!==Te)&&(Me(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Co(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ne=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Ne=!1}function De(e,t,n,r,o,i,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,Fe=null,qe=!1,He=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,o,i,a,s,c){Le=!1,Fe=null,De.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return $e(o),e;if(a===r)return $e(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Ve=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Ge=o.unstable_requestPaint,Je=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Xe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Ct,St,Tt,It,Et=!1,_t=[],At=null,Mt=null,xt=null,Pt=new Map,Rt=new Map,Nt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=wo(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=je(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ht(e,t,n){qt(e)&&n.delete(t)}function Ut(){Et=!1,null!==At&&qt(At)&&(At=null),null!==Mt&&qt(Mt)&&(Mt=null),null!==xt&&qt(xt)&&(xt=null),Pt.forEach(Ht),Rt.forEach(Ht)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Mt&&Bt(Mt,e),null!==xt&&Bt(xt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var jt=b.ReactCurrentBatchConfig,$t=!0;function Wt(e,t,n,r){var o=wt,i=jt.transition;jt.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=o,jt.transition=i}}function Yt(e,t,n,r){var o=wt,i=jt.transition;jt.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=o,jt.transition=i}}function Kt(e,t,n,r){if($t){var o=Qt(e,t,n,r);if(null===o)$r(e,t,r,Vt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Lt(At,e,t,n,r,o),!0;case"dragenter":return Mt=Lt(Mt,e,t,n,r,o),!0;case"mouseover":return xt=Lt(xt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&kt(i),null===(i=Qt(e,t,n,r))&&$r(e,t,r,Vt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Vt=null;function Qt(e,t,n,r){if(Vt=null,null!==(e=wo(e=ke(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Xt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=F({},ln,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(an=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=an=0,cn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(F({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return Tn}var En=F({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(En),An=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),xn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),Nn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Fn=u&&(!On||Dn&&8<Dn&&11>=Dn),qn=String.fromCharCode(32),Hn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Kn=null;function Vn(e){qr(e,0)}function Qn(e){if(K(ko(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Zn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Kn=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,ke(e)),Pe(Vn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ir(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=V((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==V(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Tr={};function Ir(e){if(Sr[e])return Sr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}u&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Er=Ir("animationend"),_r=Ir("animationiteration"),Ar=Ir("animationstart"),Mr=Ir("transitionend"),xr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){xr.set(e,t),c(t,[e])}for(var Nr=0;Nr<Pr.length;Nr++){var Or=Pr[Nr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(_r,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Mr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,c,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Fe;Le=!1,Fe=null,qe||(qe=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==i&&o.isPropagationStopped())break e;Fr(o,s,l),i=c}else for(a=0;a<r.length;a++){if(c=(s=r[a]).instance,l=s.currentTarget,s=s.listener,c!==i&&o.isPropagationStopped())break e;Fr(o,s,l),i=c}}}if(qe)throw e=He,qe=!1,He=null,e}function Hr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),jr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function jr(e,t,n,r){switch(Gt(t)){case 1:var o=Wt;break;case 4:o=Yt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&((c=a.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=wo(s)))return;if(5===(c=a.tag)||6===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=i,o=ke(n),a=[];e:{var s=xr.get(e);if(void 0!==s){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Mn;break;case Er:case _r:case Ar:c=yn;break;case Mr:c=xn;break;case"scroll":c=hn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Re(f,h))&&u.push(Wr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new c(s,l,null,n,o),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!wo(l)&&!l[mo])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?wo(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==c?s:ko(c),p=null==l?s:ko(l),(s=new u(m,f+"leave",c,n,o)).target=d,s.relatedTarget=p,m=null,wo(o)===r&&((u=new u(h,f+"enter",l,n,o)).target=p,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,f=0,p=u=c;p;p=Kr(p))f++;for(p=0,m=h;m;m=Kr(m))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)h=Kr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==c&&Vr(a,s,c,u,!1),null!==l&&null!==d&&Vr(a,d,l,u,!0)}if("select"===(c=(s=r?ko(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Gn;else if($n(s))if(Jn)g=ar;else{g=or;var y=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ko(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,o)}var v;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):(Zt="value"in(Jt=o)?Jt.value:Jt.textContent,zn=!0)),0<(y=Yr(r,w)).length&&(w=new bn(w,e,null,n,o),a.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Hn=!0,qn);case"textInput":return(e=t.data)===qn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Un(e,t)?(e=en(),Xt=Zt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=v))}qr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Re(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==l&&(s=l,o?null!=(c=Re(n,i))&&a.unshift(Wr(n,c,s)):o||null!=(c=Re(n,i))&&a.push(Wr(n,c,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Xr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,ao="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);zt(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function wo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Co(e){return e[fo]||null}var So=[],To=-1;function Io(e){return{current:e}}function Eo(e){0>To||(e.current=So[To],So[To]=null,To--)}function _o(e,t){To++,So[To]=e.current,e.current=t}var Ao={},Mo=Io(Ao),xo=Io(!1),Po=Ao;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function No(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oo(){Eo(xo),Eo(Mo)}function Do(e,t,n){if(Mo.current!==Ao)throw Error(i(168));_o(Mo,t),_o(xo,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,j(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Po=Mo.current,_o(Mo,e),_o(xo,xo.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Eo(xo),Eo(Mo),_o(Mo,e)):Eo(xo),_o(xo,n)}var Ho=null,Uo=!1,Bo=!1;function zo(e){null===Ho?Ho=[e]:Ho.push(e)}function jo(){if(!Bo&&null!==Ho){Bo=!0;var e=0,t=wt;try{var n=Ho;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ho=null,Uo=!1}catch(o){throw null!==Ho&&(Ho=Ho.slice(e+1)),Ke(Xe,jo),o}finally{wt=t,Bo=!1}}return null}var $o=[],Wo=0,Yo=null,Ko=0,Vo=[],Qo=0,Go=null,Jo=1,Zo="";function Xo(e,t){$o[Wo++]=Ko,$o[Wo++]=Yo,Yo=e,Ko=t}function ei(e,t,n){Vo[Qo++]=Jo,Vo[Qo++]=Zo,Vo[Qo++]=Go,Go=e;var r=Jo;e=Zo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Jo=1<<32-at(t)+o|n<<o|r,Zo=i+e}else Jo=1<<i|n<<o|r,Zo=e}function ti(e){null!==e.return&&(Xo(e,1),ei(e,1,0))}function ni(e){for(;e===Yo;)Yo=$o[--Wo],$o[Wo]=null,Ko=$o[--Wo],$o[Wo]=null;for(;e===Go;)Go=Vo[--Qo],Vo[Qo]=null,Zo=Vo[--Qo],Vo[Qo]=null,Jo=Vo[--Qo],Vo[Qo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Go?{id:Jo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=lo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=lo(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=b.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&wi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Dl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case C:return(t=ql(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dl(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?l(e,t,n,r):null;case C:return n.key===o?u(e,t,n,r):null;case R:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,s,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,s[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=a(y,i,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),ii&&Xo(o,m),l;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],c))&&(i=a(d,i,m),null===u?l=d:u.sibling=d,u=d);return ii&&Xo(o,m),l}for(d=r(o,d);m<s.length;m++)null!==(g=f(d,o,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Xo(o,m),l}function g(o,s,c,l){var u=D(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=p(o,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(o,m),s=a(w,s,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(o,m),ii&&Xo(o,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(o,v.value,l))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return ii&&Xo(o,g),u}for(m=r(o,m);!v.done;g++,v=c.next())null!==(v=f(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Xo(o,g),u}return function e(r,i,a,c){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var l=a.key,u=i;null!==u;){if(u.key===l){if((l=a.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&wi(l)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=yi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((i=Dl(a.props.children,r.mode,c,a.key)).return=r,r=i):((c=Ol(a.type,a.key,a.props,null,r.mode,c)).ref=yi(r,i,a),c.return=r,r=c)}return s(r);case C:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=ql(a,r.mode,c)).return=r,r=i}return s(r);case R:return e(r,i,(u=a._init)(a._payload),c)}if(te(a))return m(r,i,a,c);if(D(a))return g(r,i,a,c);vi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fl(a,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var ki=bi(!0),Ci=bi(!1),Si=Io(null),Ti=null,Ii=null,Ei=null;function _i(){Ei=Ii=Ti=null}function Ai(e){var t=Si.current;Eo(Si),e._currentValue=t}function Mi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t){Ti=e,Ei=Ii=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Ii){if(null===Ti)throw Error(i(308));Ii=e,Ti.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Ri=null;function Ni(e){null===Ri?Ri=[e]:Ri.push(e)}function Oi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ji(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===a?i=l:a.next=l,a=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(a=0,u=l=c=null,s=i;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=p,c=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Lc|=a,e.lanes=a,e.memoizedState=d}}function $i(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},Yi=Io(Wi),Ki=Io(Wi),Vi=Io(Wi);function Qi(e){if(e===Wi)throw Error(i(174));return e}function Gi(e,t){switch(_o(Vi,t),_o(Ki,e),_o(Yi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Eo(Yi),_o(Yi,t)}function Ji(){Eo(Yi),Eo(Ki),Eo(Vi)}function Zi(e){Qi(Vi.current);var t=Qi(Yi.current),n=ce(t,e.type);t!==n&&(_o(Ki,e),_o(Yi,n))}function Xi(e){Ki.current===e&&(Eo(Yi),Eo(Ki))}var ea=Io(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,aa=0,sa=null,ca=null,la=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Xa:es,e=n(r,o),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(i(301));a+=1,la=ca=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Za,t=null!==ca&&null!==ca.next,aa=0,la=ca=sa=null,ua=!1,t)throw Error(i(300));return e}function ya(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function wa(){if(null===ca){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ca=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ca,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var c=s=null,l=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,s=r):l=l.next=h,sa.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==a);null===l?s=r:l.next=c,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Lc|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=wa(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ta(e,t){var n=sa,r=wa(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,ws=!0),r=r.queue,La(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Pa(9,Ea.bind(null,n,r,o,t),void 0,null),null===Mc)throw Error(i(349));0!==(30&aa)||Ia(n,t,o)}return o}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Ma(e)}function _a(e,t,n){return n((function(){Aa(t)&&Ma(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ma(e){var t=Di(e,1);null!==t&&nl(t,e,1,-1)}function xa(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Va.bind(null,sa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return wa().memoizedState}function Na(e,t,n,r){var o=va();sa.flags|=e,o.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var o=wa();r=void 0===r?null:r;var i=void 0;if(null!==ca){var a=ca.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Pa(t,n,i,r))}sa.flags|=e,o.memoizedState=Pa(1|t,n,i,r)}function Da(e,t){return Na(8390656,8,e,t)}function La(e,t){return Oa(2048,8,e,t)}function Fa(e,t){return Oa(4,2,e,t)}function qa(e,t){return Oa(4,4,e,t)}function Ha(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Ha.bind(null,t,e),n)}function Ba(){}function za(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ja(e,t){var n=wa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),sa.lanes|=n,Lc|=n,e.baseState=!0),t)}function Wa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{wt=n,ia.transition=r}}function Ya(){return wa().memoizedState}function Ka(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ga(t,n);else if(null!==(n=Oi(e,t,n,r))){nl(n,e,r,el()),Ja(n,t,r)}}function Va(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ga(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var c=t.interleaved;return null===c?(o.next=o,Ni(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(Nw){}null!==(n=Oi(e,t,o,r))&&(nl(n,e,r,o=el()),Ja(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ga(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ja(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Za={readContext:Pi,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Xa={readContext:Pi,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4194308,4,Ha.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:xa,useDebugValue:Ba,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=xa(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=va();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Mc)throw Error(i(349));0!==(30&aa)||Ia(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Da(_a.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Mc.identifierPrefix;if(ii){var n=Zo;t=":"+t+"R"+(n=(Jo&~(1<<32-at(Jo)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Pi,useCallback:za,useContext:Pi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:qa,useMemo:ja,useReducer:ka,useRef:Ra,useState:function(){return ka(ba)},useDebugValue:Ba,useDeferredValue:function(e){return $a(wa(),ca.memoizedState,e)},useTransition:function(){return[ka(ba)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1},ts={readContext:Pi,useCallback:za,useContext:Pi,useEffect:La,useImperativeHandle:Ua,useInsertionEffect:Fa,useLayoutEffect:qa,useMemo:ja,useReducer:Ca,useRef:Ra,useState:function(){return Ca(ba)},useDebugValue:Ba,useDeferredValue:function(e){var t=wa();return null===ca?t.memoizedState=e:$a(t,ca.memoizedState,e)},useTransition:function(){return[Ca(ba)[0],wa().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Ya,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Hi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Hi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Ui(e,i,o))&&(nl(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Hi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ui(e,o,r))&&(nl(t,e,r,n),Bi(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function as(e,t,n){var r=!1,o=Ao,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=No(t)?Po:Mo.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):Ao),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Fi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=No(t)?Po:Mo.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),ji(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Hi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,Wc=r),ds(0,t)},n}function fs(e,t,n){(n=Hi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Il.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Hi(-1,1)).tag=2,Ui(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=b.ReactCurrentOwner,ws=!1;function bs(e,t,n,r){t.child=null===e?Ci(t,null,n,r):ki(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return xi(t,o),r=ga(e,t,n,r,i,o),n=ya(),null===e||ws?(ii&&n&&ti(t),t.flags|=1,bs(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function Cs(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Rl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,(e=Nl(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,$s(e,t,o);0!==(131072&e.flags)&&(ws=!0)}}return Es(e,t,n,r,o)}function Ts(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Nc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Nc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_o(Nc,Rc),Rc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_o(Nc,Rc),Rc|=r;return bs(e,t,o,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,o){var i=No(n)?Po:Mo.current;return i=Ro(t,i),xi(t,o),n=ga(e,t,n,r,i,o),r=ya(),null===e||ws?(ii&&r&&ti(t),t.flags|=1,bs(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o))}function _s(e,t,n,r,o){if(No(n)){var i=!0;Fo(t)}else i=!1;if(xi(t,o),null===t.stateNode)js(e,t),as(t,n,r),cs(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Pi(l):l=Ro(t,l=No(n)?Po:Mo.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||c!==l)&&ss(t,a,r,l),Li=!1;var h=t.memoizedState;a.state=h,ji(t,r,a,o),c=t.memoizedState,s!==r||h!==c||xo.current||Li?("function"===typeof u&&(rs(t,n,u,r),c=t.memoizedState),(s=Li||is(t,n,s,r,h,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qi(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=Pi(c):c=Ro(t,c=No(n)?Po:Mo.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==c)&&ss(t,a,r,c),Li=!1,h=t.memoizedState,a.state=h,ji(t,r,a,o);var f=t.memoizedState;s!==d||h!==f||xo.current||Li?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(l=Li||is(t,n,l,r,h,f,c)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,i,o)}function As(e,t,n,r,o,i){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return o&&qo(t,n,!1),$s(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ki(t,e.child,null,i),t.child=ki(t,null,s,i)):bs(e,t,s,i),t.memoizedState=r.state,o&&qo(t,n,!0),t.child}function Ms(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Gi(e,t.containerInfo)}function xs(e,t,n,r,o){return fi(),mi(o),t.flags|=256,bs(e,t,n,r),t.child}var Ps,Rs,Ns,Os,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_o(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,s?(o=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Ll(c,o,0,null),e=Dl(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):qs(t,c));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Ll({mode:"visible",children:r.children},o,0,null),(a=Dl(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ki(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Hs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(r=Mc)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Di(e,o),nl(r,e,o,-1))}return ml(),Hs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_l.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Vo[Qo++]=Jo,Vo[Qo++]=Zo,Vo[Qo++]=Go,Jo=e.id,Zo=e.overflow,Go=t),t=qs(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,a,n);if(s){s=o.fallback,c=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Nl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nl(r,s):(s=Dl(s,c,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,c=null===(c=e.child.memoizedState)?Ls(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=Nl(s,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qs(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&mi(r),ki(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Mi(e.return,t,n)}function Bs(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function zs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return No(t.type)&&Oo(),Ys(t),null;case 3:return r=t.stateNode,Ji(),Eo(xo),Eo(Mo),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ai&&(al(ai),ai=null))),Rs(e,t),Ys(t),null;case 5:Xi(t);var o=Qi(Vi.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ys(t),null}if(e=Qi(Yi.current),hi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[fo]=a,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Hr(Dr[o],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":G(r,a),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Hr("invalid",r);break;case"textarea":oe(r,a),Hr("invalid",r)}for(var c in ve(n,a),o=null,a)if(a.hasOwnProperty(c)){var l=a[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),o=["children",""+l]):s.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Hr("scroll",r)}switch(n){case"input":Y(r),X(r,a,!0);break;case"textarea":Y(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[po]=t,e[fo]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),o=r;break;case"iframe":case"object":case"embed":Hr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Hr(Dr[o],e);o=r;break;case"source":Hr("error",e),o=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),o=r;break;case"details":Hr("toggle",e),o=r;break;case"input":G(e,r),o=Q(e,r),Hr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Hr("invalid",e)}for(a in ve(n,o),l=o)if(l.hasOwnProperty(a)){var u=l[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Hr("scroll",e):null!=u&&w(e,a,u,c))}switch(n){case"input":Y(e),X(e,r,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Vi.current),Qi(Yi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ys(t),null;case 13:if(Eo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,a=!1;else if(a=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==ai&&(al(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Oc&&(Oc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return Ji(),Rs(e,t),null===e&&zr(t.stateNode.containerInfo),Ys(t),null;case 10:return Ai(t.type._context),Ys(t),null;case 19:if(Eo(ea),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(c=a.rendering))if(r)Ws(a,!1);else{if(0!==Oc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zc&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!c.alternate&&!ii)return Ys(t),null}else 2*Je()-a.renderingStartTime>zc&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=a.last)?n.sibling=c:t.child=c,a.last=c)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ea.current,_o(ea,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Vs(e,t){switch(ni(t),t.tag){case 1:return No(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Eo(xo),Eo(Mo),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(Eo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Eo(ea),null;case 4:return Ji(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qi(Yi.current);var i,a=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),a=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Hr("scroll",e),a||c===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Gs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function sc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(s){}switch(n.tag){case 5:Gs||Xs(n,t);case 6:var r=uc,o=dc;uc=null,hc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),zt(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&ec(n,t,a),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Gs&&(Xs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,hc(e,t,n),Gs=r):hc(e,t,n);break;default:hc(e,t,n)}}function fc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(i(160));pc(a,s,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(Nw){Tl(o,t,Nw)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Tl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===a.type&&null!=a.name&&J(o,a),we(c,s);var u=we(c,a);for(s=0;s<l.length;s+=2){var d=l[s],h=l[s+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):w(o,d,h,u)}switch(c){case"input":Z(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(g){Tl(e,e.return,g)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){Tl(e,e.return,g)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Bc=Je())),4&r&&fc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(u=Gs)||d,mc(t,e),Gs=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(f=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:Xs(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:Xs(p,p.return);break;case 22:if(null!==p.memoizedState){kc(h);continue}}null!==f?(f.return=p,Zs=f):kc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(c=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",s))}catch(g){Tl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),yc(e),4&r&&fc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),lc(e,sc(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;cc(e,sc(e),a);break;default:throw Error(i(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Zs=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var o=Zs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Qs;if(!a){var s=o.alternate,c=null!==s&&null!==s.memoizedState||Gs;s=Qs;var l=Gs;if(Qs=a,(Gs=c)&&!l)for(Zs=o;null!==Zs;)c=(a=Zs).child,22===a.tag&&null!==a.memoizedState?Cc(o):null!==c?(c.return=a,Zs=c):Cc(o);for(;null!==i;)Zs=i,wc(i,t,n),i=i.sibling;Zs=o,Qs=s,Gs=l}bc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Zs=i):bc(e)}}function bc(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&$i(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$i(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Gs||512&t.flags&&oc(t)}catch(hu){Tl(t,t.return,hu)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function kc(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Cc(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){Tl(t,o,c)}}var i=t.return;try{oc(t)}catch(c){Tl(t,i,c)}break;case 5:var a=t.return;try{oc(t)}catch(c){Tl(t,a,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Sc,Tc=Math.ceil,Ic=b.ReactCurrentDispatcher,Ec=b.ReactCurrentOwner,_c=b.ReactCurrentBatchConfig,Ac=0,Mc=null,xc=null,Pc=0,Rc=0,Nc=Io(0),Oc=0,Dc=null,Lc=0,Fc=0,qc=0,Hc=null,Uc=null,Bc=0,zc=1/0,jc=null,$c=!1,Wc=null,Yc=null,Kc=!1,Vc=null,Qc=0,Gc=0,Jc=null,Zc=-1,Xc=0;function el(){return 0!==(6&Ac)?Je():-1!==Zc?Zc:Zc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Pc?Pc&-Pc:null!==gi.transition?(0===Xc&&(Xc=mt()),Xc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nl(e,t,n,r){if(50<Gc)throw Gc=0,Jc=null,Error(i(185));yt(e,n,r),0!==(2&Ac)&&e===Mc||(e===Mc&&(0===(2&Ac)&&(Fc|=n),4===Oc&&sl(e,Pc)),rl(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(zc=Je()+500,Uo&&jo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,c=o[a];-1===c?0!==(s&n)&&0===(s&r)||(o[a]=pt(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ht(e,e===Mc?Pc:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Uo=!0,zo(e)}(cl.bind(null,e)):zo(cl.bind(null,e)),ao((function(){0===(6&Ac)&&jo()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ml(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Zc=-1,Xc=0,0!==(6&Ac))throw Error(i(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var r=ht(e,e===Mc?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var o=Ac;Ac|=2;var a=fl();for(Mc===e&&Pc===t||(jc=null,zc=Je()+500,hl(e,t));;)try{vl();break}catch(c){pl(e,c)}_i(),Ic.current=a,Ac=o,null!==xc?t=0:(Mc=null,Pc=0,t=Oc)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=il(e,o))),1===t)throw n=Dc,hl(e,0),sl(e,r),rl(e,Je()),n;if(6===t)sl(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gl(e,r))&&(0!==(a=ft(e))&&(r=a,t=il(e,a))),1===t))throw n=Dc,hl(e,0),sl(e,r),rl(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:kl(e,Uc,jc);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Bc+500-Je())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(kl.bind(null,e,Uc,jc),t);break}kl(e,Uc,jc);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ro(kl.bind(null,e,Uc,jc),r);break}kl(e,Uc,jc);break;default:throw Error(i(329))}}}return rl(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Hc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Uc,Uc=n,null!==t&&al(t)),e}function al(e){null===Uc?Uc=e:Uc.push.apply(Uc,e)}function sl(e,t){for(t&=~qc,t&=~Fc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ac))throw Error(i(327));Cl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=Dc,hl(e,0),sl(e,t),rl(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e,Uc,jc),rl(e,Je()),null}function ll(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(zc=Je()+500,Uo&&jo())}}function ul(e){null!==Vc&&0===Vc.tag&&0===(6&Ac)&&Cl();var t=Ac;Ac|=1;var n=_c.transition,r=wt;try{if(_c.transition=null,wt=1,e)return e()}finally{wt=r,_c.transition=n,0===(6&(Ac=t))&&jo()}}function dl(){Rc=Nc.current,Eo(Nc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==xc)for(n=xc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oo();break;case 3:Ji(),Eo(xo),Eo(Mo),ra();break;case 5:Xi(r);break;case 4:Ji();break;case 13:case 19:Eo(ea);break;case 10:Ai(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Mc=e,xc=e=Nl(e.current,null),Pc=Rc=t,Oc=0,Dc=null,qc=Fc=Lc=0,Uc=Hc=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ri=null}return e}function pl(e,t){for(;;){var n=xc;try{if(_i(),oa.current=Za,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,la=ca=sa=null,da=!1,ha=0,Ec.current=null,null===n||null===n.return){Oc=1,Dc=t,xc=null;break}e:{var a=e,s=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=gs(s);if(null!==f){f.flags&=-257,ys(f,s,c,0,t),1&f.mode&&ms(a,u,t),l=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ms(a,u,t),ml();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,c,0,t),mi(ls(l,c));break e}}a=l=ls(l,c),4!==Oc&&(Oc=2),null===Hc?Hc=[a]:Hc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zi(a,ps(0,l,t));break e;case 1:c=l;var v=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Yc||!Yc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,zi(a,fs(a,c,t));break e}}a=a.return}while(null!==a)}bl(n)}catch(b){t=b,xc===n&&null!==n&&(xc=n=n.return);continue}break}}function fl(){var e=Ic.current;return Ic.current=Za,null===e?Za:e}function ml(){0!==Oc&&3!==Oc&&2!==Oc||(Oc=4),null===Mc||0===(268435455&Lc)&&0===(268435455&Fc)||sl(Mc,Pc)}function gl(e,t){var n=Ac;Ac|=2;var r=fl();for(Mc===e&&Pc===t||(jc=null,hl(e,t));;)try{yl();break}catch(o){pl(e,o)}if(_i(),Ac=n,Ic.current=r,null!==xc)throw Error(i(261));return Mc=null,Pc=0,Oc}function yl(){for(;null!==xc;)wl(xc)}function vl(){for(;null!==xc&&!Qe();)wl(xc)}function wl(e){var t=Sc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?bl(e):xc=t,Ec.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Rc)))return void(xc=n)}else{if(null!==(n=Vs(n,t)))return n.flags&=32767,void(xc=n);if(null===e)return Oc=6,void(xc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(xc=t);xc=t=e}while(null!==t);0===Oc&&(Oc=5)}function kl(e,t,n){var r=wt,o=_c.transition;try{_c.transition=null,wt=1,function(e,t,n,r){do{Cl()}while(null!==Vc);if(0!==(6&Ac))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Mc&&(xc=Mc=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kc||(Kc=!0,Ml(tt,(function(){return Cl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_c.transition,_c.transition=null;var s=wt;wt=1;var c=Ac;Ac|=4,Ec.current=null,function(e,t){if(eo=$t,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(c=s+o),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===o&&(c=s),p===a&&++d===r&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},$t=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(k){Tl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=tc,tc=!1}(e,n),gc(n,e),fr(to),$t=!!eo,to=eo=null,e.current=n,vc(n,e,o),Ge(),Ac=c,wt=s,_c.transition=a}else e.current=n;if(Kc&&(Kc=!1,Vc=e,Qc=o),a=e.pendingLanes,0===a&&(Yc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($c)throw $c=!1,e=Wc,Wc=null,e;0!==(1&Qc)&&0!==e.tag&&Cl(),a=e.pendingLanes,0!==(1&a)?e===Jc?Gc++:(Gc=0,Jc=e):Gc=0,jo()}(e,t,n,r)}finally{_c.transition=o,wt=r}return null}function Cl(){if(null!==Vc){var e=bt(Qc),t=_c.transition,n=wt;try{if(_c.transition=null,wt=16>e?16:e,null===Vc)var r=!1;else{if(e=Vc,Vc=null,Qc=0,0!==(6&Ac))throw Error(i(331));var o=Ac;for(Ac|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var c=a.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nc(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var p=(d=Zs).sibling,f=d.return;if(ic(d),d===u){Zs=null;break}if(null!==p){p.return=f,Zs=p;break}Zs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nc(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Zs=v;break e}Zs=a.return}}var w=e.current;for(Zs=w;null!==Zs;){var b=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Zs=b;else e:for(s=w;null!==Zs;){if(0!==(2048&(c=Zs).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(C){Tl(c,c.return,C)}if(c===s){Zs=null;break e}var k=c.sibling;if(null!==k){k.return=c.return,Zs=k;break e}Zs=c.return}}if(Ac=o,jo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(C){}r=!0}return r}finally{wt=n,_c.transition=t}}return!1}function Sl(e,t,n){e=Ui(e,t=ps(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=Ui(t,e=fs(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Il(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Mc===e&&(Pc&n)===n&&(4===Oc||3===Oc&&(130023424&Pc)===Pc&&500>Je()-Bc?hl(e,0):qc|=n),rl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=Di(e,t))&&(yt(e,t,n),rl(e,n))}function _l(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),El(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),El(e,n)}function Ml(e,t){return Ke(e,t)}function xl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new xl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,o,a){var s=2;if(r=e,"function"===typeof e)Rl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Dl(n.children,o,a,t);case T:s=8,o|=8;break;case I:return(e=Pl(12,n,t,2|o)).elementType=I,e.lanes=a,e;case M:return(e=Pl(13,n,t,o)).elementType=M,e.lanes=a,e;case x:return(e=Pl(19,n,t,o)).elementType=x,e.lanes=a,e;case N:return Ll(n,o,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case _:s=9;break e;case A:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Dl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,o,i,a,s,c){return e=new Hl(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fi(i),e}function Bl(e){if(!e)return Ao;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(No(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(No(n))return Lo(e,n,t)}return t}function zl(e,t,n,r,o,i,a,s,c){return(e=Ul(n,r,!0,e,0,i,0,s,c)).context=Bl(null),n=e.current,(i=Hi(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Ui(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function jl(e,t,n,r){var o=t.current,i=el(),a=tl(o);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Hi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ui(o,t,a))&&(nl(e,o,a,i),Bi(e,o,a)),a}function $l(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xo.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ms(t),fi();break;case 5:Zi(t);break;case 1:No(t.type)&&Fo(t);break;case 4:Gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(Si,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(_o(ea,1&ea.current),null!==(e=$s(e,t,n))?e.sibling:null);_o(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return $s(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,ii&&0!==(1048576&t.flags)&&ei(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var o=Ro(t,Mo.current);xi(t,n),o=ga(null,t,r,e,o,n);var a=ya();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,No(r)?(a=!0,Fo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Fi(t),o.updater=os,t.stateNode=o,o._reactInternals=t,cs(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),bs(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=ns(r,e),o){case 0:t=Es(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Es(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,_s(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ms(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,qi(e,t),ji(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=xs(e,t,r,n,o=ls(Error(i(423)),t));break e}if(r!==o){t=xs(e,t,r,n,o=ls(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ci(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=$s(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Is(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Fs(e,t,n);case 4:return Gi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ki(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,_o(Si,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!xo.current){t=$s(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var c=a.dependencies;if(null!==c){s=a.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Hi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Mi(a.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Mi(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,xi(t,n),r=r(o=Pi(o)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Cs(e,t,r,o=ns(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),js(e,t),t.tag=1,No(r)?(e=!0,Fo(t)):e=!1,xi(t,n),as(t,r,o),cs(t,r,o,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ts(e,t,n)}throw Error(i(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Gl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function Xl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof o){var s=o;o=function(){var e=$l(a);s.call(e)}}jl(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=$l(a);i.call(e)}}var a=zl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[mo]=a.current,zr(8===e.nodeType?e.parentNode:e),ul(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var s=r;r=function(){var e=$l(c);s.call(e)}}var c=Ul(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[mo]=c.current,zr(8===e.nodeType?e.parentNode:e),ul((function(){jl(t,c,n,r)})),c}(n,t,e,o,r);return $l(a)}Ql.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));jl(e,t,null,null)},Ql.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){jl(null,e,null,null)})),t[mo]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&Ac)&&(zc=Je()+500,jo()))}break;case 13:ul((function(){var t=Di(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Yl(e,1)}},Ct=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nl(t,e,134217728,el());Yl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Di(e,t);if(null!==n)nl(n,e,t,el());Yl(e,t)}},Tt=function(){return wt},It=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ce=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Co(r);if(!o)throw Error(i(90));K(r),Z(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,Me=ul;var eu={usingClientEntryPoint:!1,Events:[bo,ko,Co,Ee,_e,ll]},tu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gl(e))throw Error(i(299));var n=!1,r="",o=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,zr(8===e.nodeType?e.parentNode:e),new Vl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(i(200));return Xl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,zr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ql(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(i(200));return Xl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(i(40));return!!e._reactRootContainer&&(ul((function(){Xl(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".0e01b7de.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="booking-app:";n.l=(r,o,i,a)=>{if(e[r])e[r].push(o);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,a=r[0],s=r[1],c=r[2],l=0;if(a.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)c(n)}for(t&&t(r);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkbooking_app=self.webpackChunkbooking_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>av,hasStandardBrowserEnv:()=>cv,hasStandardBrowserWebWorkerEnv:()=>lv,navigator:()=>sv,origin:()=>uv});var o=n(43),i=n.t(o,2),a=n(391);const s={appId:"c11c5223-1fc0-4e45-9969-08904250f96c",redirectUri:"http://localhost:3000/",scopes:["user.read"]},c={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},l=400,u=499,d=500,h=599,p=[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE],f=[...p,c.EMAIL_SCOPE],m="Content-Type",g="Content-Length",y="Retry-After",v="X-AnchorMailbox",w="x-ms-request-id",b="x-ms-httpver",k="active-account-filters",C="common",S="organizations",T="consumers",I="access_token",E="xms_cc",_={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},A={PLAIN:"plain",S256:"S256"},M={QUERY:"query",FRAGMENT:"fragment"},x={...M,FORM_POST:"form_post"},P="authorization_code",R="refresh_token",N="MSSTS",O="ADFS",D="Generic",L="-",F=".",q={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},H="appmetadata",U="1",B="authority-metadata",z=86400,j="config",$="cache",W="network",Y="hardcoded_values",K={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},V={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Q=60,G=3600,J="throttling",Z="retry-after, h429",X="invalid_grant",ee="client_mismatch",te="username",ne="password",re=200,oe=400,ie="1",ae="3",se="4",ce="2",le="4",ue="5",de="0",he="1",pe="2",fe="3",me="4",ge="pop";var ye;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(ye||(ye={}));class ve{constructor(e,t,n){this.level=ye.Info;const r=e||ve.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:ye.Info,this.correlationId=r.correlationId||c.EMPTY_STRING,this.packageName=t||c.EMPTY_STRING,this.packageVersion=n||c.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info}}clone(e,t,n){return new ve({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ye[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:ye.Error,containsPii:!1,correlationId:t||c.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:ye.Error,containsPii:!0,correlationId:t||c.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:ye.Warning,containsPii:!1,correlationId:t||c.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:ye.Warning,containsPii:!0,correlationId:t||c.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:ye.Info,containsPii:!1,correlationId:t||c.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:ye.Info,containsPii:!0,correlationId:t||c.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!1,correlationId:t||c.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:ye.Verbose,containsPii:!0,correlationId:t||c.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:ye.Trace,containsPii:!1,correlationId:t||c.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:ye.Trace,containsPii:!0,correlationId:t||c.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const we="AAD",be="OIDC",ke="none",Ce="unexpected_error",Se="post_request_failed",Te={[Ce]:"Unexpected error in authentication.",[Se]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ie extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,Ie.prototype),this.errorCode=e||c.EMPTY_STRING,this.errorMessage=t||c.EMPTY_STRING,this.subError=n||c.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Ee(e,t){return new Ie(e,t?`${Te[e]} ${t}`:Te[e])}const _e="client_info_decoding_error",Ae="client_info_empty_error",Me="token_parsing_error",xe="null_or_empty_token",Pe="endpoints_resolution_error",Re="network_error",Ne="openid_config_error",Oe="hash_not_deserialized",De="invalid_state",Le="state_mismatch",Fe="state_not_found",qe="nonce_mismatch",He="auth_time_not_found",Ue="max_age_transpired",Be="multiple_matching_tokens",ze="multiple_matching_accounts",je="multiple_matching_appMetadata",$e="request_cannot_be_made",We="cannot_remove_empty_scope",Ye="cannot_append_scopeset",Ke="empty_input_scopeset",Ve="device_code_polling_cancelled",Qe="device_code_expired",Ge="device_code_unknown_error",Je="no_account_in_silent_request",Ze="invalid_cache_record",Xe="invalid_cache_environment",et="no_account_found",tt="no_crypto_object",nt="unexpected_credential_type",rt="invalid_assertion",ot="invalid_client_credential",it="token_refresh_required",at="user_timeout_reached",st="token_claims_cnf_required_for_signedjwt",ct="authorization_code_missing_from_server_response",lt="binding_key_not_removed",ut="end_session_endpoint_not_supported",dt="key_id_missing",ht="no_network_connectivity",pt="user_canceled",ft="missing_tenant_id_error",mt="method_not_implemented",gt="nested_app_auth_bridge_disabled",yt={[_e]:"The client info could not be parsed/decoded correctly",[Ae]:"The client info was empty",[Me]:"Token cannot be parsed",[xe]:"The token is null or empty",[Pe]:"Endpoints cannot be resolved",[Re]:"Network request failed",[Ne]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Oe]:"The hash parameters could not be deserialized",[De]:"State was not the expected format",[Le]:"State mismatch error",[Fe]:"State not found",[qe]:"Nonce mismatch error",[He]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Ue]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Be]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ze]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[je]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[$e]:"Token request cannot be made without authorization code or refresh token.",[We]:"Cannot remove null or empty scope from ScopeSet",[Ye]:"Cannot append ScopeSet",[Ke]:"Empty input ScopeSet cannot be processed",[Ve]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[Qe]:"Device code is expired.",[Ge]:"Device code stopped polling for unknown reasons.",[Je]:"Please pass an account object, silent flow is not supported without account information",[Ze]:"Cache record object was null or undefined.",[Xe]:"Invalid environment when attempting to create cache entry",[et]:"No account found in cache for given key.",[tt]:"No crypto object detected.",[nt]:"Unexpected credential type.",[rt]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[ot]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[it]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[at]:"User defined timeout for device code polling reached",[st]:"Cannot generate a POP jwt if the token_claims are not populated",[ct]:"Server response does not contain an authorization code to proceed",[lt]:"Could not remove the credential's binding key from storage.",[ut]:"The provided authority does not support logout",[dt]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ht]:"No network connectivity. Check your internet connection.",[pt]:"User cancelled the flow.",[ft]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[mt]:"This method has not been implemented",[gt]:"The nested app auth bridge is disabled"};class vt extends Ie{constructor(e,t){super(e,t?`${yt[e]}: ${t}`:yt[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,vt.prototype)}}function wt(e,t){return new vt(e,t)}const bt={createNewGuid:()=>{throw wt(mt)},base64Decode:()=>{throw wt(mt)},base64Encode:()=>{throw wt(mt)},base64UrlEncode:()=>{throw wt(mt)},encodeKid:()=>{throw wt(mt)},async getPublicKeyThumbprint(){throw wt(mt)},async removeTokenBindingKey(){throw wt(mt)},async clearKeystore(){throw wt(mt)},async signJwt(){throw wt(mt)},async hashString(){throw wt(mt)}},kt="@azure/msal-common",Ct="15.2.1";function St(e,t){const n=function(e){if(!e)throw wt(xe);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw wt(Me);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(r){throw wt(Me)}}function Tt(e,t){if(0===t||Date.now()-3e5>e+t)throw wt(Ue)}function It(){return Math.round((new Date).getTime()/1e3)}function Et(e){return e.getTime()/1e3}function _t(e){return e?new Date(1e3*Number(e)):new Date}function At(e,t){const n=Number(e)||0;return It()+t>n}function Mt(e){return[Ot(e),Dt(e),Lt(e),Ft(e),qt(e)].join(L).toLowerCase()}function xt(e,t,n,r,o){return{credentialType:q.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Pt(e,t,n,r,o,i,a,s,c,l,u,d,h,p,f){const m={homeAccountId:e,credentialType:q.ACCESS_TOKEN,secret:n,cachedAt:It().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||V.BEARER};if(d&&(m.userAssertionHash=d),l&&(m.refreshOn=l.toString()),p&&(m.requestedClaims=p,m.requestedClaimsHash=f),m.tokenType?.toLowerCase()!==V.BEARER.toLowerCase())switch(m.credentialType=q.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case V.POP:const e=St(n,c);if(!e?.cnf?.kid)throw wt(st);m.keyId=e.cnf.kid;break;case V.SSH:m.keyId=h}return m}function Rt(e,t,n,r,o,i,a){const s={credentialType:q.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(s.userAssertionHash=i),o&&(s.familyId=o),a&&(s.expiresOn=a.toString()),s}function Nt(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Ot(e){return[e.homeAccountId,e.environment].join(L).toLowerCase()}function Dt(e){const t=e.credentialType===q.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(L).toLowerCase()}function Lt(e){return(e.target||"").toLowerCase()}function Ft(e){return(e.requestedClaimsHash||"").toLowerCase()}function qt(e){return e.tokenType&&e.tokenType.toLowerCase()!==V.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Ht(){return It()+z}function Ut(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function Bt(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function zt(e){return e.expiresAt<=It()}const jt="redirect_uri_empty",$t="claims_request_parsing_error",Wt="authority_uri_insecure",Yt="url_parse_error",Kt="empty_url_error",Vt="empty_input_scopes_error",Qt="invalid_prompt_value",Gt="invalid_claims",Jt="token_request_empty",Zt="logout_request_empty",Xt="invalid_code_challenge_method",en="pkce_params_missing",tn="invalid_cloud_discovery_metadata",nn="invalid_authority_metadata",rn="untrusted_authority",on="missing_ssh_jwk",an="missing_ssh_kid",sn="missing_nonce_authentication_header",cn="invalid_authentication_header",ln="cannot_set_OIDCOptions",un="cannot_allow_platform_broker",dn="authority_mismatch",hn={[jt]:"A redirect URI is required for all calls, and none has been set.",[$t]:"Could not parse the given claims request object.",[Wt]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Yt]:"URL could not be parsed into appropriate segments.",[Kt]:"URL was empty or null.",[Vt]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Qt]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Gt]:"Given claims parameter must be a stringified JSON object.",[Jt]:"Token request was empty and not found in cache.",[Zt]:"The logout request was null or undefined.",[Xt]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[en]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[tn]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[nn]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[rn]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[on]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[an]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[sn]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[cn]:"Invalid authentication header provided",[ln]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[un]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[dn]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class pn extends Ie{constructor(e){super(e,hn[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,pn.prototype)}}function fn(e){return new pn(e)}class mn{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class gn{constructor(e){const t=e?mn.trimArrayEntries([...e]):[],n=t?mn.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw fn(Vt);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||c.EMPTY_STRING).split(" ");return new gn(t)}static createSearchScopes(e){const t=new gn(e);return t.containsOnlyOIDCScopes()?t.removeScope(c.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new gn(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return f.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw wt(Ye)}}removeScope(e){if(!e)throw wt(We);this.scopes.delete(e.trim())}removeOIDCScopes(){f.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw wt(Ke);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw wt(Ke);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return c.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function yn(e,t){if(!e)throw wt(Ae);try{const n=t(e);return JSON.parse(n)}catch(n){throw wt(_e)}}function vn(e){if(!e)throw wt(_e);const t=e.split(F,2);return{uid:t[0],utid:t.length<2?c.EMPTY_STRING:t[1]}}function wn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function bn(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:a,acr:s}=r,c=o||a||s||"";return{tenantId:c,localAccountId:t||n||"",name:i,isHomeTenant:wn(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:wn(n,e)}}function kn(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=bn(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const Cn=0,Sn=1,Tn=2,In=3;function En(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class _n{generateAccountId(){return[this.homeAccountId,this.environment].join(L).toLowerCase()}generateAccountKey(){return _n.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(L).toLowerCase()}static createAccount(e,t,n){const r=new _n;let o;t.authorityType===Sn?r.authorityType=O:t.protocolMode===we?r.authorityType=N:r.authorityType=D,e.clientInfo&&n&&(o=yn(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw wt(Xe);r.environment=i,r.realm=o?.utid||En(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const a=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,s=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=a||s||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=bn(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new _n;return r.authorityType=e.authorityType||D,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==Sn&&t!==Tn){if(e)try{const t=yn(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(i){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function An(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function Mn(e){if(!e||e.indexOf("=")<0)return null;try{const t=An(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw wt(Oe)}return null}class xn{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw fn(Kt);e.includes("#")||(this._urlString=xn.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return mn.endsWith(t,"?")?t=t.slice(0,-1):mn.endsWith(t,"?/")&&(t=t.slice(0,-2)),mn.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw fn(Yt)}if(!e.HostNameAndPort||!e.PathSegments)throw fn(Yt);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw fn(Wt)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return xn.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==C&&n[0]!==S||(n[0]=e),xn.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw fn(Yt);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw fn(Yt);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===c.FORWARD_SLASH){const n=new xn(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new xn(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!Mn(e)}}const Pn={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Rn={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Nn=new Set;function On(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=Dn(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function Dn(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Rn.metadata.forEach((e=>{e.aliases.forEach((e=>{Nn.add(e)}))}));const Ln="cache_quota_exceeded",Fn="cache_error_unknown",qn={[Ln]:"Exceeded cache storage capacity.",[Fn]:"Unexpected error occurred when using cache storage."};class Hn extends Error{constructor(e,t){const n=t||(qn[e]?qn[e]:qn[Fn]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Hn.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Un{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(kt,Ct),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const a=this.getIdToken(e,t,n.tenantId);return a&&(o=St(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=kn(e,n,o,a?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const a=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&a.push(t)})),a}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw wt(Ze);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,t),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Hn(Ln)):new Hn(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,t),new Hn(Fn))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=gn.fromString(e.target),i=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){gn.fromString(t.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(e))}})),await Promise.all(i),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(L).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(L).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(q.ID_TOKEN.toLowerCase())&&-1===t.indexOf(q.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(q.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(q.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(q.REFRESH_TOKEN.toLowerCase())>-1){const e=`${q.REFRESH_TOKEN}${L}${this.clientId}${L}`,n=`${q.REFRESH_TOKEN}${L}${U}${L}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===q.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===V.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===q.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===V.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw wt(lt)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=_n.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:q.ID_TOKEN,clientId:this.clientId,realm:n},a=this.getIdTokensByFilter(i,t),s=a.size;if(s<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(s>1){let t=a;if(!n){const n=new Map;a.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const a=gn.createSearchScopes(t.scopes),s=t.authenticationScheme||V.BEARER,c=s&&s.toLowerCase()!==V.BEARER.toLowerCase()?q.ACCESS_TOKEN_WITH_AUTH_SCHEME:q.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:a,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(Mt(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?U:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:q.REFRESH_TOKEN,clientId:this.clientId,familyId:i},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];s.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,a)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,a)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&o&&r.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw wt(je);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==U)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new xn(r).getUrlComponents().HostNameAndPort;n=On(o,e.cloudDiscoveryMetadata?.metadata,j,t)||On(o,Rn.metadata,Y,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==q.ACCESS_TOKEN&&e.credentialType!==q.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return gn.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(H)}isAuthorityMetadata(e){return-1!==e.indexOf(B)}generateAuthorityMetadataCacheKey(e){return`${B}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class Bn extends Un{async setAccount(){throw wt(mt)}getAccount(){throw wt(mt)}async setIdTokenCredential(){throw wt(mt)}getIdTokenCredential(){throw wt(mt)}async setAccessTokenCredential(){throw wt(mt)}getAccessTokenCredential(){throw wt(mt)}async setRefreshTokenCredential(){throw wt(mt)}getRefreshTokenCredential(){throw wt(mt)}setAppMetadata(){throw wt(mt)}getAppMetadata(){throw wt(mt)}setServerTelemetry(){throw wt(mt)}getServerTelemetry(){throw wt(mt)}setAuthorityMetadata(){throw wt(mt)}getAuthorityMetadata(){throw wt(mt)}getAuthorityMetadataKeys(){throw wt(mt)}setThrottlingCache(){throw wt(mt)}getThrottlingCache(){throw wt(mt)}removeItem(){throw wt(mt)}getKeys(){throw wt(mt)}getAccountKeys(){throw wt(mt)}getTokenKeys(){throw wt(mt)}}const zn={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},jn={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ye.Info,correlationId:c.EMPTY_STRING},$n={claimsBasedCachingEnabled:!1},Wn={async sendGetRequestAsync(){throw wt(mt)},async sendPostRequestAsync(){throw wt(mt)}},Yn={sku:c.SKU,version:Ct,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},Kn={clientSecret:c.EMPTY_STRING,clientAssertion:void 0},Vn={azureCloudInstance:ke,tenant:`${c.DEFAULT_COMMON_TENANT}`},Qn={application:{appName:"",appVersion:""}};function Gn(e){return e.authOptions.authority.options.protocolMode===be}const Jn={sendGetRequestAsync:()=>Promise.reject(wt(mt)),sendPostRequestAsync:()=>Promise.reject(wt(mt))},Zn="acquireTokenByCode",Xn="acquireTokenByRefreshToken",er="acquireTokenSilent",tr="acquireTokenSilentAsync",nr="acquireTokenPopup",rr="acquireTokenPreRedirect",or="acquireTokenRedirect",ir="cryptoOptsGetPublicKeyThumbprint",ar="cryptoOptsSignJwt",sr="silentCacheClientAcquireToken",cr="silentIframeClientAcquireToken",lr="awaitConcurrentIframe",ur="silentRefreshClientAcquireToken",dr="ssoSilent",hr="standardInteractionClientGetDiscoveredAuthority",pr="fetchAccountIdWithNativeBroker",fr="nativeInteractionClientAcquireToken",mr="networkClientSendPostRequestAsync",gr="refreshTokenClientExecutePostToTokenEndpoint",yr="authorizationCodeClientExecutePostToTokenEndpoint",vr="refreshTokenClientExecuteTokenRequest",wr="refreshTokenClientAcquireToken",br="refreshTokenClientAcquireTokenWithCachedRefreshToken",kr="refreshTokenClientAcquireTokenByRefreshToken",Cr="refreshTokenClientCreateTokenRequestBody",Sr="acquireTokenFromCache",Tr="silentFlowClientAcquireCachedToken",Ir="silentFlowClientGenerateResultFromCacheRecord",Er="acquireTokenBySilentIframe",_r="initializeBaseRequest",Ar="initializeSilentRequest",Mr="initializeClientApplication",xr="initializeCache",Pr="silentIframeClientTokenHelper",Rr="silentHandlerInitiateAuthRequest",Nr="silentHandlerMonitorIframeForHash",Or="silentHandlerLoadFrame",Dr="silentHandlerLoadFrameSync",Lr="standardInteractionClientCreateAuthCodeClient",Fr="standardInteractionClientGetClientConfiguration",qr="standardInteractionClientInitializeAuthorizationRequest",Hr="standardInteractionClientInitializeAuthorizationCodeRequest",Ur="getAuthCodeUrl",Br="handleCodeResponseFromServer",zr="handleCodeResponse",jr="updateTokenEndpointAuthority",$r="authClientAcquireToken",Wr="authClientExecuteTokenRequest",Yr="authClientCreateTokenRequestBody",Kr="authClientCreateQueryString",Vr="popTokenGenerateCnf",Qr="popTokenGenerateKid",Gr="handleServerTokenResponse",Jr="deserializeResponse",Zr="authorityFactoryCreateDiscoveredInstance",Xr="authorityResolveEndpointsAsync",eo="authorityGetCloudDiscoveryMetadataFromNetwork",to="authorityUpdateCloudDiscoveryMetadata",no="authorityGetEndpointMetadataFromNetwork",ro="authorityUpdateEndpointMetadata",oo="authorityUpdateMetadataWithRegionalInformation",io="regionDiscoveryDetectRegion",ao="regionDiscoveryGetRegionFromIMDS",so="regionDiscoveryGetCurrentVersion",co="acquireTokenByCodeAsync",lo="handleRedirectPromise",uo="handleNativeRedirectPromise",ho="nativeMessageHandlerHandshake",po="removeHiddenIframe",fo="clearTokensAndKeysWithClaims",mo="cacheManagerGetRefreshToken",go="importExistingCache",yo="setUserData",vo="localStorageUpdated",wo="generatePkceCodes",bo="generateCodeVerifier",ko="generateCodeChallengeFromVerifier",Co="sha256Digest",So="getRandomValues",To="generateHKDF",Io="generateBaseKey",Eo="base64Decode",_o="urlEncodeArr",Ao="encrypt",Mo="decrypt",xo=(new Map([[Zn,"ATByCode"],[Xn,"ATByRT"],[er,"ATS"],[tr,"ATSAsync"],[nr,"ATPopup"],[or,"ATRedirect"],[ir,"CryptoGetPKThumb"],[ar,"CryptoSignJwt"],[sr,"SltCacheClientAT"],[cr,"SltIframeClientAT"],[ur,"SltRClientAT"],[dr,"SsoSlt"],[hr,"StdIntClientGetDiscAuth"],[pr,"FetchAccIdWithNtvBroker"],[fr,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[mr,"NetClientSendPost"],[gr,"RTClientExecPost"],[yr,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[vr,"RTClientExecTReq"],[wr,"RTClientAT"],[br,"RTClientATWithCachedRT"],[kr,"RTClientATByRT"],[Cr,"RTClientCreateTReqBody"],[Sr,"ATFromCache"],[Tr,"SltFlowClientATCached"],[Ir,"SltFlowClientGenResFromCache"],[Er,"ATBySltIframe"],[_r,"InitBaseReq"],[Ar,"InitSltReq"],[Mr,"InitClientApplication"],[xr,"InitCache"],[go,"importCache"],[yo,"setUserData"],[vo,"localStorageUpdated"],[Pr,"SIClientTHelper"],[Rr,"SHandlerInitAuthReq"],[Nr,"SltHandlerMonitorIframeForHash"],[Or,"SHandlerLoadFrame"],[Dr,"SHandlerLoadFrameSync"],[Lr,"StdIntClientCreateAuthCodeClient"],[Fr,"StdIntClientGetClientConf"],[qr,"StdIntClientInitAuthReq"],[Hr,"StdIntClientInitAuthCodeReq"],[Ur,"GetAuthCodeUrl"],[Br,"HandleCodeResFromServer"],[zr,"HandleCodeResp"],[jr,"UpdTEndpointAuth"],[$r,"AuthClientAT"],[Wr,"AuthClientExecTReq"],[Yr,"AuthClientCreateTReqBody"],[Kr,"AuthClientCreateQueryStr"],[Vr,"PopTGenCnf"],[Qr,"PopTGenKid"],[Gr,"HandleServerTRes"],[Jr,"DeserializeRes"],[Zr,"AuthFactCreateDiscInst"],[Xr,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[eo,"AuthGetCDMetaFromNet"],[to,"AuthUpdCDMeta"],[no,"AuthUpdCDMetaFromNet"],[ro,"AuthUpdEndpointMeta"],[oo,"AuthUpdMetaWithRegInfo"],[io,"RegDiscDetectReg"],[ao,"RegDiscGetRegFromIMDS"],[so,"RegDiscGetCurrentVer"],[co,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[lo,"HandleRedirectPromise"],[uo,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[ho,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[po,"RemoveHiddenIframe"],[fo,"ClearTAndKeysWithClaims"],[mo,"CacheManagerGetRT"],[wo,"GenPkceCodes"],[bo,"GenCodeVerifier"],[ko,"GenCodeChallengeFromVerifier"],[Co,"Sha256Digest"],[So,"GetRandomValues"],[To,"genHKDF"],[Io,"genBaseKey"],[Eo,"b64Decode"],[_o,"urlEncArr"],[Ao,"encrypt"],[Mo,"decrypt"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Po{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Ro{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:xo,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Po}}startPerformanceMeasurement(){return new Po}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}const No="invalid_grant",Oo=483,Do=600,Lo="msal",Fo=30,qo="msal.js.browser",Ho="53ee284d-920a-4b59-9d30-a60315b26836",Uo="ppnbnpeolgkicgegkbkbjmhlideopiji",Bo="MATS",zo="Handshake",jo="HandshakeResponse",$o="GetToken",Wo="Response",Yo="localStorage",Ko="sessionStorage",Vo="memoryStorage",Qo="GET",Go="POST",Jo="authority",Zo="request.state",Xo="nonce.id_token",ei="request.origin",ti="urlHash",ni="request.params",ri="interaction.status",oi="ccs.credential",ii="request.correlationId",ai="request.native",si="msal.account.keys",ci="msal.token.keys",li="wrapper.sku",ui="wrapper.version",di=861,hi=862,pi=863,fi=865,mi=866,gi=61,yi=961,vi=962;var wi;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(wi||(wi={}));const bi={scopes:p},ki="msal.db",Ci=`${ki}.keys`,Si=0,Ti=1,Ii=2,Ei=3,_i=4,Ai=5,Mi=[Si,Ai,_i];class xi{navigateInternal(e,t){return xi.defaultNavigateWindow(e,t)}navigateExternal(e,t){return xi.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Pi extends Ie{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Pi.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Ri(e,t,n){return new Pi(e,t,n)}const Ni="pkce_not_created",Oi="crypto_nonexistent",Di="empty_navigate_uri",Li="hash_empty_error",Fi="no_state_in_hash",qi="hash_does_not_contain_known_properties",Hi="unable_to_parse_state",Ui="state_interaction_type_mismatch",Bi="interaction_in_progress",zi="popup_window_error",ji="empty_window_error",$i="user_cancelled",Wi="monitor_popup_timeout",Yi="monitor_window_timeout",Ki="redirect_in_iframe",Vi="block_iframe_reload",Qi="block_nested_popups",Gi="iframe_closed_prematurely",Ji="silent_logout_unsupported",Zi="no_account_error",Xi="silent_prompt_value_error",ea="no_token_request_cache_error",ta="unable_to_parse_token_request_cache_error",na="no_cached_authority_error",ra="auth_request_not_set_error",oa="invalid_cache_type",ia="non_browser_environment",aa="database_not_open",sa="no_network_connectivity",ca="post_request_failed",la="get_request_failed",ua="failed_to_parse_response",da="unable_to_load_token",ha="crypto_key_not_found",pa="auth_code_required",fa="auth_code_or_nativeAccountId_required",ma="spa_code_and_nativeAccountId_present",ga="database_unavailable",ya="unable_to_acquire_token_from_native_platform",va="native_handshake_timeout",wa="native_extension_not_installed",ba="native_connection_not_established",ka="uninitialized_public_client_application",Ca="native_prompt_not_supported",Sa="invalid_base64_string",Ta="invalid_pop_token_request",Ia="failed_to_build_headers",Ea="failed_to_parse_headers",_a="For more visit: aka.ms/msaljs/browser-errors",Aa={[Ni]:"The PKCE code challenge and verifier could not be generated.",[Oi]:"The crypto object or function is not available.",[Di]:"Navigation URI is empty. Please check stack trace for more info.",[Li]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${_a}`,[Fi]:"Hash does not contain state. Please verify that the request originated from msal.",[qi]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${_a}`,[Hi]:"Unable to parse state. Please verify that the request originated from msal.",[Ui]:"Hash contains state but the interaction type does not match the caller.",[Bi]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${_a}`,[zi]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[ji]:"window.open returned null or undefined window object.",[$i]:"User cancelled the flow.",[Wi]:`Token acquisition in popup failed due to timeout.  ${_a}`,[Yi]:`Token acquisition in iframe failed due to timeout.  ${_a}`,[Ki]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Vi]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${_a}`,[Qi]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Gi]:"The iframe being monitored was closed prematurely.",[Ji]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Zi]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[Xi]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[ea]:"No token request found in cache.",[ta]:"The cached token request could not be parsed.",[na]:"No cached authority found.",[ra]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[oa]:"Invalid cache type",[ia]:"Login and token requests are not supported in non-browser environments.",[aa]:"Database is not open!",[sa]:"No network connectivity. Check your internet connection.",[ca]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[la]:"Network request failed. Please check the network trace to determine root cause.",[ua]:"Failed to parse network response. Check network trace.",[da]:"Error loading token to cache.",[ha]:"Cryptographic Key or Keypair not found in browser storage.",[pa]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[fa]:"An authorization code or nativeAccountId must be provided to this flow.",[ma]:"Request cannot contain both spa code and native account id.",[ga]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ya]:`Unable to acquire token from native platform.  ${_a}`,[va]:"Timed out while attempting to establish connection to browser extension",[wa]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[ba]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${_a}`,[ka]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${_a}`,[Ca]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[Sa]:"Invalid base64 encoded string.",[Ta]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Ia]:"Failed to build request headers object.",[Ea]:"Failed to parse response headers"};class Ma extends Ie{constructor(e,t){super(e,Aa[e],t),Object.setPrototypeOf(this,Ma.prototype),this.name="BrowserAuthError"}}function xa(e,t){return new Ma(e,t)}class Pa{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=Ra(t);try{n=await fetch(e,{method:Qo,headers:i})}catch(a){throw xa(window.navigator.onLine?la:sa)}r=Na(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(a){throw Ri(xa(ua),o,r)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Ra(t);let o,i=0,a={};try{o=await fetch(e,{method:Go,headers:r,body:n})}catch(s){throw xa(window.navigator.onLine?ca:sa)}a=Na(o.headers);try{return i=o.status,{headers:a,body:await o.json(),status:i}}catch(s){throw Ri(xa(ua),i,a)}}}function Ra(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw xa(Ia)}}function Na(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw xa(Ea)}}function Oa(e){return encodeURIComponent(La(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Da(e){return Fa(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function La(e){return Fa((new TextEncoder).encode(e))}function Fa(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function qa(e){return(new TextDecoder).decode(Ha(e))}function Ha(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw xa(Sa)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Ua="AES-GCM",Ba="HKDF",za="SHA-256",ja=new Uint8Array([1,0,1]),$a="0123456789abcdef",Wa=new Uint32Array(1),Ya="encrypt",Ka="decrypt",Va={name:"RSASSA-PKCS1-v1_5",hash:za,modulusLength:2048,publicExponent:ja};async function Qa(e,t,n){t?.addQueueMeasurement(Co,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(za,r)}function Ga(e){return window.crypto.getRandomValues(e)}function Ja(){return window.crypto.getRandomValues(Wa),Wa[0]}function Za(){const e=Date.now(),t=1024*Ja()+(1023&Ja()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=Ja();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let a="";for(let s=0;s<n.length;s++)a+=$a.charAt(n[s]>>>4),a+=$a.charAt(15&n[s]),3!==s&&5!==s&&7!==s&&9!==s||(a+="-");return a}async function Xa(e){return window.crypto.subtle.exportKey("jwk",e)}async function es(){const e=await window.crypto.subtle.generateKey({name:Ua,length:256},!0,[Ya,Ka]);return window.crypto.subtle.exportKey("raw",e)}async function ts(e){return window.crypto.subtle.importKey("raw",e,Ba,!1,["deriveKey"])}async function ns(e,t,n){return window.crypto.subtle.deriveKey({name:Ba,salt:t,hash:za,info:(new TextEncoder).encode(n)},e,{name:Ua,length:256},!1,[Ya,Ka])}async function rs(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await ns(e,o,n),a=await window.crypto.subtle.encrypt({name:Ua,iv:new Uint8Array(12)},i,r);return{data:Da(new Uint8Array(a)),nonce:Da(o)}}async function os(e,t,n,r){const o=Ha(r),i=await ns(e,Ha(t),n),a=await window.crypto.subtle.decrypt({name:Ua,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(a)}async function is(e){const t=await Qa(e);return Da(new Uint8Array(t))}const as="storage_not_supported",ss="stubbed_public_client_application_called",cs="in_mem_redirect_unavailable",ls={[as]:"Given storage configuration option was not supported.",[ss]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[cs]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class us extends Ie{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,us.prototype)}}function ds(e){return new us(e,ls[e])}function hs(){return window.parent!==window}function ps(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function fs(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${Lo}.`))throw xa(Qi)}function ms(){if("undefined"===typeof window)throw xa(ia)}function gs(e){if(!e)throw xa(ka)}function ys(e){ms(),function(){if(xn.hashContainsKnownProperties(window.location.hash)&&hs())throw xa(Vi)}(),fs(),gs(e)}function vs(e,t){if(ys(e),function(e){if(hs()&&!e)throw xa(Ki)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Vo&&!t.cache.storeAuthStateInCookie)throw ds(cs)}function ws(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const bs=1e4;const ks="4.7.0";class Cs{static loggerCallback(e,t){switch(e){case ye.Error:return void console.error(t);case ye.Info:return void console.info(t);case ye.Verbose:return void console.debug(t);case ye.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const a={clientId:c.EMPTY_STRING,authority:`${c.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:c.EMPTY_STRING,authorityMetadata:c.EMPTY_STRING,redirectUri:"undefined"!==typeof window?ps():"",postLogoutRedirectUri:c.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:we,OIDCOptions:{serverResponseType:M.FRAGMENT,defaultScopes:[c.OPENID_SCOPE,c.PROFILE_SCOPE,c.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:ke,tenant:c.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:Ko,temporaryCacheLocation:Ko,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Yo),claimsBasedCachingEnabled:!1},l={loggerCallback:()=>{},logLevel:ye.Info,piiLoggingEnabled:!1},u={...{...zn,loggerOptions:l,networkClient:t?new Pa:Jn,navigationClient:new xi,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||bs,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:Fo},...o,loggerOptions:o?.loggerOptions||l},d={application:{appName:c.EMPTY_STRING,appVersion:c.EMPTY_STRING},client:new Ro};n?.protocolMode!==be&&n?.OIDCOptions&&new ve(u.loggerOptions).warning(JSON.stringify(fn(ln)));if(n?.protocolMode&&n.protocolMode!==we&&u?.allowPlatformBroker)throw fn(un);return{auth:{...a,...n,OIDCOptions:{...a.OIDCOptions,...n?.OIDCOptions}},cache:{...s,...r},system:u,telemetry:{...d,...i}}}(e,this.browserEnvironment);try{t=window[Ko]}catch(s){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,i={...this.config.system.loggerOptions},a=n&&Object.keys(ye).includes(n)?ye[n]:void 0;a&&(i.loggerCallback=Cs.loggerCallback,i.logLevel=a),void 0!==o&&(i.piiLoggingEnabled=o),this.logger=new ve(i,"@azure/msal-browser",ks),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Ss extends Cs{getModuleName(){return Ss.MODULE_NAME}getId(){return Ss.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Ss.MODULE_NAME="",Ss.ID="StandardOperatingContext";const Ts="missing_kid_error",Is="missing_alg_error",Es={[Ts]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Is]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class _s extends Ie{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,_s.prototype)}}function As(e){return new _s(e,Es[e])}class Ms{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw As(Ts);if(!e.alg)throw As(Is);const t=new Ms({typ:e.typ||ge,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class xs{constructor(){this.dbName=ki,this.version=1,this.tableName=Ci,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(xa(ga))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(xa(aa));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(xa(aa));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(xa(aa));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(xa(aa));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(xa(aa));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(ki),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Ps{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Rs{constructor(e){this.inMemoryCache=new Ps,this.indexedDBCache=new xs,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Ma&&e.errorCode===ga))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Ns{constructor(e,t,n){this.logger=e,function(e){if(!window)throw xa(ia);if(!window.crypto)throw xa(Oi);if(!e&&!window.crypto.subtle)throw xa(Oi,"crypto_subtle_undefined")}(n??!1),this.cache=new Rs(this.logger),this.performanceClient=t}createNewGuid(){return Za()}base64Encode(e){return La(e)}base64Decode(e){return qa(e)}base64UrlEncode(e){return Oa(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(ir,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Va,e,t)}(Ns.EXTRACTABLE,Ns.POP_KEY_USAGES),r=await Xa(n.publicKey),o=Os({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),a=await Xa(n.privateKey),s=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Va,t,n)}(a,!1,["sign"]);return await this.cache.setItem(i,{privateKey:s,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(ar,r),i=await this.cache.getItem(t);if(!i)throw xa(ha);const a=await Xa(i.publicKey),s=Os(a),c=Oa(JSON.stringify({kid:t})),l=Oa(Ms.getShrHeaderString({...n?.header,alg:a.alg,kid:c}));e.cnf={jwk:JSON.parse(s)};const u=`${l}.${Oa(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Va,e,t)}(i.privateKey,d),p=`${u}.${Da(new Uint8Array(h))}`;return o&&o.end({success:!0}),p}async hashString(e){return is(e)}}function Os(e){return JSON.stringify(e,Object.keys(e).sort())}Ns.POP_KEY_USAGES=["sign","verify"],Ns.EXTRACTABLE=!0;const Ds=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(a){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(a))}catch(a){n.trace("Unable to print error message.")}throw i?.end({success:!1},a),a}},Ls=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Fs{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(io,this.correlationId);let n=e;if(n)t.region_source=ae;else{const e=Fs.IMDS_OPTIONS;try{const r=await Ls(this.getRegionFromIMDS.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(c.IMDS_VERSION,e);if(r.status===re&&(n=r.body,t.region_source=se),r.status===oe){const r=await Ls(this.getCurrentVersion.bind(this),so,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=ie,null;const o=await Ls(this.getRegionFromIMDS.bind(this),ao,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===re&&(n=o.body,t.region_source=se)}}catch(r){return t.region_source=ie,null}}return n||(t.region_source=ie),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(ao,this.correlationId),this.networkInterface.sendGetRequestAsync(`${c.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,c.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(so,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${c.IMDS_ENDPOINT}?format=json`,e);return t.status===oe&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Fs.IMDS_OPTIONS={headers:{Metadata:"true"}};class qs{constructor(e,t,n,r,o,i,a,s){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.managedIdentity=s||!1,this.regionDiscovery=new Fs(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(c.CIAM_AUTH_URL))return In;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case c.ADFS:return Sn;case c.DSTS:return Tn}return Cn}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new xn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw wt(Pe)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw wt(Pe)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw wt(Pe)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw wt(ut);return this.replacePath(this.metadata.end_session_endpoint)}throw wt(Pe)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw wt(Pe)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw wt(Pe)}canReplaceTenant(e){return 1===e.PathSegments.length&&!qs.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Cn&&this.protocolMode===we}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new xn(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new xn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Sn||this.protocolMode!==we&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Xr,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Ls(this.updateCloudDiscoveryMetadata.bind(this),to,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Ls(this.updateEndpointMetadata.bind(this),ro,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Ht(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==$&&n?.source!==$&&(e.expiresAt=Ht(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(ro,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Y&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){Ut(e,await Ls(this.updateMetadataWithRegionalInformation.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Ls(this.getEndpointMetadataFromNetwork.bind(this),no,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Ls(this.updateMetadataWithRegionalInformation.bind(this),oo,this.logger,this.performanceClient,this.correlationId)(n)),Ut(e,n,!0),W;throw wt(Ne,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ut(e,t,!1),{source:j};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Ut(e,t,!1),{source:Y,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=zt(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:$}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new xn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw fn(nn)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(no,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Pn?Pn[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(oo,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==c.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=ce,this.regionDiscoveryMetadata.region_used=t,qs.replaceWithRegionalInformation(e,t);const n=await Ls(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),io,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=le,this.regionDiscoveryMetadata.region_used=n,qs.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=ue}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(to,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Ls(this.getCloudDiscoveryMetadataFromNetwork.bind(this),eo,this.logger,this.performanceClient,this.correlationId)();if(n)return Bt(e,n,!0),W;throw fn(rn)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||c.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||c.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||c.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Bt(e,t,!1),j;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,Dn(Rn.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Bt(e,t,!1),Y;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=zt(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),$):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===In)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),qs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=Dn(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),fn(tn)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),qs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(eo,this.correlationId);const e=`${c.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,i=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===c.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=Dn(i,this.hostnameAndPort)}catch(r){if(r instanceof Ie)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=qs.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&xn.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==ke){const e=t.tenant?t.tenant:c.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return c.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw wt(Pe)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Nn.has(e)}static isPublicCloudAuthority(e){return c.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new xn(e);r.validateAsUri();const o=r.getUrlComponents();let i=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${t}.${c.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=xn.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${a}?${n}`:a}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=qs.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=qs.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=qs.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new xn(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(c.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${c.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Hs(e){return e.endsWith(c.FORWARD_SLASH)?e:`${e}${c.FORWARD_SLASH}`}qs.reservedTenantDomains=new Set(["{tenant}","{tenantid}",C,T,S]);const Us="no_tokens_found",Bs="native_account_unavailable",zs="refresh_token_expired",js="bad_token",$s=["interaction_required","consent_required","login_required",js],Ws=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ys={[Us]:"No refresh token found in the cache. Please sign-in.",[Bs]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[zs]:"Refresh token has expired.",[js]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Ks extends Ie{constructor(e,t,n,r,o,i,a,s){super(e,t,n),Object.setPrototypeOf(this,Ks.prototype),this.timestamp=r||c.EMPTY_STRING,this.traceId=o||c.EMPTY_STRING,this.correlationId=i||c.EMPTY_STRING,this.claims=a||c.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=s}}function Vs(e,t,n){const r=!!e&&$s.indexOf(e)>-1,o=!!n&&Ws.indexOf(n)>-1,i=!!t&&$s.some((e=>t.indexOf(e)>-1));return r||i||o}function Qs(e){return new Ks(e,Ys[e])}function Gs(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}class Js{static setRequestState(e,t,n){const r=Js.generateLibraryState(e,n);return t?`${r}${c.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw wt(tt);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw wt(tt);if(!t)throw wt(De);try{const n=t.split(c.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(c.RESOURCE_DELIM):c.EMPTY_STRING,i=e.base64Decode(r),a=JSON.parse(i);return{userRequestState:o||c.EMPTY_STRING,libraryState:a}}catch(n){throw wt(De)}}}const Zs="home_account_id",Xs="UPN",ec=864e5,tc="Lax",nc="None";class rc{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),a=i.join("=");if(o===t)return a}return""}getUserData(){throw wt(mt)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tc,i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*ec);return n.toUTCString()}(n);i+=`expires=${e};`}(r||o===nc)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(wt(mt))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function oc(e){const t=e.getItem(si);return t?JSON.parse(t):[]}function ic(e,t){const n=t.getItem(`${ci}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const ac="msal.cache.encryption";class sc{constructor(e,t,n){if(!window.localStorage)throw ds(as);this.memoryStorage=new Ps,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){this.initialized=!0;const t=new rc,n=t.getItem(ac);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=Ds(Ha,Eo,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Ls(ts,To,this.logger,this.performanceClient,e)(t)},await Ls(this.importExistingCache.bind(this),go,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=Za(),r=await Ls(es,Io,this.logger,this.performanceClient,e)(),o=Ds(Da,_o,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Ls(ts,To,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(ac,JSON.stringify(i),0,!0,nc)}this.broadcast.addEventListener("message",this.updateCache.bind(this))}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw xa(ka);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw xa(ka);const{data:r,nonce:o}=await Ls(rs,Ao,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),i={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(i)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();oc(this).forEach((e=>this.removeItem(e)));const e=ic(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(c.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=oc(this);t=await this.importArray(t,e),this.setItem(si,JSON.stringify(t));const n=ic(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${ci}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Ls(os,Mo,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(vo);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class cc{constructor(){if(!window.sessionStorage)throw ds(as)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}function lc(e,t){if(!t)return null;try{return Js.parseRequestState(e,t).libraryState.meta}catch(n){throw wt(De)}}const uc="msal:initializeStart",dc="msal:initializeEnd",hc="msal:accountAdded",pc="msal:accountRemoved",fc="msal:activeAccountChanged",mc="msal:loginStart",gc="msal:loginSuccess",yc="msal:loginFailure",vc="msal:acquireTokenStart",wc="msal:acquireTokenSuccess",bc="msal:acquireTokenFailure",kc="msal:acquireTokenFromNetworkStart",Cc="msal:ssoSilentStart",Sc="msal:ssoSilentSuccess",Tc="msal:ssoSilentFailure",Ic="msal:acquireTokenByCodeStart",Ec="msal:acquireTokenByCodeSuccess",_c="msal:acquireTokenByCodeFailure",Ac="msal:handleRedirectStart",Mc="msal:handleRedirectEnd",xc="msal:popupOpened",Pc="msal:logoutStart",Rc="msal:logoutSuccess",Nc="msal:logoutFailure",Oc="msal:logoutEnd",Dc="msal:restoreFromBFCache";class Lc extends Un{constructor(e,t,n,r,o,i,a){super(e,n,r,a),this.cacheConfig=t,this.logger=r,this.internalStorage=new Ps,this.browserStorage=Fc(e,t.cacheLocation,r,o),this.temporaryCacheStorage=Fc(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new rc,this.performanceClient=o,this.eventHandler=i}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&_n.isAccountEntity(n)?Un.toObject(new _n,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Ls(this.browserStorage.setUserData.bind(this.browserStorage),yo,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===Yo&&r&&this.eventHandler.emitEvent(hc,void 0,e.getAccountInfo())}getAccountKeys(){return oc(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(si,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(si,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Yo&&this.eventHandler.emitEvent(pc,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,q.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,q.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,q.REFRESH_TOKEN)}getTokenKeys(){return ic(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case q.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case q.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case q.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(nt)}this.browserStorage.setItem(`${ci}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case q.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case q.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case q.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),wt(nt)}this.browserStorage.setItem(`${ci}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.hasOwnProperty("realm")&&r.credentialType===q.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=Mt(e);await Ls(this.browserStorage.setUserData.bind(this.browserStorage),yo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===q.ACCESS_TOKEN||r.credentialType===q.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=Mt(e);await Ls(this.browserStorage.setUserData.bind(this.browserStorage),yo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Nt(r)&&r.credentialType===q.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,q.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=Mt(e);await Ls(this.browserStorage.setUserData.bind(this.browserStorage),yo,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,q.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(H)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[H,t,n].join(L).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(K.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(B)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(li,e),this.internalStorage.setItem(ui,t)}getWrapperMetadata(){return[this.internalStorage.getItem(li)||c.EMPTY_STRING,this.internalStorage.getItem(ui)||c.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(k),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(k);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(fc)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(J));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Yo){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(c.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(c.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(fo,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):mn.startsWith(e,c.CACHE_PREFIX)?e:`${c.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=Js.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Jo}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=Js.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Xo}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=Js.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${Zo}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:Zs};this.setTemporaryCache(oi,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:Xs};this.setTemporaryCache(oi,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeTemporaryItem(t)})),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(ni)),this.removeTemporaryItem(this.generateCacheKey(ei)),this.removeTemporaryItem(this.generateCacheKey(ti)),this.removeTemporaryItem(this.generateCacheKey(ii)),this.removeTemporaryItem(this.generateCacheKey(oi)),this.removeTemporaryItem(this.generateCacheKey(ai)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||c.EMPTY_STRING)}}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach((t=>{if(-1===t.indexOf(Zo))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=lc(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=La(JSON.stringify(e));this.setTemporaryCache(ni,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(ni,!0);if(!t)throw xa(ea);let n;try{n=JSON.parse(qa(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),xa(ta)}if(this.removeTemporaryItem(this.generateCacheKey(ni)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw xa(na);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ai,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${c.CACHE_PREFIX}.${ri}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${c.CACHE_PREFIX}.${ri}`;if(e){if(this.getInteractionInProgress())throw xa(Bi);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeTemporaryItem(t)}async hydrateCache(e,t){const n=xt(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Pt(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Et(e.expiresOn):0,e.extExpiresOn?Et(e.extExpiresOn):0,qa,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof Hn&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function Fc(e,t,n,r){try{switch(t){case Yo:return new sc(e,n,r);case Ko:return new cc}}catch(o){n.error(o)}return new Ps}class qc{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ve({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||Za();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case hc:case pc:case fc:this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}class Hc extends Ie{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,Hc.prototype)}}class Uc{static generateThrottlingStorageKey(e){return`${J}.${JSON.stringify(e)}`}static preProcess(e,t){const n=Uc.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new Hc(r.errorCodes?.join(" ")||c.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(Uc.checkResponseStatus(n)||Uc.checkResponseForRetryAfter(n)){const r={throttleTime:Uc.calculateThrottleTime(parseInt(n.headers[y])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Uc.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(y)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Q),n+G))}static removeThrottle(e,t,n,r){const o=Gs(t,n,r),i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}const Bc="client_id",zc="redirect_uri",jc="response_type",$c="token_type",Wc="req_cnf",Yc="return_spa_code",Kc="x-client-xtra-sku",Vc="brk_client_id",Qc="brk_redirect_uri";class Gc{static validateRedirectUri(e){if(!e)throw fn(jt)}static validatePrompt(e){const t=[];for(const n in _)t.push(_[n]);if(t.indexOf(e)<0)throw fn(Qt)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw fn(Gt)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw fn(en);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([A.PLAIN,A.S256].indexOf(e)<0)throw fn(Xt)}}class Jc{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(jc,encodeURIComponent(c.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(jc,encodeURIComponent(`${c.TOKEN_RESPONSE_TYPE} ${c.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||x.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;!t||n.includes("openid")||e.includes("openid")||n.push("openid");const r=t?[...e||[],...n]:e||[],o=new gn(r);this.parameters.set("scope",encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Bc,encodeURIComponent(e))}addRedirectUri(e){Gc.validateRedirectUri(e),this.parameters.set(zc,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Gc.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(v,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(v,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);Gc.validateClaims(n),this.parameters.set("claims",encodeURIComponent(n))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){Gc.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(Gc.validateCodeChallengeParams(e,t),!e||!t)throw fn(en);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach((e=>{let[t,n]=e;!this.parameters.has(t)&&n&&this.parameters.set(t,n)}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw fn(Gt)}else n={};return t&&t.length>0&&(n.hasOwnProperty(I)||(n[I]={}),n[I][E]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(te,encodeURIComponent(e))}addPassword(e){this.parameters.set(ne,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set($c,V.POP),this.parameters.set(Wc,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set($c,V.SSH),this.parameters.set(Wc,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",Z)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){const t={};t[Vc]=e.brokerClientId,t[Qc]=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),function(e,t,n){if(!t)return;const r=e.get(Bc);r&&e.has(Vc)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(zc)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}async function Zc(e,t,n,r,o,i,a){a?.addQueueMeasurement(Zr,i);const s=qs.transformCIAMAuthority(Hs(e)),c=new qs(s,t,n,r,o,i,a);try{return await Ls(c.resolveEndpointsAsync.bind(c),Xr,o,a,i)(),c}catch(l){throw wt(Pe)}}class Xc{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:a,cryptoInterface:s,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:p}=e;const f={...jn,...r};return{authOptions:(m=t,{clientCapabilities:[],azureCloudOptions:Vn,skipAuthorityMetadataCache:!1,instanceAware:!1,...m}),systemOptions:{...zn,...n},loggerOptions:f,cacheOptions:{...$n,...o},storageInterface:i||new Bn(t.clientId,bt,new ve(f)),networkInterface:a||Wn,cryptoInterface:s||bt,clientCredentials:c||Kn,libraryInfo:{...Yn,...l},telemetry:{...Qn,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:p||null};var m}(e),this.logger=new ve(this.config.loggerOptions,kt,Ct),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[m]=c.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Zs:try{const n=vn(e.credential);t[v]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Xs:t[v]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const a=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&a.status<500&&429!==a.status&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,t,n,r){let o;Uc.preProcess(this.cacheManager,e);try{o=await Ls(this.networkClient.sendPostRequestAsync.bind(this.networkClient),mr,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[b]||"",requestId:e[w]||""},r)}catch(i){if(i instanceof Pi){const e=i.responseHeaders;throw e&&this.performanceClient?.addFields({httpVerToken:e[b]||"",requestId:e[w]||"",contentTypeHeader:e[m]||void 0,contentLengthHeader:e[g]||void 0,httpStatus:i.httpStatus},r),i.error}throw i instanceof Ie?i:wt(Re)}return Uc.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(jr,t);const n=`https://${e}/${this.authority.tenant}/`,r=await Zc(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Jc(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}const el="sw";class tl{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(Vr,e.correlationId);const n=await Ls(this.generateKid.bind(this),Vr,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(Qr,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:el}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:a,shrNonce:s,shrOptions:c}=n,l=i?new xn(i):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:It(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:s||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:a||void 0,...r},t,c,n.correlationId)}}class nl{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class rl{constructor(e,t,n,r,o,i,a){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?wt(Fe,"Cached State"):wt(Fe,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw wt(De,e.state)}try{r=decodeURIComponent(t)}catch(o){throw wt(De,e.state)}if(n!==r)throw wt(Le);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+5):void 0}(e);if(Vs(e.error,e.error_description,e.suberror))throw new Ks(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new Hc(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||c.NOT_AVAILABLE} - Timestamp: ${e.timestamp||c.NOT_AVAILABLE} - Description: ${e.error_description||c.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||c.NOT_AVAILABLE} - Trace ID: ${e.trace_id||c.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new Hc(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=d&&e.status<=h)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=l&&e.status<=u)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(Vs(e.error,e.error_description,e.suberror))throw new Ks(e.error,e.error_description,e.suberror,e.timestamp||c.EMPTY_STRING,e.trace_id||c.EMPTY_STRING,e.correlation_id||c.EMPTY_STRING,e.claims||c.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,i,a,s,l){let u,d;if(this.performanceClient?.addQueueMeasurement(Gr,e.correlation_id),e.id_token){if(u=St(e.id_token||c.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw wt(qe);if(r.maxAge||0===r.maxAge){const e=u.auth_time;if(!e)throw wt(He);Tt(e,r.maxAge)}}this.homeAccountIdentifier=_n.generateHomeAccountId(e.client_info||c.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),o&&o.state&&(d=Js.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const h=this.generateCacheRecord(e,t,n,r,u,i,o);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new nl(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!s&&h.account){const e=h.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await rl.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return rl.generateAuthenticationResult(this.cryptoObj,t,h,!1,r,u,d,e,l)}generateCacheRecord(e,t,n,r,o,i,a){const s=t.getPreferredCache();if(!s)throw wt(Xe);const c=En(o);let l,u;e.id_token&&o&&(l=xt(this.homeAccountIdentifier,s,e.id_token,this.clientId,c||""),u=ol(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,s,c,a,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?gn.fromString(e.scope):new gn(r.scopes||[]),a=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+a,p=h+l,f=u&&u>0?n+u:void 0;d=Pt(this.homeAccountIdentifier,s,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,p,this.cryptoObj.base64Decode,f,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Rt(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,i,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,t,n,r,o,i,a,s,l){let u,d,h=c.EMPTY_STRING,p=[],f=null,m=c.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==V.POP||o.popKid)h=n.accessToken.secret;else{const t=new tl(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw wt(dt);h=await t.signPopToken(r,i,o)}p=gn.fromString(n.accessToken.target).asArray(),f=_t(n.accessToken.expiresOn),u=_t(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(d=_t(n.accessToken.refreshOn))}n.appMetadata&&(m=n.appMetadata.familyId===U?U:"");const g=i?.oid||i?.sub||"",y=i?.tid||"";s?.spa_accountid&&n.account&&(n.account.nativeAccountId=s?.spa_accountid);const v=n.account?kn(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:y,scopes:p,account:v,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:h,fromCache:r,expiresOn:f,extExpiresOn:u,refreshOn:d,correlationId:o.correlationId,requestId:l||c.EMPTY_STRING,familyId:m,tokenType:n.accessToken?.tokenType||c.EMPTY_STRING,state:a?a.userRequestState:c.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||c.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||c.EMPTY_STRING,code:s?.spa_code,fromNativeBroker:!1}}}function ol(e,t,n,r,o,i,a,s,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const p=h||_n.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:a,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),f=p.tenantProfiles||[],m=s||p.realm;if(m&&!f.find((e=>e.tenantId===m))){const e=bn(n,p.localAccountId,m,o);f.push(e)}return p.tenantProfiles=f,p}async function il(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class al extends Xc{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(Ur,e.correlationId);const t=await Ls(this.createAuthCodeUrlQueryString.bind(this),Kr,this.logger,this.performanceClient,e.correlationId)(e);return xn.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement($r,e.correlationId),!e.code)throw wt($e);const n=It(),r=await Ls(this.executeTokenRequest.bind(this),Wr,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[w],i=new rl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),Ls(i.handleServerTokenResponse.bind(i),Gr,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new rl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw wt(ct);return e}getLogoutUri(e){if(!e)throw fn(Zt);const t=this.createLogoutUrlQueryString(e);return xn.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Wr,t.correlationId);const n=this.createTokenQueryParameters(t),r=xn.appendQueryString(e.tokenEndpoint,n),o=await Ls(this.createTokenRequestBody.bind(this),Yr,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=yn(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${F}${e.utid}`,type:Zs}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const a=this.createTokenRequestHeaders(i||t.ccsCredential),s=Gs(this.config.authOptions.clientId,t);return Ls(this.executePostToTokenEndpoint.bind(this),yr,this.logger,this.performanceClient,t.correlationId)(r,o,a,s,t.correlationId,yr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Yr,e.correlationId);const t=new Jc(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Bc]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Gc.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!Gn(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await il(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)}if(t.addGrantType(P),t.addClientInfo(),e.authenticationScheme===V.POP){const n=new tl(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ls(n.generateCnf.bind(n),Vr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}t.addPopToken(r)}else if(e.authenticationScheme===V.SSH){if(!e.sshJwk)throw fn(on);t.addSshJwk(e.sshJwk)}let n;if((!mn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=yn(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${F}${t.utid}`,type:Zs}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case Zs:try{const e=vn(n.credential);t.addCcsOid(e)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Xs:t.addCcsUpn(n.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[Yc]||t.addExtraQueryParameters({[Yc]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){const t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(Kr,t);const n=new Jc(t,this.performanceClient);n.addClientId(e.embeddedClientId||e.extraQueryParameters?.[Bc]||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];if(n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri),n.addCorrelationId(t),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),Gn(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&(n.addDomainHint(e.domainHint),this.performanceClient?.addFields({domainHintFromRequest:!0},t)),this.performanceClient?.addFields({prompt:e.prompt},t),e.prompt!==_.SELECT_ACCOUNT)if(e.sid&&e.prompt===_.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid),this.performanceClient?.addFields({sidFromRequest:!0},t);else if(e.account){const r=this.extractAccountSid(e.account);let i=this.extractLoginHint(e.account);if(i&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),i=null),i){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(i),this.performanceClient?.addFields({loginHintFromClaim:!0},t);try{const t=vn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(r&&e.prompt===_.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(r),this.performanceClient?.addFields({sidFromClaim:!0},t);try{const t=vn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username),this.performanceClient?.addFields({loginHintFromUpn:!0},t);try{const t=vn(e.account.homeAccountId);n.addCcsOid(t)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint),this.performanceClient?.addFields({loginHintFromRequest:!0},t));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,n),e.platformBroker&&(n.addNativeBroker(),e.authenticationScheme===V.POP)){const t=new tl(this.cryptoUtils);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ls(t.generateCnf.bind(t),Vr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}return n.createQueryString()}createLogoutUrlQueryString(e){const t=new Jc(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}function sl(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,a=new Map([[0,[n,r]],[2,[o,i]]]);let s=[];if(t?.length){if(s=t.split(","),s.length<4)return t}else s=Array.from({length:4},(()=>"|"));return a.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:s,index:t,skuName:e[0],skuVersion:e[1]})})),s.join(",")}class cl{constructor(e,t){this.cacheOutcome=de,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||c.EMPTY_STRING,this.wrapperVer=e.wrapperVer||c.EMPTY_STRING,this.telemetryCacheKey=K.CACHE_KEY+L+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${K.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(K.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(K.VALUE_SEPARATOR);return[K.SCHEMA_VERSION,o,r].join(K.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=cl.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(K.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(K.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?K.OVERFLOW_TRUE:K.OVERFLOW_FALSE].join(K.VALUE_SEPARATOR);return[K.SCHEMA_VERSION,e.cacheHits,n,r,i].join(K.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=K.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ie?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(K.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=cl.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||c.EMPTY_STRING,i=e.failedRequests[2*t+1]||c.EMPTY_STRING,a=e.errors[t]||c.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+a.length+3,!(r<K.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||c.EMPTY_STRING),e.push(this.regionSource||c.EMPTY_STRING),e.push(this.regionOutcome||c.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return sl(e)}}class ll{constructor(e,t,n,r,o,i,a,s,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=s,this.correlationId=c||Za(),this.logger=r.clone(qo,ks,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){_n.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(_n.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return xn.getAbsoluteUrl(t,ps())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new cl(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(hr,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,a=t&&i?this.config.auth.authority.replace(xn.getDomainFromUrl(o),t.environment):o,s=qs.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await Ls(Zc,Zr,this.logger,this.performanceClient,this.correlationId)(s,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw fn(dn);return c}}async function ul(e,t,n){e.addQueueMeasurement(wo,n);const r=Ds(dl,bo,t,e,n)(e,t,n);return{verifier:r,challenge:await Ls(hl,ko,t,e,n)(r,e,t,n)}}function dl(e,t,n){try{const r=new Uint8Array(32);Ds(Ga,So,t,e,n)(r);return Da(r)}catch(r){throw xa(Ni)}}async function hl(e,t,n,r){t.addQueueMeasurement(ko,r);try{const o=await Ls(Qa,Co,n,t,r)(e,t,r);return Da(new Uint8Array(o))}catch(o){throw xa(Ni)}}async function pl(e,t,n,r){n.addQueueMeasurement(_r,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],a={...e,correlationId:e.correlationId,authority:o,scopes:i};if(a.authenticationScheme){if(a.authenticationScheme===V.SSH){if(!e.sshJwk)throw fn(on);if(!e.sshKid)throw fn(an)}r.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}else a.authenticationScheme=V.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!mn.isEmptyObj(e.claims)&&(a.requestedClaimsHash=await is(e.claims)),a}async function fl(e,t,n,r,o){r.addQueueMeasurement(Ar,e.correlationId);const i=await Ls(pl,_r,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class ml extends ll{async initializeAuthorizationCodeRequest(e,t){this.performanceClient.addQueueMeasurement(Hr,this.correlationId);const n=t||await Ls(ul,wo,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...e,redirectUri:e.redirectUri,code:c.EMPTY_STRING,codeVerifier:n.verifier};return e.codeChallenge=n.challenge,e.codeChallengeMethod=c.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Za(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=xn.getAbsoluteUrl(e.postLogoutRedirectUri,ps())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=xn.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,ps())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=xn.getAbsoluteUrl(ps(),ps())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Lr,this.correlationId);const t=await Ls(this.getClientConfiguration.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)(e);return new al(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(Fr,this.correlationId);const a=await Ls(this.getDiscoveredAuthority.bind(this),hr,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),s=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:s.loggerCallback,piiLoggingEnabled:s.piiLoggingEnabled,logLevel:s.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:qo,version:ks,cpu:c.EMPTY_STRING,os:c.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(qr,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=Js.setRequestState(this.browserCrypto,e&&e.state||c.EMPTY_STRING,r),i={...await Ls(pl,_r,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Za(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return i;const a=e.account||this.browserStorage.getActiveAccount();return a&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${a.homeAccountId}`,this.correlationId),i.account=a),i}}const gl="user_switch",yl={[gl]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class vl extends Ie{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,vl.prototype),this.name="NativeAuthError",this.ext=n}}function wl(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function bl(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return Qs(Bs);case"USER_INTERACTION_REQUIRED":return new Ks(e,t);case"USER_CANCEL":return xa($i);case"NO_NETWORK":return xa(sa)}return new vl(e,yl[e]||t,n)}class kl extends Xc{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Tr,e.correlationId);let t=de;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!mn.isEmptyObj(e.claims))throw this.setCacheOutcome(he,e.correlationId),wt(it);if(!e.account)throw wt(Je);const n=e.account.tenantId||function(e){const t=new xn(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case C:case S:case T:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(pe,e.correlationId),wt(it);if(i=o.cachedAt,Number(i)>It()||At(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(fe,e.correlationId),wt(it);var i;o.refreshOn&&At(o.refreshOn,0)&&(t=me);const a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Ls(this.generateResultFromCacheRecord.bind(this),Ir,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==de&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Ir,t.correlationId),e.idToken&&(n=St(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw wt(He);Tt(e,t.maxAge)}return rl.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class Cl extends ml{async acquireToken(e){this.performanceClient.addQueueMeasurement(sr,e.correlationId);const t=this.initializeServerTelemetryManager(gi),n=await Ls(this.getClientConfiguration.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new kl(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Ls(r.acquireCachedToken.bind(r),Tr,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof Ma&&o.errorCode===ha&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class Sl extends ll{constructor(e,t,n,r,o,i,a,s,c,l,u,d){super(e,t,n,r,o,i,s,c,d),this.apiId=a,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new Cl(e,this.nativeStorageManager,n,r,o,i,s,c,d);const h=this.nativeMessageHandler.getExtensionId()===Uo?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=cl.makeExtraSkuString({libraryName:qo,libraryVersion:ks,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[Kc]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(fr,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(fr,e.correlationId),r=It(),o=this.initializeServerTelemetryManager(this.apiId);try{const a=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,a);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(i){if(t===Ti)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),i;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=a,c={method:$o,request:s},l=await this.nativeMessageHandler.sendMessage(c),u=this.validateNativeResponse(l);return await this.handleNativeResponse(u,a,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(i){throw i instanceof vl&&o.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:gn.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),wt(et);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw wt(et);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:$o,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(s){if(s instanceof vl){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(s.errorCode),wl(s))throw s}}this.browserStorage.setTemporaryCache(ai,JSON.stringify(r),!0);const i={apiId:di,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(a,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ai));const i={method:$o,request:o},a=It();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,a);this.browserStorage.setInteractionInProgress(!1);const n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(s){throw this.browserStorage.setInteractionInProgress(!1),s}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=St(e.id_token,qa),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(o!==i&&e.account.id!==t.accountId)throw bl(gl);const a=await this.getDiscoveredAuthority({requestAuthority:t.authority}),s=ol(this.browserStorage,a,o,qa,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger),c=await this.generateAuthenticationResult(e,t,r,s,a.canonicalAuthority,n);return await this.cacheAccount(s),await this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return _n.generateHomeAccountId(e.client_info||c.EMPTY_STRING,Cn,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?gn.fromString(e.scope):gn.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===V.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new tl(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw wt(dt);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const a=this.addTelemetryFromNativeResponse(e),s=e.scope?gn.fromString(e.scope):gn.fromString(t.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||c.EMPTY_STRING,d=l.TenantId||n.tid||c.EMPTY_STRING,h=kn(r.getAccountInfo(),void 0,n,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const p=await this.generatePopAccessToken(e,t),f=t.tokenType===V.POP?V.POP:V.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:s.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:p,fromCache:!!a&&this.isResponseFromCache(a),expiresOn:_t(i+e.expires_in),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,i,a){const s=xt(n,t.authority,e.id_token||"",t.clientId,r.tid||""),l=a+(t.tokenType===V.POP?c.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d={idToken:s,accessToken:Pt(n,t.authority,o,t.clientId,r.tid||i,u.printScopes(),l,0,qa,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(d,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Ee(Ce,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new xn(t);n.validateAsUri();const{scopes:r,...o}=e,i=new gn(r||[]);i.appendScopes(p);const a={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case pi:case gi:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),_.NONE}if(e.prompt)switch(e.prompt){case _.NONE:case _.CONSENT:case _.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),xa(Ca)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(a.signPopToken&&e.popKid)throw xa(Ta);if(this.handleExtraBrokerParams(a),a.extraParameters=a.extraParameters||{},a.extraParameters.telemetry=Bo,e.authenticationScheme===V.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new tl(this.browserCrypto);let r;if(a.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:a.keyId})),a.signPopToken=!1;else{const o=await Ls(n.generateCnf.bind(n),Vr,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,a.keyId=o.kid,a.signPopToken=!0}a.reqCnf=r}return this.addRequestSKUs(a),a}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Vc)&&e.extraParameters.hasOwnProperty(Qc)&&e.extraParameters.hasOwnProperty(Bc);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Qc],n=e.extraParameters[Bc]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}class Tl{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(ho)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Ho,extensionId:this.extensionId,responseId:Za(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Tl(e,t,n,Uo);return await r.sendHandshakeRequest(),r}catch(r){const o=new Tl(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ho,extensionId:this.extensionId,responseId:Za(),body:{method:zo}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(xa(va)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Ho&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===zo){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(xa(wa))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Wo){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(bl(e.code,e.description,e.ext));else{if(!e.result)throw Ee(Ce,"Event does not contain result.");e.result.code&&e.result.description?n.reject(bl(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===jo){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case V.BEARER:case V.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class Il{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(zr,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof Hc&&r.subError===$i?xa($i):r}return Ls(this.handleCodeResponseFromServer.bind(this),Br,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(Br,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Ls(this.authModule.updateAuthority.bind(this.authModule),jr,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Ls(this.authModule.acquireToken.bind(this.authModule),$r,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Zs}:e.loginHint?{credential:e.loginHint,type:Xs}:null}}function El(e,t,n){const r=Mn(e);if(!r)throw An(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),xa(qi)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),xa(Li));return r}class _l extends ml{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||p,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(n){return Promise.reject(n)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(hi),o=await Ls(this.initializeAuthorizationRequest.bind(this),qr,this.logger,this.performanceClient,this.correlationId)(e,wi.Popup);t.popup&&ws(o.authority);try{const i=await Ls(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,this.correlationId)(o,n),a=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),s=Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;s&&(c=this.performanceClient.startMeasurement(pr,e.correlationId));const l=await a.getAuthCodeUrl({...o,platformBroker:s}),u=new Il(a,this.browserStorage,i,this.logger,this.performanceClient),d=this.initiateAuthRequest(l,t);this.eventHandler.emitEvent(xc,wi.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,t.popupWindowParent),p=Ds(El,Jr,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Uc.removeThrottle(this.browserStorage,this.config.auth.clientId,i),p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw xa(ba);const e=new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,hi,this.performanceClient,this.nativeMessageHandler,p.accountId,this.nativeStorage,o.correlationId),{userRequestState:t}=Js.parseRequestState(this.browserCrypto,o.state);return await e.acquireToken({...o,state:t,prompt:void 0})}return await u.handleCodeResponse(p,o)}catch(i){throw t.popup?.close(),i instanceof Ie&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(Pc,wi.Popup,e);const o=this.initializeServerTelemetryManager(vi);try{await this.clearCacheOnLogout(e.account);const i=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===be){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Rc,wi.Popup,e),r){const e={apiId:vi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=xn.getAbsoluteUrl(r,ps());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const a=i.getLogoutUri(e);this.eventHandler.emitEvent(Rc,wi.Popup,e);const s=this.openPopup(a,t);if(this.eventHandler.emitEvent(xc,wi.Popup,{popupWindow:s},null),await this.monitorPopupForHash(s,t.popupWindowParent).catch((()=>{})),r){const e={apiId:vi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=xn.getAbsoluteUrl(r,ps());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(i){throw t.popup?.close(),i instanceof Ie&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(Nc,wi.Popup,null,i),this.eventHandler.emitEvent(Oc,wi.Popup),i}this.eventHandler.emitEvent(Oc,wi.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),xa(Di)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(xa($i));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const a=this.config.auth.OIDCOptions.serverResponseType;e&&(i=a===M.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw xa(ji);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),xa(zi)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const i=o.screenLeft?o.screenLeft:o.screenX,a=o.screenTop?o.screenTop:o.screenY,s=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Oo),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Do),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-Do/2+a)),(!h||h<0||h>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,s/2-Oo/2+i)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(wi.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${Lo}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Lo}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class Al{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(ei,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(ii,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:di,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),xa(Di)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw wt(Fe,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(c){throw c instanceof Hc&&c.subError===$i?xa($i):c}const i=this.browserStorage.generateNonceKey(r),a=this.browserStorage.getTemporaryCache(i);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await Ls(this.authModule.updateAuthority.bind(this.authModule),jr,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const s=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),s}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(oi,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Ml extends ml{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,a,c,l),this.nativeStorage=s}async acquireToken(e){const t=await Ls(this.initializeAuthorizationRequest.bind(this),qr,this.logger,this.performanceClient,this.correlationId)(e,wi.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(di),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(Dc,wi.Redirect))};try{const o=await Ls(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,this.correlationId)(t),i=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),a=new Al(i,this.browserStorage,o,this.logger,this.performanceClient),s=await i.getAuthCodeUrl({...t,platformBroker:Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),c=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${c}`),window.addEventListener("pageshow",r),await a.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Ie&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const n=this.initializeServerTelemetryManager(fi);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[r,o]=this.getRedirectResponse(e||"");if(!r)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(wi.Redirect),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?t.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const i=this.browserStorage.getTemporaryCache(ei,!0)||c.EMPTY_STRING,a=xn.removeHashFromUrl(i);if(a===xn.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),i.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(i);return await this.handleResponse(r,n)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(r,n);if(!hs()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(ti,o,!0);const e={apiId:fi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let t=!0;if(i&&"null"!==i)this.logger.verbose(`Navigating to loginRequestUrl: ${i}`),t=await this.navigationClient.navigateInternal(i,e);else{const n=function(){const e=new xn(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(ei,n,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),t=await this.navigationClient.navigateInternal(n,e)}if(!t)return await this.handleResponse(r,n)}return null}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.browserStorage.cleanRequestByInteractionType(wi.Redirect),r}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===M.QUERY?window.location.search:window.location.hash);let n=Mn(t);if(n){try{!function(e,t,n){if(!e.state)throw xa(Fi);const r=lc(t,e.state);if(!r)throw xa(Hi);if(r.interactionType!==n)throw xa(Ui)}(n,this.browserCrypto,wi.Redirect)}catch(i){return i instanceof Ie&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(ti,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ti)),o&&(n=Mn(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw xa(Fi);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw xa(ba);const t=new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,hi,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=Js.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw xa(na);const i=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:o});Uc.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new Al(i,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(yi);try{this.eventHandler.emitEvent(Pc,wi.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:yi,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===be)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Rc,wi.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Rc,wi.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(Nc,wi.Redirect,null,r),this.eventHandler.emitEvent(Oc,wi.Redirect),r}this.eventHandler.emitEvent(Oc,wi.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return xn.getAbsoluteUrl(t,ps())}}async function xl(e,t,n,r,o){if(t.addQueueMeasurement(Rr,r),!e)throw n.info("Navigate url is empty"),xa(Di);return o?Ls(Rl,Or,n,t,r)(e,o,t,r):Ds(Nl,Dr,n,t,r)(e)}async function Pl(e,t,n,r,o,i,a){return r.addQueueMeasurement(Nr,i),new Promise(((r,i)=>{t<bs&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(c),i(xa(Yi))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=a===M.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)}),n)})).finally((()=>{Ds(Dl,po,o,r,i)(e)}))}function Rl(e,t,n,r){return n.addQueueMeasurement(Or,r),new Promise(((n,r)=>{const o=Ol();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Nl(e){const t=Ol();return t.src=e,t}function Ol(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Dl(e){document.body===e.parentNode&&document.body.removeChild(e)}class Ll extends ml{constructor(e,t,n,r,o,i,a,s,c,l,u){super(e,t,n,r,o,i,s,l,u),this.apiId=a,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(cr,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==_.NONE&&t.prompt!==_.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${_.NONE}`),t.prompt=_.NONE):t.prompt=_.NONE;const n=await Ls(this.initializeAuthorizationRequest.bind(this),qr,this.logger,this.performanceClient,e.correlationId)(t,wi.Silent);ws(n.authority);const r=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await Ls(this.createAuthCodeClient.bind(this),Lr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await Ls(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(i){if(i instanceof Ie&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),!o||!(i instanceof Ie)||i.errorCode!==No)throw i;this.performanceClient.addFields({retryError:i.errorCode},this.correlationId);const n=await Ls(this.initializeAuthorizationRequest.bind(this),qr,this.logger,this.performanceClient,e.correlationId)(t,wi.Silent);return await Ls(this.silentTokenHelper.bind(this),Pr,this.logger,this.performanceClient,this.correlationId)(o,n)}}logout(){return Promise.reject(xa(Ji))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Pr,n);const r=await Ls(this.initializeAuthorizationCodeRequest.bind(this),Hr,this.logger,this.performanceClient,n)(t),o=await Ls(e.getAuthCodeUrl.bind(e),Ur,this.logger,this.performanceClient,n)({...t,platformBroker:Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),i=new Il(e,this.browserStorage,r,this.logger,this.performanceClient),a=await Ls(xl,Rr,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,c=await Ls(Pl,Nr,this.logger,this.performanceClient,n)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),l=Ds(El,Jr,this.logger,this.performanceClient,this.correlationId)(c,s,this.logger);if(l.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw xa(ba);const e=new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,l.accountId,this.browserStorage,n),{userRequestState:r}=Js.parseRequestState(this.browserCrypto,t.state);return Ls(e.acquireToken.bind(e),fr,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||_.NONE})}return Ls(i.handleCodeResponse.bind(i),zr,this.logger,this.performanceClient,n)(l,t)}}class Fl extends Xc{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(wr,e.correlationId);const t=It(),n=await Ls(this.executeTokenRequest.bind(this),vr,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[w],o=new rl(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),Ls(o.handleServerTokenResponse.bind(o),Gr,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw fn(Jt);if(this.performanceClient?.addQueueMeasurement(kr,e.correlationId),!e.account)throw wt(Je);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Ls(this.acquireTokenWithCachedRefreshToken.bind(this),br,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof Ks&&t.errorCode===Us,r=t instanceof Hc&&t.errorCode===X&&t.subError===ee;if(n||r)return Ls(this.acquireTokenWithCachedRefreshToken.bind(this),br,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return Ls(this.acquireTokenWithCachedRefreshToken.bind(this),br,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(br,e.correlationId);const n=Ds(this.cacheManager.getRefreshToken.bind(this.cacheManager),mo,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw Qs(Us);if(n.expiresOn&&At(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),Qs(zs);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||V.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Zs}};try{return await Ls(this.acquireToken.bind(this),wr,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof Ks&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),o.subError===js)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=Mt(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(vr,e.correlationId);const n=this.createTokenQueryParameters(e),r=xn.appendQueryString(t.tokenEndpoint,n),o=await Ls(this.createTokenRequestBody.bind(this),Cr,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),a=Gs(this.config.authOptions.clientId,e);return Ls(this.executePostToTokenEndpoint.bind(this),gr,this.logger,this.performanceClient,e.correlationId)(r,o,i,a,e.correlationId,gr)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Cr,e.correlationId);const t=e.correlationId,n=new Jc(t,this.performanceClient);if(n.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[Bc]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(R),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!Gn(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const t=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await il(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(t.assertionType)}if(e.authenticationScheme===V.POP){const t=new tl(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Ls(t.generateCnf.bind(t),Vr,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}n.addPopToken(r)}else if(e.authenticationScheme===V.SSH){if(!e.sshJwk)throw fn(on);n.addSshJwk(e.sshJwk)}if((!mn.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Zs:try{const t=vn(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Xs:n.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&n.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class ql extends ml{async acquireToken(e){this.performanceClient.addQueueMeasurement(ur,e.correlationId);const t=await Ls(pl,_r,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(gi),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Ls(o.acquireTokenByRefreshToken.bind(o),kr,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(xa(Ji))}async createRefreshTokenClient(e){const t=await Ls(this.getClientConfiguration.bind(this),Fr,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new Fl(t,this.performanceClient)}}class Hl{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw xa(ia);const r=e.correlationId||Za(),o=t.id_token?St(t.id_token,qa):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new qs(qs.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||Za()):void 0,s=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,a),c=await this.loadIdToken(t,s.homeAccountId,s.environment,s.realm,r),l=await this.loadAccessToken(e,t,s.homeAccountId,s.environment,s.realm,n,r),u=await this.loadRefreshToken(t,s.homeAccountId,s.environment,r);return this.generateAuthenticationResult(e,{account:s,idToken:c,accessToken:l,refreshToken:u},o,a)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=_n.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),xa(da);const i=_n.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),a=r?.tid,s=ol(this.storage,o,i,qa,r,t,o.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(s,n),s}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=xt(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,a){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const s=t.scope?gn.fromString(t.scope):new gn(e.scopes),c=i.expiresOn||t.expires_in+It(),l=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+It(),u=Pt(n,r,t.access_token,this.config.auth.clientId,o,s.printScopes(),c,l,qa);return await this.storage.setAccessTokenCredential(u,a),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Rt(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){let o,i="",a=[],s=null;t?.accessToken&&(i=t.accessToken.secret,a=gn.fromString(t.accessToken.target).asArray(),s=_t(t.accessToken.expiresOn),o=_t(t.accessToken.extendedExpiresOn));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:a,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class Ul extends al{constructor(e){super(e),this.includeRedirectUri=!1}}class Bl extends ml{constructor(e,t,n,r,o,i,a,s,c,l){super(e,t,n,r,o,i,s,c,l),this.apiId=a}async acquireToken(e){if(!e.code)throw xa(pa);const t=await Ls(this.initializeAuthorizationRequest.bind(this),qr,this.logger,this.performanceClient,e.correlationId)(e,wi.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await Ls(this.getClientConfiguration.bind(this),Fr,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Ul(o);this.logger.verbose("Auth code client created");const a=new Il(i,this.browserStorage,r,this.logger,this.performanceClient);return await Ls(a.handleCodeResponseFromServer.bind(a),Br,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof Ie&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(xa(Ji))}}function zl(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function jl(e,t){try{ys(e)}catch(n){throw t.end({success:!1},n),n}}class $l{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Ns(this.logger,this.performanceClient):bt,this.eventHandler=new qc(this.logger),this.browserStorage=this.isBrowserEnvironment?new Lc(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw fn(tn)}return{canonicalAuthority:e.authority?Hs(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new Lc(t,{cacheLocation:Vo,temporaryCacheLocation:Vo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},bt,n,r,o));const i={cacheLocation:Vo,temporaryCacheLocation:Vo,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Lc(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Hl(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new $l(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(dc);const t=e?.correlationId||this.getRequestCorrelationId(),n=this.config.system.allowPlatformBroker,r=this.performanceClient.startMeasurement(Mr,t);if(this.eventHandler.emitEvent(uc),await Ls(this.browserStorage.initialize.bind(this.browserStorage),xr,this.logger,this.performanceClient,t)(t),n)try{this.nativeExtensionProvider=await Tl.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Ls(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),fo,this.logger,this.performanceClient,t)(this.performanceClient,t)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t),this.initialized=!0,this.eventHandler.emitEvent(dc),r.end({allowPlatformBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),gs(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const t=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),r=n&&Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=r?n?.correlationId:this.browserStorage.getTemporaryCache(ii,!0)||"",i=this.performanceClient.startMeasurement(or,o);let a;if(this.eventHandler.emitEvent(Ac,wi.Redirect),r&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,fi,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);a=Ls(e.handleRedirectPromise.bind(e),uo,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.createRedirectClient(o);a=Ls(t.handleRedirectPromise.bind(t),lo,this.logger,this.performanceClient,i.event.correlationId)(e,i)}return a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(gc,wi.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(wc,wi.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:zl(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Mc,wi.Redirect),e})).catch((e=>{const n=e;throw t.length>0?this.eventHandler.emitEvent(bc,wi.Redirect,null,n):this.eventHandler.emitEvent(yc,wi.Redirect,null,n),this.eventHandler.emitEvent(Mc,wi.Redirect),i.end({success:!1},n),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(rr,t);n.add({accountType:zl(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(vs(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(vc,wi.Redirect,e):this.eventHandler.emitEvent(mc,wi.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,di,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof vl&&wl(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Ks){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.browserStorage.setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw n.end({success:!1},i),o?this.eventHandler.emitEvent(bc,wi.Redirect,null,i):this.eventHandler.emitEvent(yc,wi.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(nr,t);n.add({scenarioId:e.scenarioId,accountType:zl(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),jl(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(vc,wi.Popup,e):this.eventHandler.emitEvent(mc,wi.Popup,e);const i=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative({...e,correlationId:t},hi).then((e=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,accountType:zl(e.account)}),e))).catch((n=>{if(n instanceof vl&&wl(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,i)}if(n instanceof Ks){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,i)}throw this.browserStorage.setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e,i)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(gc,wi.Popup,e):this.eventHandler.emitEvent(wc,wi.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:zl(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(bc,wi.Popup,null,e):this.eventHandler.emitEvent(yc,wi.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((()=>this.config.system.asyncPopups&&this.preGeneratePkceCodes(t)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(dr,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:zl(e.account)}),jl(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(Cc,wi.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,pi).catch((e=>{if(e instanceof vl&&wl(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Sc,wi.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:zl(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Tc,wi.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Zn,t);jl(this.initialized,n),this.eventHandler.emitEvent(Ic,wi.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw xa(ma);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Ec,wi.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:zl(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(_c,wi.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},mi,e.nativeAccountId).catch((e=>{throw e instanceof vl&&wl(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:zl(r.account),success:!0}),r}throw xa(ya)}throw xa(fa)}catch(r){throw this.eventHandler.emitEvent(_c,wi.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(co,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Sr,e.correlationId),t){case Si:case Ti:case Ii:const t=this.createSilentCacheClient(e.correlationId);return Ls(t.acquireToken.bind(t),sr,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(it)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Xn,e.correlationId),t){case Si:case Ii:case Ei:case _i:const t=this.createSilentRefreshClient(e.correlationId);return Ls(t.acquireToken.bind(t),ur,this.logger,this.performanceClient,e.correlationId)(e);default:throw wt(it)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Er,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Ls(t.acquireToken.bind(t),cr,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);vs(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);ys(this.initialized),this.browserStorage.setInteractionInProgress(!0);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=_n.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw xa(ba);return new Sl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case _.NONE:case _.CONSENT:case _.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new _l(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Ml(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Ll(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,pi,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new Cl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new ql(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Bl(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,mi,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return ms(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Yo?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Yo?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Za():c.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||bi})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||bi})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(er,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),jl(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw xa(Zi);return n.add({accountType:zl(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof Ie&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=Gs(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),o=JSON.stringify(r),i=this.activeSilentTokenRequests.get(o);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=Ls(this.acquireTokenSilentAsync.bind(this),tr,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(o,r),r.finally((()=>{this.activeSilentTokenRequests.delete(o)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),i}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(tr,e.correlationId),this.eventHandler.emitEvent(vc,wi.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Ls(fl,Ar,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Si;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Ks&&e.subError!==js),r=e.errorCode===No||e.errorCode===it,o=n&&r||e.errorCode===Us||e.errorCode===zs,i=Mi.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==Ai){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(lr,r.correlationId);i.add({awaitIframeCorrelationId:n});const a=await t;if(i.end({success:a}),a)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Ls(this.acquireTokenBySilentIframe.bind(this),Er,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Ls(this.acquireTokenBySilentIframe.bind(this),Er,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(wc,wi.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(bc,wi.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return Tl.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,gi,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof vl&&wl(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,wt(it);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Ti&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Ls(this.acquireTokenFromCache.bind(this),Sr,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===Ti)throw n;return this.eventHandler.emitEvent(kc,wi.Silent,e),Ls(this.acquireTokenByRefreshToken.bind(this),Xn,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Ls(ul,wo,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}}class Wl{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Ss(e);return await n.initialize(),$l.createController(n,t)}(e);return new Wl(e,t)}constructor(e,t){this.controller=t||new $l(new Ss(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}n.p;const Yl=n.p+"static/media/dff_logo.cb0b525fe175d62cca38.png";var Kl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vl=o.createContext&&o.createContext(Kl),Ql=["attr","size","title"];function Gl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(this,arguments)}function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eu(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tu(e){return e&&e.map(((e,t)=>o.createElement(e.tag,Xl({key:t},e.attr),tu(e.child))))}function nu(e){return t=>o.createElement(ru,Jl({attr:Xl({},e.attr)},t),tu(e.child))}function ru(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,s=Gl(e,Ql),c=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",Jl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:Xl(Xl({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&o.createElement("title",null,a),e.children)};return void 0!==Vl?o.createElement(Vl.Consumer,null,(e=>t(e))):t(Kl)}function ou(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function iu(e){return nu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function au(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function su(e){return nu({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function cu(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function lu(e){return nu({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}var uu=n(579);const du=function(e){let{value:t,onChange:n}=e;return(0,uu.jsxs)("div",{className:"search-bar-container",children:[(0,uu.jsx)(cu,{className:"icon left-icon"}),(0,uu.jsx)("input",{type:"text",value:t,onChange:n,className:"search-bar-input",placeholder:"Search by room name..."})]})};function hu(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=hu(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pu(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=hu(e))&&(r&&(r+=" "),r+=t);return r}Math.pow(10,8);const fu=6048e5,mu=6e4,gu=36e5,yu=Symbol.for("constructDateFrom");function vu(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&yu in e?e[yu](t):e instanceof Date?new e.constructor(t):new Date(t)}function wu(e,t){return vu(t||e,e)}function bu(e,t){const n=()=>vu(t?.in,NaN),r=t?.additionalDigits??2,o=function(e){const t={},n=e.split(ku.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],ku.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ku.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=ku.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(o.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:null===i?o:100*i,restDateString:e.slice((r[1]||r[2]).length)}}(o.date,r);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(Cu);if(!n)return new Date(NaN);const r=!!n[4],o=Iu(n[1]),i=Iu(n[2])-1,a=Iu(n[3]),s=Iu(n[4]),c=Iu(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,i=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}(t,s,c):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(_u[t]||(Au(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(Au(e)?366:365)}(t,o)?(e.setUTCFullYear(t,i,Math.max(o,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return n();const a=+i;let s,c=0;if(o.time&&(c=function(e){const t=e.match(Su);if(!t)return NaN;const n=Eu(t[1]),r=Eu(t[2]),o=Eu(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,o))return NaN;return n*gu+r*mu+1e3*o}(o.time),isNaN(c)))return n();if(!o.timezone){const e=new Date(a+c),n=wu(0,t?.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return s=function(e){if("Z"===e)return 0;const t=e.match(Tu);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(r*gu+o*mu)}(o.timezone),isNaN(s)?n():wu(a+c+s,t?.in)}const ku={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Cu=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Su=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Tu=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Iu(e){return e?parseInt(e):1}function Eu(e){return e&&parseFloat(e.replace(",","."))||0}const _u=[31,null,31,30,31,30,31,31,30,31,30,31];function Au(e){return e%400===0||e%4===0&&e%100!==0}const Mu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function xu(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Pu={date:xu({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xu({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xu({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ru={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Nu(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):t;r=e.formattingValues[o]||e.formattingValues[t]}else{const t=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Ou={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Nu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Nu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Nu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Nu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Du(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;const a=i[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(s,(e=>e.test(a))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(s,(e=>e.test(a)));let l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;return{value:l,rest:t.slice(a.length)}}}const Lu={ordinalNumber:(Fu={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Fu.matchPattern);if(!n)return null;const r=n[0],o=e.match(Fu.parsePattern);if(!o)return null;let i=Fu.valueCallback?Fu.valueCallback(o[0]):o[0];return i=t.valueCallback?t.valueCallback(i):i,{value:i,rest:e.slice(r.length)}}),era:Du({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Du({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Du({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Du({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Du({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Fu;const qu={code:"en-US",formatDistance:(e,t,n)=>{let r;const o=Mu[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Pu,formatRelative:(e,t,n,r)=>Ru[e],localize:Ou,match:Lu,options:{weekStartsOn:0,firstWeekContainsDate:1}},Hu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Uu=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Bu={p:Uu,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Hu(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Hu(r,t)).replace("{{time}}",Uu(o,t))}},zu=/^D+$/,ju=/^Y+$/,$u=["D","DD","YY","YYYY"];function Wu(e){return zu.test(e)}function Yu(e){return ju.test(e)}function Ku(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),$u.includes(e))throw new RangeError(r)}let Vu={};function Qu(){return Vu}function Gu(){return Object.assign({},Qu())}function Ju(e,t){const n=function(e){return"function"===typeof e&&e.prototype?.constructor===e}(t)?new t(0):vu(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}class Zu{subPriority=0;validate(e,t){return!0}}class Xu extends Zu{constructor(e,t,n,r,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class ed extends Zu{priority=10;subPriority=-1;constructor(e,t){super(),this.context=e||(e=>vu(t,e))}set(e,t){return t.timestampIsSet?e:vu(e,Ju(e,this.context))}}class td{run(e,t,n,r){const o=this.parse(e,t,n,r);return o?{setter:new Xu(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}const nd=/^(1[0-2]|0?\d)/,rd=/^(3[0-1]|[0-2]?\d)/,od=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,id=/^(5[0-3]|[0-4]?\d)/,ad=/^(2[0-3]|[0-1]?\d)/,sd=/^(2[0-4]|[0-1]?\d)/,cd=/^(1[0-1]|0?\d)/,ld=/^(1[0-2]|0?\d)/,ud=/^[0-5]?\d/,dd=/^[0-5]?\d/,hd=/^\d/,pd=/^\d{1,2}/,fd=/^\d{1,3}/,md=/^\d{1,4}/,gd=/^-?\d+/,yd=/^-?\d/,vd=/^-?\d{1,2}/,wd=/^-?\d{1,3}/,bd=/^-?\d{1,4}/,kd=/^([+-])(\d{2})(\d{2})?|Z/,Cd=/^([+-])(\d{2})(\d{2})|Z/,Sd=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Td=/^([+-])(\d{2}):(\d{2})|Z/,Id=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Ed(e,t){return e?{value:t(e.value),rest:e.rest}:e}function _d(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Ad(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(o*gu+i*mu+1e3*a),rest:t.slice(n[0].length)}}function Md(e){return _d(gd,e)}function xd(e,t){switch(e){case 1:return _d(hd,t);case 2:return _d(pd,t);case 3:return _d(fd,t);case 4:return _d(md,t);default:return _d(new RegExp("^\\d{1,"+e+"}"),t)}}function Pd(e,t){switch(e){case 1:return _d(yd,t);case 2:return _d(vd,t);case 3:return _d(wd,t);case 4:return _d(bd,t);default:return _d(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Rd(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Nd(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const t=r+50;o=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?o:1-o}function Od(e){return e%400===0||e%4===0&&e%100!==0}function Dd(e,t){const n=Qu(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=wu(e,t?.in),i=o.getDay(),a=(i<r?7:0)+i-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function Ld(e,t){const n=wu(e,t?.in),r=n.getFullYear(),o=Qu(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=vu(t?.in||e,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const s=Dd(a,t),c=vu(t?.in||e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const l=Dd(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function Fd(e,t){return Dd(e,{...t,weekStartsOn:1})}function qd(e,t){const n=Qu(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Ld(e,t),i=vu(t?.in||e,0);i.setFullYear(o,0,r),i.setHours(0,0,0,0);return Dd(i,t)}function Hd(e,t){const n=wu(e,t?.in),r=+Dd(n,t)-+qd(n,t);return Math.round(r/fu)+1}function Ud(e,t,n){const r=wu(e,n?.in),o=Hd(r,n)-t;return r.setDate(r.getDate()-7*o),wu(r,n?.in)}function Bd(e,t){const n=wu(e,t?.in),r=n.getFullYear(),o=vu(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=Fd(o),a=vu(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Fd(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function zd(e,t){const n=Bd(e,t),r=vu(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Fd(r)}function jd(e,t){const n=wu(e,t?.in),r=+Fd(n)-+zd(n);return Math.round(r/fu)+1}function $d(e,t,n){const r=wu(e,n?.in),o=jd(r,n)-t;return r.setDate(r.getDate()-7*o),r}const Wd=[31,28,31,30,31,30,31,31,30,31,30,31],Yd=[31,29,31,30,31,30,31,31,30,31,30,31];function Kd(e,t,n){const r=wu(e,n?.in);return isNaN(t)?vu(n?.in||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Vd(e,t,n){const r=Qu(),o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=wu(e,n?.in),a=i.getDay(),s=7-o;return Kd(i,t<0||t>6?t-(a+s)%7:((t%7+7)%7+s)%7-(a+s)%7,n)}function Qd(e,t){const n=wu(e,t?.in).getDay();return 0===n?7:n}function Gd(e,t,n){const r=wu(e,n?.in);return Kd(r,t-Qd(r,n),n)}function Jd(e){const t=wu(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}const Zd={G:new class extends td{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]},y:new class extends td{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Ed(xd(4,e),r);case"yo":return Ed(n.ordinalNumber(e,{unit:"year"}),r);default:return Ed(xd(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=Nd(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}},Y:new class extends td{priority=130;parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Ed(xd(4,e),r);case"Yo":return Ed(n.ordinalNumber(e,{unit:"year"}),r);default:return Ed(xd(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const o=Ld(e,r);if(n.isTwoDigitYear){const t=Nd(n.year,o);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Dd(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Dd(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class extends td{priority=130;parse(e,t){return Pd("R"===t?4:t.length,e)}set(e,t,n){const r=vu(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Fd(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class extends td{priority=130;parse(e,t){return Pd("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class extends td{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return xd(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class extends td{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return xd(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class extends td{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Ed(_d(nd,e),r);case"MM":return Ed(xd(2,e),r);case"Mo":return Ed(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends td{priority=110;parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Ed(_d(nd,e),r);case"LL":return Ed(xd(2,e),r);case"Lo":return Ed(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class extends td{priority=100;parse(e,t,n){switch(t){case"w":return _d(id,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return xd(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Dd(Ud(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class extends td{priority=100;parse(e,t,n){switch(t){case"I":return _d(id,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return xd(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Fd($d(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class extends td{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return _d(rd,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return xd(t.length,e)}}validate(e,t){const n=Od(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=Yd[r]:t>=1&&t<=Wd[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class extends td{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return _d(od,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return xd(t.length,e)}}validate(e,t){return Od(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class extends td{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Vd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]},e:new class extends td{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Ed(xd(t.length,e),o);case"eo":return Ed(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Vd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class extends td{priority=90;parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Ed(xd(t.length,e),o);case"co":return Ed(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=Vd(e,n,r)).setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class extends td{priority=90;parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return xd(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ed(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ed(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ed(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Ed(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=Gd(e,n)).setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class extends td{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]},b:new class extends td{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]},B:new class extends td{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Rd(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]},h:new class extends td{priority=70;parse(e,t,n){switch(t){case"h":return _d(ld,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return xd(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]},H:new class extends td{priority=70;parse(e,t,n){switch(t){case"H":return _d(ad,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return xd(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class extends td{priority=70;parse(e,t,n){switch(t){case"K":return _d(cd,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return xd(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]},k:new class extends td{priority=70;parse(e,t,n){switch(t){case"k":return _d(sd,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return xd(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class extends td{priority=60;parse(e,t,n){switch(t){case"m":return _d(ud,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return xd(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]},s:new class extends td{priority=50;parse(e,t,n){switch(t){case"s":return _d(dd,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return xd(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]},S:new class extends td{priority=30;parse(e,t){return Ed(xd(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]},X:new class extends td{priority=10;parse(e,t){switch(t){case"X":return Ad(kd,e);case"XX":return Ad(Cd,e);case"XXXX":return Ad(Sd,e);case"XXXXX":return Ad(Id,e);default:return Ad(Td,e)}}set(e,t,n){return t.timestampIsSet?e:vu(e,e.getTime()-Jd(e)-n)}incompatibleTokens=["t","T","x"]},x:new class extends td{priority=10;parse(e,t){switch(t){case"x":return Ad(kd,e);case"xx":return Ad(Cd,e);case"xxxx":return Ad(Sd,e);case"xxxxx":return Ad(Id,e);default:return Ad(Td,e)}}set(e,t,n){return t.timestampIsSet?e:vu(e,e.getTime()-Jd(e)-n)}incompatibleTokens=["t","T","X"]},t:new class extends td{priority=40;parse(e){return Md(e)}set(e,t,n){return[vu(e,1e3*n),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class extends td{priority=20;parse(e){return Md(e)}set(e,t,n){return[vu(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}},Xd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,th=/^'([^]*?)'?$/,nh=/''/g,rh=/\S/,oh=/[a-zA-Z]/;function ih(e,t,n,r){const o=()=>vu(r?.in||n,NaN),i=Gu(),a=r?.locale??i.locale??qu,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0;if(!t)return e?o():wu(n,r?.in);const l={firstWeekContainsDate:s,weekStartsOn:c,locale:a},u=[new ed(r?.in,n)],d=t.match(eh).map((e=>{const t=e[0];if(t in Bu){return(0,Bu[t])(e,a.formatLong)}return e})).join("").match(Xd),h=[];for(let g of d){!r?.useAdditionalWeekYearTokens&&Yu(g)&&Ku(g,t,e),!r?.useAdditionalDayOfYearTokens&&Wu(g)&&Ku(g,t,e);const n=g[0],i=Zd[n];if(i){const{incompatibleTokens:t}=i;if(Array.isArray(t)){const e=h.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${g}\` at the same time`)}else if("*"===i.incompatibleTokens&&h.length>0)throw new RangeError(`The format string mustn't contain \`${g}\` and any other token at the same time`);h.push({token:n,fullToken:g});const r=i.run(e,g,a.match,l);if(!r)return o();u.push(r.setter),e=r.rest}else{if(n.match(oh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===g?g="'":"'"===n&&(g=g.match(th)[1].replace(nh,"'")),0!==e.indexOf(g))return o();e=e.slice(g.length)}}if(e.length>0&&rh.test(e))return o();const p=u.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>u.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let f=wu(n,r?.in);if(isNaN(+f))return o();const m={};for(const g of p){if(!g.validate(f,l))return o();const e=g.set(f,m,l);Array.isArray(e)?(f=e[0],Object.assign(m,e[1])):f=e}return f}function ah(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function sh(e){return!(!ah(e)&&"number"!==typeof e||isNaN(+wu(e)))}function ch(e,t){return+wu(e)<+wu(t)}function lh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=vu.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(o)}function uh(e,t){const n=wu(e,t?.in);return n.setHours(0,0,0,0),n}function dh(e,t,n){const[r,o]=lh(n?.in,e,t),i=uh(r),a=uh(o),s=+i-Jd(i),c=+a-Jd(a);return Math.round((s-c)/864e5)}function hh(e,t){const n=wu(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ph(e,t){const n=wu(e,t?.in);return dh(n,hh(n))+1}function fh(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const mh={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return fh("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):fh(n+1,2)},d:(e,t)=>fh(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>fh(e.getHours()%12||12,t.length),H:(e,t)=>fh(e.getHours(),t.length),m:(e,t)=>fh(e.getMinutes(),t.length),s:(e,t)=>fh(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return fh(Math.trunc(r*Math.pow(10,n-3)),t.length)}},gh="midnight",yh="noon",vh="morning",wh="afternoon",bh="evening",kh="night",Ch={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return mh.y(e,t)},Y:function(e,t,n,r){const o=Ld(e,r),i=o>0?o:1-o;if("YY"===t){return fh(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):fh(i,t.length)},R:function(e,t){return fh(Bd(e),t.length)},u:function(e,t){return fh(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return fh(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return fh(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return mh.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return fh(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=Hd(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):fh(o,t.length)},I:function(e,t,n){const r=jd(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):fh(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):mh.d(e,t)},D:function(e,t,n){const r=ph(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):fh(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return fh(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return fh(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return fh(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?yh:0===r?gh:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?bh:r>=12?wh:r>=4?vh:kh,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return mh.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):mh.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):fh(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):fh(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mh.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mh.s(e,t)},S:function(e,t){return mh.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Th(r);case"XXXX":case"XX":return Ih(r);default:return Ih(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Th(r);case"xxxx":case"xx":return Ih(r);default:return Ih(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sh(r,":");default:return"GMT"+Ih(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sh(r,":");default:return"GMT"+Ih(r,":")}},t:function(e,t,n){return fh(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return fh(+e,t.length)}};function Sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+t+fh(i,2)}function Th(e,t){if(e%60===0){return(e>0?"-":"+")+fh(Math.abs(e)/60,2)}return Ih(e,t)}function Ih(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+fh(Math.trunc(r/60),2)+t+fh(r%60,2)}const Eh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ah=/^'([^]*?)'?$/,Mh=/''/g,xh=/[a-zA-Z]/;function Ph(e,t,n){const r=Qu(),o=n?.locale??r.locale??qu,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=wu(e,n?.in);if(!sh(s))throw new RangeError("Invalid time value");let c=t.match(_h).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Bu[t])(e,o.formatLong)}return e})).join("").match(Eh).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Rh(e)};if(Ch[t])return{isToken:!0,value:e};if(t.match(xh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));o.localize.preprocessor&&(c=o.localize.preprocessor(s,c));const l={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return c.map((r=>{if(!r.isToken)return r.value;const i=r.value;(!n?.useAdditionalWeekYearTokens&&Yu(i)||!n?.useAdditionalDayOfYearTokens&&Wu(i))&&Ku(i,t,String(e));return(0,Ch[i[0]])(s,i,o.localize,l)})).join("")}function Rh(e){const t=e.match(Ah);return t?t[1].replace(Mh,"'"):e}function Nh(e,t,n){const r=wu(e,n?.in);return r.setHours(t),r}function Oh(e,t,n){const r=wu(e,n?.in);return r.setMinutes(t),r}function Dh(e,t,n){const r=wu(e,n?.in);return r.setSeconds(t),r}function Lh(e,t){const n=wu(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Fh(e,t){const n=wu(e,t?.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function qh(e,t){const n=wu(e,t?.in);return n.setHours(23,59,59,999),n}function Hh(e,t){const n=Qu(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=wu(e,t?.in),i=o.getDay(),a=6+(i<r?-7:0)-(i-r);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}function Uh(e,t){const n=wu(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Bh(e,t,n){const[r,o]=lh(n?.in,e,t);return r.getFullYear()===o.getFullYear()}function zh(e,t,n){const[r,o]=lh(n?.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function jh(e,t,n){const[r,o]=lh(n?.in,e,t);return+Fh(r)===+Fh(o)}function $h(e,t,n){const[r,o]=lh(n?.in,e,t);return+uh(r)===+uh(o)}function Wh(e,t){return+wu(e)===+wu(t)}function Yh(e,t,n){const r=+wu(e,n?.in),[o,i]=[+wu(t.start,n?.in),+wu(t.end,n?.in)].sort(((e,t)=>e-t));return r>=o&&r<=i}function Kh(e,t){const n=wu(e,t?.in),r=n.getFullYear(),o=n.getMonth(),i=vu(n,0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}function Vh(e,t,n){const r=wu(e,n?.in),o=r.getFullYear(),i=r.getDate(),a=vu(n?.in||e,0);a.setFullYear(o,t,15),a.setHours(0,0,0,0);const s=Kh(a);return r.setMonth(t,Math.min(i,s)),r}function Qh(e,t,n){const r=wu(e,n?.in),o=t-(Math.trunc(r.getMonth()/3)+1);return Vh(r,r.getMonth()+3*o)}function Gh(e,t){return wu(e,t?.in).getFullYear()}function Jh(e,t){return wu(e,t?.in).getMonth()}function Zh(e,t){const n=wu(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Xh(e,t){const n=wu(e,t?.in);return Math.trunc(n.getMonth()/3)+1}function ep(e,t){return wu(e,t?.in).getHours()}function tp(e,t){return wu(e,t?.in).getMinutes()}function np(e){return wu(e).getSeconds()}function rp(e,t,n){const r=wu(e,n?.in);if(isNaN(t))return vu(n?.in||e,NaN);if(!t)return r;const o=r.getDate(),i=vu(n?.in||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);return o>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function op(e,t,n){return rp(e,-t,n)}function ip(e,t,n){const[r,o]=lh(n?.in,e,t);return 12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth())}function ap(e,t,n){return rp(e,3*t,n)}function sp(e,t,n){return ap(e,-t,n)}function cp(e,t,n){const[r,o]=lh(n?.in,e,t);return 4*(r.getFullYear()-o.getFullYear())+(Xh(r)-Xh(o))}function lp(e,t,n){return rp(e,12*t,n)}function up(e,t,n){return lp(e,-t,n)}function dp(e,t,n){const[r,o]=lh(n?.in,e,t);return r.getFullYear()-o.getFullYear()}function hp(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=vu.bind(null,e));const t=wu(e,r);(!n||n>t||isNaN(+t))&&(n=t)})),vu(r,n||NaN)}function pp(e,t){let n,r=t?.in;return e.forEach((e=>{r||"object"!==typeof e||(r=vu.bind(null,e));const t=wu(e,r);(!n||n<t||isNaN(+t))&&(n=t)})),vu(r,n||NaN)}function fp(e,t,n){return vu(n?.in||e,+wu(e)+t)}function mp(e,t,n){return fp(e,t*gu,n)}function gp(e,t,n){const r=wu(e,n?.in);return r.setTime(r.getTime()+t*mu),r}function yp(e,t,n){return fp(e,1e3*t,n)}function vp(e,t){return+wu(e)>+wu(t)}function wp(e,t){return wu(e,t?.in).getDay()}function bp(e,t){return wu(e,t?.in).getDate()}function kp(e,t,n){return Kd(e,7*t,n)}function Cp(e){return+wu(e)}function Sp(e,t,n){const r=wu(e,n?.in);return isNaN(+r)?vu(n?.in||e,NaN):(r.setFullYear(t),r)}function Tp(e,t,n){const[r,o]=lh(n?.in,e,t),i=Ip(r,o),a=Math.abs(dh(r,o));r.setDate(r.getDate()-i*a);const s=i*(a-Number(Ip(r,o)===-i));return 0===s?0:s}function Ip(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Ep(e,t,n){return kp(e,-t,n)}function _p(e,t,n){return Kd(e,-t,n)}function Ap(){return"undefined"!==typeof window}function Mp(e){return Rp(e)?(e.nodeName||"").toLowerCase():"#document"}function xp(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Pp(e){var t;return null==(t=(Rp(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Rp(e){return!!Ap()&&(e instanceof Node||e instanceof xp(e).Node)}function Np(e){return!!Ap()&&(e instanceof Element||e instanceof xp(e).Element)}function Op(e){return!!Ap()&&(e instanceof HTMLElement||e instanceof xp(e).HTMLElement)}function Dp(e){return!(!Ap()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof xp(e).ShadowRoot)}function Lp(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=zp(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Fp(e){return["table","td","th"].includes(Mp(e))}function qp(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function Hp(e){const t=Up(),n=Np(e)?zp(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function Up(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Bp(e){return["html","body","#document"].includes(Mp(e))}function zp(e){return xp(e).getComputedStyle(e)}function jp(e){return Np(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $p(e){if("html"===Mp(e))return e;const t=e.assignedSlot||e.parentNode||Dp(e)&&e.host||Pp(e);return Dp(t)?t.host:t}function Wp(e){const t=$p(e);return Bp(t)?e.ownerDocument?e.ownerDocument.body:e.body:Op(t)&&Lp(t)?t:Wp(t)}function Yp(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=Wp(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=xp(o);if(i){const e=Kp(a);return t.concat(a,a.visualViewport||[],Lp(o)?o:[],e&&n?Yp(e):[])}return t.concat(o,Yp(o,[],n))}function Kp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}var Vp=n(950);const Qp=Math.min,Gp=Math.max,Jp=Math.round,Zp=Math.floor,Xp=e=>({x:e,y:e}),ef={left:"right",right:"left",bottom:"top",top:"bottom"},tf={start:"end",end:"start"};function nf(e,t){return"function"===typeof e?e(t):e}function rf(e){return e.split("-")[0]}function of(e){return e.split("-")[1]}function af(e){return"y"===e?"height":"width"}function sf(e){return["top","bottom"].includes(rf(e))?"y":"x"}function cf(e){return"x"===sf(e)?"y":"x"}function lf(e){return e.replace(/start|end/g,(e=>tf[e]))}function uf(e){return e.replace(/left|right|bottom|top/g,(e=>ef[e]))}function df(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function hf(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function pf(e,t,n){let{reference:r,floating:o}=e;const i=sf(t),a=cf(t),s=af(a),c=rf(t),l="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,h=r[s]/2-o[s]/2;let p;switch(c){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(of(t)){case"start":p[a]-=h*(n&&l?-1:1);break;case"end":p[a]+=h*(n&&l?-1:1)}return p}async function ff(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=nf(t,e),f=df(p),m=s[h?"floating"===d?"reference":"floating":d],g=hf(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:u,strategy:c})),y="floating"===d?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),w=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=hf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-b.top+f.top)/w.y,bottom:(b.bottom-g.bottom+f.bottom)/w.y,left:(g.left-b.left+f.left)/w.x,right:(b.right-g.right+f.right)/w.x}}function mf(e){const t=zp(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Op(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=Jp(n)!==i||Jp(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function gf(e){return Np(e)?e:e.contextElement}function yf(e){const t=gf(e);if(!Op(t))return Xp(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=mf(t);let a=(i?Jp(n.width):n.width)/r,s=(i?Jp(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const vf=Xp(0);function wf(e){const t=xp(e);return Up()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:vf}function bf(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=gf(e);let a=Xp(1);t&&(r?Np(r)&&(a=yf(r)):a=yf(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==xp(e))&&t}(i,n,r)?wf(i):Xp(0);let c=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=xp(i),t=r&&Np(r)?xp(r):r;let n=e,o=Kp(n);for(;o&&r&&t!==n;){const e=yf(o),t=o.getBoundingClientRect(),r=zp(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=i,l+=a,n=xp(o),o=Kp(n)}}return hf({width:u,height:d,x:c,y:l})}function kf(e,t){const n=jp(e).scrollLeft;return t?t.left+n:bf(Pp(e)).left+n}function Cf(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:kf(e,r)),y:r.top+t.scrollTop}}function Sf(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=xp(e),r=Pp(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,c=0;if(o){i=o.width,a=o.height;const e=Up();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,c=o.offsetTop)}return{width:i,height:a,x:s,y:c}}(e,n);else if("document"===t)r=function(e){const t=Pp(e),n=jp(e),r=e.ownerDocument.body,o=Gp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Gp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+kf(e);const s=-n.scrollTop;return"rtl"===zp(r).direction&&(a+=Gp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(Pp(e));else if(Np(t))r=function(e,t){const n=bf(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Op(e)?yf(e):Xp(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=wf(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return hf(r)}function Tf(e,t){const n=$p(e);return!(n===t||!Np(n)||Bp(n))&&("fixed"===zp(n).position||Tf(n,t))}function If(e,t,n){const r=Op(t),o=Pp(t),i="fixed"===n,a=bf(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const c=Xp(0);if(r||!r&&!i)if(("body"!==Mp(t)||Lp(o))&&(s=jp(t)),r){const e=bf(t,!0,i,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else o&&(c.x=kf(o));const l=!o||r||i?Xp(0):Cf(o,s);return{x:a.left+s.scrollLeft-c.x-l.x,y:a.top+s.scrollTop-c.y-l.y,width:a.width,height:a.height}}function Ef(e){return"static"===zp(e).position}function _f(e,t){if(!Op(e)||"fixed"===zp(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Pp(e)===n&&(n=n.ownerDocument.body),n}function Af(e,t){const n=xp(e);if(qp(e))return n;if(!Op(e)){let t=$p(e);for(;t&&!Bp(t);){if(Np(t)&&!Ef(t))return t;t=$p(t)}return n}let r=_f(e,t);for(;r&&Fp(r)&&Ef(r);)r=_f(r,t);return r&&Bp(r)&&Ef(r)&&!Hp(r)?n:r||function(e){let t=$p(e);for(;Op(t)&&!Bp(t);){if(Hp(t))return t;if(qp(t))return null;t=$p(t)}return null}(e)||n}const Mf={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=Pp(r),s=!!t&&qp(t.floating);if(r===a||s&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Xp(1);const u=Xp(0),d=Op(r);if((d||!d&&!i)&&(("body"!==Mp(r)||Lp(a))&&(c=jp(r)),Op(r))){const e=bf(r);l=yf(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const h=!a||d||i?Xp(0):Cf(a,c,!0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+h.x,y:n.y*l.y-c.scrollTop*l.y+u.y+h.y}},getDocumentElement:Pp,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[..."clippingAncestors"===n?qp(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=Yp(e,[],!1).filter((e=>Np(e)&&"body"!==Mp(e))),o=null;const i="fixed"===zp(e).position;let a=i?$p(e):e;for(;Np(a)&&!Bp(a);){const t=zp(a),n=Hp(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Lp(a)&&!n&&Tf(e,a))?r=r.filter((e=>e!==a)):o=t,a=$p(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=i[0],s=i.reduce(((e,n)=>{const r=Sf(t,n,o);return e.top=Gp(r.top,e.top),e.right=Qp(r.right,e.right),e.bottom=Qp(r.bottom,e.bottom),e.left=Gp(r.left,e.left),e}),Sf(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:Af,getElementRects:async function(e){const t=this.getOffsetParent||Af,n=this.getDimensions,r=await n(e.floating);return{reference:If(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=mf(e);return{width:t,height:n}},getScale:yf,isElement:Np,isRTL:function(e){return"rtl"===zp(e).direction}};function xf(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pf(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:c=!1}=r,l=gf(e),u=o||i?[...l?Yp(l):[],...Yp(t)]:[];u.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=l&&s?function(e,t){let n,r=null;const o=Pp(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,c){void 0===s&&(s=!1),void 0===c&&(c=1),i();const l=e.getBoundingClientRect(),{left:u,top:d,width:h,height:p}=l;if(s||t(),!h||!p)return;const f={rootMargin:-Zp(d)+"px "+-Zp(o.clientWidth-(u+h))+"px "+-Zp(o.clientHeight-(d+p))+"px "+-Zp(u)+"px",threshold:Gp(0,Qp(1,c))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==c){if(!m)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||xf(l,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...f,root:o.ownerDocument})}catch(y){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),i}(l,n):null;let h,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===l&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),l&&!c&&f.observe(l),f.observe(t));let m=c?bf(e):null;return c&&function t(){const r=bf(e);m&&!xf(m,r)&&n();m=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=f)||e.disconnect(),f=null,c&&cancelAnimationFrame(h)}}const Rf=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,c=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=rf(n),s=of(n),c="y"===sf(n),l=["left","top"].includes(a)?-1:1,u=i&&c?-1:1,d=nf(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&"number"===typeof f&&(p="end"===s?-1*f:f),c?{x:p*u,y:h*l}:{x:h*l,y:p*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:a}}}}},Nf=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:m=!0,...g}=nf(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const y=rf(o),v=sf(s),w=rf(s)===s,b=await(null==c.isRTL?void 0:c.isRTL(l.floating)),k=h||(w||!m?[uf(s)]:function(e){const t=uf(e);return[lf(e),t,lf(t)]}(s)),C="none"!==f;!h&&C&&k.push(...function(e,t,n,r){const o=of(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(rf(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(lf)))),i}(s,m,f,b));const S=[s,...k],T=await ff(t,g),I=[];let E=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&I.push(T[y]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=of(e),o=cf(e),i=af(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=uf(a)),[a,uf(a)]}(o,a,b);I.push(T[e[0]],T[e[1]])}if(E=[...E,{placement:o,overflows:I}],!I.every((e=>e<=0))){var _,A;const e=((null==(_=i.flip)?void 0:_.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(A=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:A.placement;if(!n)switch(p){case"bestFit":{var M;const e=null==(M=E.filter((e=>{if(C){const t=sf(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:M[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},Of=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=nf(e,t)||{};if(null==l)return{};const d=df(u),h={x:n,y:r},p=cf(o),f=af(p),m=await a.getDimensions(l),g="y"===p,y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[f]+i.reference[p]-h[p]-i.floating[f],k=h[p]-i.reference[p],C=await(null==a.getOffsetParent?void 0:a.getOffsetParent(l));let S=C?C[w]:0;S&&await(null==a.isElement?void 0:a.isElement(C))||(S=s.floating[w]||i.floating[f]);const T=b/2-k/2,I=S/2-m[f]/2-1,E=Qp(d[y],I),_=Qp(d[v],I),A=E,M=S-m[f]-_,x=S/2-m[f]/2+T,P=Gp(A,Qp(x,M));const R=!c.arrow&&null!=of(o)&&x!==P&&i.reference[f]/2-(x<A?E:_)-m[f]/2<0,N=R?x<A?x-A:x-M:0;return{[p]:h[p]+N,data:{[p]:P,centerOffset:x-P-N,...R&&{alignmentOffset:N}},reset:R}}}),Df=(e,t,n)=>{const r=new Map,o={platform:Mf,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),c=await(null==a.isRTL?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=pf(l,r,c),h=r,p={},f=0;for(let m=0;m<s.length;m++){const{name:n,fn:i}=s[m],{x:g,y:y,data:v,reset:w}=await i({x:u,y:d,initialPlacement:r,placement:h,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,d=null!=y?y:d,p={...p,[n]:{...p[n],...v}},w&&f<=50&&(f++,"object"===typeof w&&(w.placement&&(h=w.placement),w.rects&&(l=!0===w.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),({x:u,y:d}=pf(l,h,c))),m=-1)}return{x:u,y:d,placement:h,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})};var Lf="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;function Ff(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Ff(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Ff(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function qf(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hf(e,t){const n=qf(e);return Math.round(t*n)/n}function Uf(e){const t=o.useRef(e);return Lf((()=>{t.current=e})),t}const Bf=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(o=n,{}.hasOwnProperty.call(o,"current"))?null!=n.current?Of({element:n.current,padding:r}).fn(t):{}:n?Of({element:n,padding:r}).fn(t):{};var o}}),zf=(e,t)=>({...Rf(e),options:[e,t]}),jf=(e,t)=>({...Bf(e),options:[e,t]});const $f={...i},Wf=$f.useInsertionEffect||(e=>e());function Yf(e){const t=o.useRef((()=>{0}));return Wf((()=>{t.current=e})),o.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const Kf="ArrowUp",Vf="ArrowDown",Qf="ArrowLeft",Gf="ArrowRight";var Jf="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;const Zf=[Qf,Gf],Xf=[Kf,Vf];let em=!1,tm=0;const nm=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tm++;const rm=$f.useId||function(){const[e,t]=o.useState((()=>em?nm():void 0));return Jf((()=>{null==e&&t(nm())}),[]),o.useEffect((()=>{em=!0}),[]),e};const om=o.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:a}},width:s=14,height:c=7,tipRadius:l=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:p,style:{transform:f,...m}={},...g}=e;const y=rm(),[v,w]=o.useState(!1);if(Jf((()=>{if(!r)return;"rtl"===zp(r).direction&&w(!0)}),[r]),!r)return null;const[b,k]=n.split("-"),C="top"===b||"bottom"===b;let S=d;(C&&null!=a&&a.x||!C&&null!=a&&a.y)&&(S=null);const T=2*u,I=T/2,E=s/2*(l/-8+1),_=c/2*l/4,A=!!p,M=S&&"end"===k?"bottom":"top";let x=S&&"end"===k?"right":"left";S&&v&&(x="end"===k?"left":"right");const P=null!=(null==i?void 0:i.x)?S||i.x:"",R=null!=(null==i?void 0:i.y)?S||i.y:"",N=p||"M0,0 H"+s+" L"+(s-E)+","+(c-_)+" Q"+s/2+","+c+" "+E+","+(c-_)+" Z",O={top:A?"rotate(180deg)":"",left:A?"rotate(90deg)":"rotate(-90deg)",bottom:A?"":"rotate(180deg)",right:A?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,uu.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:A?s:s+T,height:s,viewBox:"0 0 "+s+" "+(c>s?c:s),style:{position:"absolute",pointerEvents:"none",[x]:P,[M]:R,[b]:C||A?"100%":"calc(100% - "+T/2+"px)",transform:[O,f].filter((e=>!!e)).join(" "),...m},children:[T>0&&(0,uu.jsx)("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:T+(p?0:1),d:N}),(0,uu.jsx)("path",{stroke:T&&!p?g.fill:"none",d:N}),(0,uu.jsx)("clipPath",{id:y,children:(0,uu.jsx)("rect",{x:-I,y:I*(A?-1:1),width:s+T,height:s})})]})}));function im(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}const am=o.createContext(null),sm=o.createContext(null),cm=()=>{var e;return(null==(e=o.useContext(am))?void 0:e.id)||null},lm=()=>o.useContext(sm);function um(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=rm(),a=o.useRef({}),[s]=o.useState((()=>im())),c=null!=cm(),[l,u]=o.useState(r.reference),d=Yf(((e,t,r)=>{a.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:c}),null==n||n(e,t,r)})),h=o.useMemo((()=>({setPositionReference:u})),[]),p=o.useMemo((()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference})),[l,r.reference,r.floating]);return o.useMemo((()=>({dataRef:a,open:t,onOpenChange:d,elements:p,events:s,floatingId:i,refs:h})),[t,d,p,s,i,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,s]=o.useState(null),[c,l]=o.useState(null),u=(null==i?void 0:i.domReference)||a,d=o.useRef(null),h=lm();Jf((()=>{u&&(d.current=u)}),[u]);const p=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,h]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=o.useState(r);Ff(p,r)||f(r);const[m,g]=o.useState(null),[y,v]=o.useState(null),w=o.useCallback((e=>{e!==S.current&&(S.current=e,g(e))}),[]),b=o.useCallback((e=>{e!==T.current&&(T.current=e,v(e))}),[]),k=a||m,C=s||y,S=o.useRef(null),T=o.useRef(null),I=o.useRef(d),E=null!=l,_=Uf(l),A=Uf(i),M=Uf(u),x=o.useCallback((()=>{if(!S.current||!T.current)return;const e={placement:t,strategy:n,middleware:p};A.current&&(e.platform=A.current),Df(S.current,T.current,e).then((e=>{const t={...e,isPositioned:!1!==M.current};P.current&&!Ff(I.current,t)&&(I.current=t,Vp.flushSync((()=>{h(t)})))}))}),[p,t,n,A,M]);Lf((()=>{!1===u&&I.current.isPositioned&&(I.current.isPositioned=!1,h((e=>({...e,isPositioned:!1}))))}),[u]);const P=o.useRef(!1);Lf((()=>(P.current=!0,()=>{P.current=!1})),[]),Lf((()=>{if(k&&(S.current=k),C&&(T.current=C),k&&C){if(_.current)return _.current(k,C,x);x()}}),[k,C,x,_,E]);const R=o.useMemo((()=>({reference:S,floating:T,setReference:w,setFloating:b})),[w,b]),N=o.useMemo((()=>({reference:k,floating:C})),[k,C]),O=o.useMemo((()=>{const e={position:n,left:0,top:0};if(!N.floating)return e;const t=Hf(N.floating,d.x),r=Hf(N.floating,d.y);return c?{...e,transform:"translate("+t+"px, "+r+"px)",...qf(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,c,N.floating,d.x,d.y]);return o.useMemo((()=>({...d,update:x,refs:R,elements:N,floatingStyles:O})),[d,x,R,N,O])}({...e,elements:{...i,...c&&{reference:c}}}),f=o.useCallback((e=>{const t=Np(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),p.refs.setReference(t)}),[p.refs]),m=o.useCallback((e=>{(Np(e)||null===e)&&(d.current=e,s(e)),(Np(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!Np(e))&&p.refs.setReference(e)}),[p.refs]),g=o.useMemo((()=>({...p.refs,setReference:m,setPositionReference:f,domReference:d})),[p.refs,m,f]),y=o.useMemo((()=>({...p.elements,domReference:u})),[p.elements,u]),v=o.useMemo((()=>({...p,...r,refs:g,elements:y,nodeId:t})),[p,g,y,t,r]);return Jf((()=>{r.dataRef.current.floatingContext=v;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),o.useMemo((()=>({...p,context:v,refs:g,elements:y})),[p,g,y,v])}var dm=function(e,t){return dm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},dm(e,t)};function hm(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}dm(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pm=function(){return pm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pm.apply(this,arguments)};function fm(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}"function"===typeof SuppressedError&&SuppressedError;var mm,gm=function(e){var t=e.showTimeSelectOnly,n=void 0!==t&&t,r=e.showTime,i=void 0!==r&&r,a=e.className,s=e.children,c=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return o.createElement("div",{className:a,role:"dialog","aria-label":c,"aria-modal":"true"},s)},ym=function(e){var t=e.children,n=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=function(e,t){var n=(0,o.useRef)(null),r=(0,o.useRef)(e);r.current=e;var i=(0,o.useCallback)((function(e){var o,i=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;n.current&&!n.current.contains(i)&&(t&&i instanceof HTMLElement&&i.classList.contains(t)||null===(o=r.current)||void 0===o||o.call(r,e))}),[t]);return(0,o.useEffect)((function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}}),[i]),n}(n,e.ignoreClass);return o.createElement("div",{className:r,style:a,ref:function(e){s.current=e,i&&(i.current=e)}},t)};function vm(){return"undefined"!==typeof window?window:globalThis}!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"}(mm||(mm={}));function wm(e){if(null==e)return new Date;var t="string"===typeof e?bu(e):wu(e);return km(t)?t:new Date}function bm(e,t,n,r,o){void 0===o&&(o=wm());for(var i=Um(n)||Um(Hm()),a=0,s=Array.isArray(t)?t:[t];a<s.length;a++){var c=s[a],l=ih(e,c,o,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(km(l)&&(!r||e===Cm(l,c,n)))return l}return null}function km(e,t){return sh(e)&&!ch(e,new Date("1/1/1800"))}function Cm(e,t,n){if("en"===n)return Ph(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Um(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),Ph(e,t,{locale:r=r||Um(Hm()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Sm(e,t){var n=t.dateFormat,r=t.locale,o=Array.isArray(n)&&n.length>0?n[0]:n;return e&&Cm(e,o,r)||""}function Tm(e,t){var n=t.hour,r=void 0===n?0:n,o=t.minute,i=void 0===o?0:o,a=t.second;return Nh(Oh(Dh(e,void 0===a?0:a),i),r)}function Im(e){return uh(e)}function Em(e,t,n){return Dd(e,{locale:Um(t||Hm()),weekStartsOn:n})}function _m(e){return Lh(e)}function Am(e){return hh(e)}function Mm(e){return Fh(e)}function xm(){return uh(wm())}function Pm(e){return qh(e)}function Rm(e){return Uh(e)}function Nm(e,t){return e&&t?Bh(e,t):!e&&!t}function Om(e,t){return e&&t?zh(e,t):!e&&!t}function Dm(e,t){return e&&t?jh(e,t):!e&&!t}function Lm(e,t){return e&&t?$h(e,t):!e&&!t}function Fm(e,t){return e&&t?Wh(e,t):!e&&!t}function qm(e,t,n){var r,o=uh(t),i=qh(n);try{r=Yh(e,{start:o,end:i})}catch(a){r=!1}return r}function Hm(){return vm().__localeId__}function Um(e){if("string"===typeof e){var t=vm();return t.__localeData__?t.__localeData__[e]:void 0}return e}function Bm(e,t){return Cm(Vh(wm(),e),"LLLL",t)}function zm(e,t){return Cm(Vh(wm(),e),"LLL",t)}function jm(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.excludeDateIntervals,s=n.includeDates,c=n.includeDateIntervals,l=n.filterDate;return Zm(e,{minDate:r,maxDate:o})||i&&i.some((function(t){return t instanceof Date?Lm(e,t):Lm(e,t.date)}))||a&&a.some((function(t){var n=t.start,r=t.end;return Yh(e,{start:n,end:r})}))||s&&!s.some((function(t){return Lm(e,t)}))||c&&!c.some((function(t){var n=t.start,r=t.end;return Yh(e,{start:n,end:r})}))||l&&!l(wm(e))||!1}function $m(e,t){var n=void 0===t?{}:t,r=n.excludeDates,o=n.excludeDateIntervals;return o&&o.length>0?o.some((function(t){var n=t.start,r=t.end;return Yh(e,{start:n,end:r})})):r&&r.some((function(t){var n;return t instanceof Date?Lm(e,t):Lm(e,null!==(n=t.date)&&void 0!==n?n:new Date)}))||!1}function Wm(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,s=n.filterDate;return Zm(e,{minDate:r?Lh(r):void 0,maxDate:o?Uh(o):void 0})||(null===i||void 0===i?void 0:i.some((function(t){return Om(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return Om(e,t)}))||s&&!s(wm(e))||!1}function Ym(e,t,n,r){var o=Gh(e),i=Jh(e),a=Gh(t),s=Jh(t),c=Gh(r);return o===a&&o===c?i<=n&&n<=s:o<a&&(c===o&&i<=n||c===a&&s>=n||c<a&&c>o)}function Km(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates;return Zm(e,{minDate:r,maxDate:o})||i&&i.some((function(t){return Om(t instanceof Date?t:t.date,e)}))||a&&!a.some((function(t){return Om(t,e)}))||!1}function Vm(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,s=n.filterDate;return Zm(e,{minDate:r,maxDate:o})||(null===i||void 0===i?void 0:i.some((function(t){return Dm(e,t instanceof Date?t:t.date)})))||a&&!a.some((function(t){return Dm(e,t)}))||s&&!s(wm(e))||!1}function Qm(e,t,n){if(!t||!n)return!1;if(!sh(t)||!sh(n))return!1;var r=Gh(t),o=Gh(n);return r<=e&&o>=e}function Gm(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.maxDate,i=n.excludeDates,a=n.includeDates,s=n.filterDate,c=new Date(e,0,1);return Zm(c,{minDate:r?hh(r):void 0,maxDate:o?Zh(o):void 0})||(null===i||void 0===i?void 0:i.some((function(e){return Nm(c,e instanceof Date?e:e.date)})))||a&&!a.some((function(e){return Nm(c,e)}))||s&&!s(wm(c))||!1}function Jm(e,t,n,r){var o=Gh(e),i=Xh(e),a=Gh(t),s=Xh(t),c=Gh(r);return o===a&&o===c?i<=n&&n<=s:o<a&&(c===o&&i<=n||c===a&&s>=n||c<a&&c>o)}function Zm(e,t){var n,r=void 0===t?{}:t,o=r.minDate,i=r.maxDate;return null!==(n=o&&dh(e,o)<0||i&&dh(e,i)>0)&&void 0!==n&&n}function Xm(e,t){return t.some((function(t){return ep(t)===ep(e)&&tp(t)===tp(e)&&np(t)===np(e)}))}function eg(e,t){var n=void 0===t?{}:t,r=n.excludeTimes,o=n.includeTimes,i=n.filterTime;return r&&Xm(e,r)||o&&!Xm(e,o)||i&&!i(e)||!1}function tg(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var o=wm();o=Dh(o=Oh(o=Nh(o,ep(e)),tp(e)),np(e));var i=wm();i=Dh(i=Oh(i=Nh(i,ep(n)),tp(n)),np(n));var a,s=wm();s=Dh(s=Oh(s=Nh(s,ep(r)),tp(r)),np(r));try{a=!Yh(o,{start:i,end:s})}catch(c){a=!1}return a}function ng(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=op(e,1);return r&&ip(r,i)>0||o&&o.every((function(e){return ip(e,i)>0}))||!1}function rg(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=rp(e,1);return r&&ip(i,r)>0||o&&o.every((function(e){return ip(i,e)>0}))||!1}function og(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=up(e,1);return r&&dp(r,i)>0||o&&o.every((function(e){return dp(e,i)>0}))||!1}function ig(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=lp(e,1);return r&&dp(i,r)>0||o&&o.every((function(e){return dp(i,e)>0}))||!1}function ag(e){var t=e.minDate,n=e.includeDates;return n&&t?hp(n.filter((function(e){return dh(e,t)>=0}))):n?hp(n):t}function sg(e){var t=e.maxDate,n=e.includeDates;return n&&t?pp(n.filter((function(e){return dh(e,t)<=0}))):n?pp(n):t}function cg(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,o=0,i=e.length;o<i;o++){var a=e[o];if(ah(a)){var s=Cm(a,"MM.dd.yyyy");(p=r.get(s)||[]).includes(t)||(p.push(t),r.set(s,p))}else if("object"===typeof a){var c=null!==(n=Object.keys(a)[0])&&void 0!==n?n:"",l=a[c];if("string"===typeof c&&Array.isArray(l))for(var u=0,d=l.length;u<d;u++){var h=l[u];if(h){var p;s=Cm(h,"MM.dd.yyyy");(p=r.get(s)||[]).includes(c)||(p.push(c),r.set(s,p))}}}}return r}function lg(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach((function(e){var r=e.date,o=e.holidayName;if(ah(r)){var i=Cm(r,"MM.dd.yyyy"),a=n.get(i)||{className:"",holidayNames:[]};if(!("className"in a)||a.className!==t||(s=a.holidayNames,c=[o],s.length!==c.length||!s.every((function(e,t){return e===c[t]})))){var s,c;a.className=t;var l=a.holidayNames;a.holidayNames=l?fm(fm([],l,!0),[o],!1):[o],n.set(i,a)}}})),n}function ug(e,t,n,r,o){for(var i=o.length,a=[],s=0;s<i;s++){var c=e,l=o[s];l&&(c=yp(c=gp(c=mp(c,ep(l)),tp(l)),np(l)));var u=gp(e,(n+1)*r);vp(c,t)&&ch(c,u)&&void 0!=l&&a.push(l)}return a}function dg(e){return e<10?"0".concat(e):"".concat(e)}function hg(e,t){void 0===t&&(t=12);var n=Math.ceil(Gh(e)/t)*t;return{startPeriod:n-(t-1),endPeriod:n}}function pg(e){var t=e.getSeconds(),n=e.getMilliseconds();return wu(e.getTime()-1e3*t-n)}function fg(e){if(!ah(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function mg(e,t){if(!ah(e)||!ah(t))throw new Error("Invalid date received");return ch(fg(e),fg(t))}function gg(e){return e.key===mm.Space}var yg,vg=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=o.createRef(),n.onTimeChange=function(e){var t,r;n.setState({time:e});var o=n.props.date,i=o instanceof Date&&!isNaN(+o)?o:new Date;if(null===e||void 0===e?void 0:e.includes(":")){var a=e.split(":"),s=a[0],c=a[1];i.setHours(Number(s)),i.setMinutes(Number(c))}null===(r=(t=n.props).onChange)||void 0===r||r.call(t,i)},n.renderTimeInput=function(){var e=n.state.time,t=n.props,r=t.date,i=t.timeString,a=t.customTimeInput;return a?(0,o.cloneElement)(a,{date:r,value:e,onChange:n.onTimeChange}):o.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var e;null===(e=n.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){n.onTimeChange(e.target.value||i)}})},n.state={time:n.props.timeString},n}return hm(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return o.createElement("div",{className:"react-datepicker__input-time-container"},o.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),o.createElement("div",{className:"react-datepicker-time__input-container"},o.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(o.Component),wg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=(0,o.createRef)(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var n,r;e.key===mm.Space&&(e.preventDefault(),e.key=mm.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isSameDay=function(e){return Lm(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var n=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!n&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),jm(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return $m(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Lm(t.props.day,Em(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&Lm(e,Em(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,n=e.day,r=e.highlightDates;if(!r)return!1;var o=Cm(n,"MM.dd.yyyy");return r.get(o)},t.getHolidaysClass=function(){var e,n=t.props,r=n.day,o=n.holidays;if(!o)return[void 0];var i=Cm(r,"MM.dd.yyyy");return o.has(i)?[null===(e=o.get(i))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&qm(n,r,o)},t.isInSelectingRange=function(){var e,n=t.props,r=n.day,o=n.selectsStart,i=n.selectsEnd,a=n.selectsRange,s=n.selectsDisabledDaysInRange,c=n.startDate,l=n.endDate,u=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(o||i||a)||!u||!s&&t.isDisabled())&&(o&&l&&(ch(u,l)||Fm(u,l))?qm(r,u,l):(i&&c&&(vp(u,c)||Fm(u,c))||!(!a||!c||l||!vp(u,c)&&!Fm(u,c)))&&qm(r,c,u))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,o=n.startDate,i=n.selectsStart,a=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Lm(r,i?a:o)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var n=t.props,r=n.day,o=n.endDate,i=n.selectsEnd,a=n.selectsRange,s=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return Lm(r,i||a?s:o)},t.isRangeStart=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&Lm(r,n)},t.isRangeEnd=function(){var e=t.props,n=e.day,r=e.startDate,o=e.endDate;return!(!r||!o)&&Lm(o,n)},t.isWeekend=function(){var e=wp(t.props.day);return 0===e||6===e},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===Jh(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(Jh(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(wm())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var n;return pu("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+Cm(t.props.day,"ddd",n),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,n=e.day,r=e.ariaLabelPrefixWhenEnabled,o=void 0===r?"Choose":r,i=e.ariaLabelPrefixWhenDisabled,a=void 0===i?"Not available":i,s=t.isDisabled()||t.isExcluded()?a:o;return"".concat(s," ").concat(Cm(n,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,n=e.day,r=e.holidays,o=void 0===r?new Map:r,i=e.excludeDates,a=Cm(n,"MM.dd.yyyy"),s=[];return o.has(a)&&s.push.apply(s,o.get(a).holidayNames),t.isExcluded()&&s.push(null===i||void 0===i?void 0:i.filter((function(e){return e instanceof Date?Lm(e,n):Lm(null===e||void 0===e?void 0:e.date,n)})).map((function(e){if(!(e instanceof Date))return null===e||void 0===e?void 0:e.message}))),s.join(", ")},t.getTabIndex=function(){var e=t.props.selected,n=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&Lm(n,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(bp(t.props.day),t.props.day):bp(t.props.day)},t.render=function(){return o.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&o.createElement("span",{className:"overlay"},t.getTitle()))},t}return hm(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,n;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(o.Component),bg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=(0,o.createRef)(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var n,r;e.key===mm.Space&&(e.preventDefault(),e.key=mm.Enter),null===(r=(n=t.props).handleOnKeyDown)||void 0===r||r.call(n,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Lm(t.props.date,t.props.selected)&&Lm(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Lm(t.props.date,t.props.selected)&&Lm(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var n=!1;0===t.getTabIndex()&&!(null===e||void 0===e?void 0:e.isInputFocused)&&Lm(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(n=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(n=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(n=!0)),n&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,n=e.weekNumber,r=e.isWeekDisabled,i=e.ariaLabelPrefix,a=void 0===i?t.defaultProps.ariaLabelPrefix:i,s=e.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!r,"react-datepicker__week-number--selected":!!s&&Lm(this.props.date,this.props.selected)};return o.createElement("div",{ref:this.weekNumberEl,className:pu(c),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(o.Component),kg=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.isDisabled=function(e){return jm(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,r,o){for(var i,a,s,c=new Date(e),l=0;l<7;l++){var u=new Date(e);if(u.setDate(u.getDate()+l),!n.isDisabled(u)){c=u;break}}"function"===typeof n.props.onWeekSelect&&n.props.onWeekSelect(c,r,o),n.props.showWeekPicker&&n.handleDayClick(c,o),(null!==(i=n.props.shouldCloseOnSelect)&&void 0!==i?i:t.defaultProps.shouldCloseOnSelect)&&(null===(s=(a=n.props).setOpen)||void 0===s||s.call(a,!1))},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):function(e){return jd(e)}(e)},n.isWeekDisabled=function(){for(var e=n.startOfWeek(),t=Kd(e,6),r=new Date(e);r<=t;){if(!n.isDisabled(r))return!1;r=Kd(r,1)}return!0},n.renderDays=function(){var e=n.startOfWeek(),r=[],i=n.formatWeekNumber(e);if(n.props.showWeekNumber){var a=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,e,i):void 0;r.push(o.createElement(bg,pm({key:"W"},t.defaultProps,n.props,{weekNumber:i,isWeekDisabled:n.isWeekDisabled(),date:e,onClick:a})))}return r.concat([0,1,2,3,4,5,6].map((function(r){var i=Kd(e,r);return o.createElement(wg,pm({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:i.valueOf(),day:i,onClick:n.handleDayClick.bind(n,i),onMouseEnter:n.handleDayMouseEnter.bind(n,i)}))})))},n.startOfWeek=function(){return Em(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Lm(n.startOfWeek(),n.props.selected)&&Lm(n.startOfWeek(),n.props.preSelection)},n}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":Lm(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return o.createElement("div",{className:pu(e)},this.renderDays())},t}(o.Component),Cg="two_columns",Sg="three_columns",Tg="four_columns",Ig=((yg={})[Cg]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},yg[Sg]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},yg[Tg]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},yg);function Eg(e,t){return e?Tg:t?Cg:Sg}var _g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=fm([],Array(12),!0).map((function(){return(0,o.createRef)()})),t.QUARTER_REFS=fm([],Array(4),!0).map((function(){return(0,o.createRef)()})),t.isDisabled=function(e){return jm(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return $m(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,n){var r,o;null===(o=(r=t.props).onDayClick)||void 0===o||o.call(r,e,n,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var n,r;null===(r=(n=t.props).onDayMouseEnter)||void 0===r||r.call(n,e)},t.handleMouseLeave=function(){var e,n;null===(n=(e=t.props).onMouseLeave)||void 0===n||n.call(e)},t.isRangeStartMonth=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Om(Vh(r,e),o)},t.isRangeStartQuarter=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Dm(Qh(r,e),o)},t.isRangeEndMonth=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Om(Vh(r,e),i)},t.isRangeEndQuarter=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate;return!(!o||!i)&&Dm(Qh(r,e),i)},t.isInSelectingRangeMonth=function(e){var n,r=t.props,o=r.day,i=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,c=r.startDate,l=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||s)||!u)&&(i&&l?Ym(u,l,e,o):(a&&c||!(!s||!c||l))&&Ym(c,u,e,o))},t.isSelectingMonthRangeStart=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,o=r.day,i=r.startDate,a=r.selectsStart,s=Vh(o,e),c=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Om(s,a?c:i)},t.isSelectingMonthRangeEnd=function(e){var n;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,o=r.day,i=r.endDate,a=r.selectsEnd,s=r.selectsRange,c=Vh(o,e),l=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return Om(c,a||s?l:i)},t.isInSelectingRangeQuarter=function(e){var n,r=t.props,o=r.day,i=r.selectsStart,a=r.selectsEnd,s=r.selectsRange,c=r.startDate,l=r.endDate,u=null!==(n=t.props.selectingDate)&&void 0!==n?n:t.props.preSelection;return!(!(i||a||s)||!u)&&(i&&l?Jm(u,l,e,o):(a&&c||!(!s||!c||l))&&Jm(c,u,e,o))},t.isWeekInMonth=function(e){var n=t.props.day,r=Kd(e,6);return Om(e,n)||Om(r,n)},t.isCurrentMonth=function(e,t){return Gh(e)===Gh(wm())&&t===Jh(wm())},t.isCurrentQuarter=function(e,t){return Gh(e)===Gh(wm())&&t===Xh(wm())},t.isSelectedMonth=function(e,t,n){return Jh(n)===t&&Gh(e)===Gh(n)},t.isSelectMonthInList=function(e,n,r){return r.some((function(r){return t.isSelectedMonth(e,n,r)}))},t.isSelectedQuarter=function(e,t,n){return Xh(e)===t&&Gh(e)===Gh(n)},t.renderWeeks=function(){for(var e=[],n=t.props.fixedHeight,r=0,i=!1,a=Em(_m(t.props.day),t.props.locale,t.props.calendarStartDay),s=t.props.selected?function(e){return t.props.showWeekPicker?Em(e,t.props.locale,t.props.calendarStartDay):t.props.selected}(t.props.selected):void 0,c=t.props.preSelection?function(e){return t.props.showWeekPicker?Em(e,t.props.locale,t.props.calendarStartDay):t.props.preSelection}(t.props.preSelection):void 0;e.push(o.createElement(kg,pm({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:r,day:a,month:Jh(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:s,preSelection:c,showWeekNumber:t.props.showWeekNumbers}))),!i;){r++,a=kp(a,1);var l=n&&r>=6,u=!n&&!t.isWeekInMonth(a);if(l||u){if(!t.props.peekNextMonth)break;i=!0}}return e},t.onMonthClick=function(e,n){var r=t.isMonthDisabledForLabelDate(n),o=r.isDisabled,i=r.labelDate;o||t.handleDayClick(_m(i),e)},t.onMonthMouseEnter=function(e){var n=t.isMonthDisabledForLabelDate(e),r=n.isDisabled,o=n.labelDate;r||t.handleDayMouseEnter(_m(o))},t.handleMonthNavigation=function(e,n){var r,o,i,a;null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,n),null===(a=null===(i=t.MONTH_REFS[e])||void 0===i?void 0:i.current)||void 0===a||a.focus()},t.handleKeyboardNavigation=function(e,n,r){var o,i=t.props,a=i.selected,s=i.preSelection,c=i.setPreSelection,l=i.minDate,u=i.maxDate,d=i.showFourColumnMonthYearPicker,h=i.showTwoColumnMonthYearPicker;if(s){var p=Eg(d,h),f=t.getVerticalOffset(p),m=null===(o=Ig[p])||void 0===o?void 0:o.grid,g=function(e,t,n){var r,o,i=t,a=n;switch(e){case mm.ArrowRight:i=rp(t,1),a=11===n?0:n+1;break;case mm.ArrowLeft:i=op(t,1),a=0===n?11:n-1;break;case mm.ArrowUp:i=op(t,f),a=(null===(r=null===m||void 0===m?void 0:m[0])||void 0===r?void 0:r.includes(n))?n+12-f:n-f;break;case mm.ArrowDown:i=rp(t,f),a=(null===(o=null===m||void 0===m?void 0:m[m.length-1])||void 0===o?void 0:o.includes(n))?n-12+f:n+f}return{newCalculatedDate:i,newCalculatedMonth:a}};if(n!==mm.Enter){var y=function(e,n,r){for(var o=e,i=!1,a=0,s=g(o,n,r),c=s.newCalculatedDate,d=s.newCalculatedMonth;!i;){if(a>=40){c=n,d=r;break}var h;if(l&&c<l)o=mm.ArrowRight,c=(h=g(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;if(u&&c>u)o=mm.ArrowLeft,c=(h=g(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;if(Km(c,t.props))c=(h=g(o,c,d)).newCalculatedDate,d=h.newCalculatedMonth;else i=!0;a++}return{newCalculatedDate:c,newCalculatedMonth:d}}(n,s,r),v=y.newCalculatedDate,w=y.newCalculatedMonth;switch(n){case mm.ArrowRight:case mm.ArrowLeft:case mm.ArrowUp:case mm.ArrowDown:t.handleMonthNavigation(w,v)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null===c||void 0===c||c(a))}},t.getVerticalOffset=function(e){var t,n;return null!==(n=null===(t=Ig[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==n?n:0},t.onMonthKeyDown=function(e,n){var r=t.props,o=r.disabledKeyboardNavigation,i=r.handleOnMonthKeyDown,a=e.key;a!==mm.Tab&&e.preventDefault(),o||t.handleKeyboardNavigation(e,a,n),i&&i(e)},t.onQuarterClick=function(e,n){var r=Qh(t.props.day,n);Vm(r,t.props)||t.handleDayClick(Mm(r),e)},t.onQuarterMouseEnter=function(e){var n=Qh(t.props.day,e);Vm(n,t.props)||t.handleDayMouseEnter(Mm(n))},t.handleQuarterNavigation=function(e,n){var r,o,i,a;t.isDisabled(n)||t.isExcluded(n)||(null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,n),null===(a=null===(i=t.QUARTER_REFS[e-1])||void 0===i?void 0:i.current)||void 0===a||a.focus())},t.onQuarterKeyDown=function(e,n){var r,o,i=e.key;if(!t.props.disabledKeyboardNavigation)switch(i){case mm.Enter:t.onQuarterClick(e,n),null===(o=(r=t.props).setPreSelection)||void 0===o||o.call(r,t.props.selected);break;case mm.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===n?1:n+1,ap(t.props.preSelection,1));break;case mm.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===n?4:n-1,sp(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var n,r=t.props,o=r.day,i=r.minDate,a=r.maxDate,s=r.excludeDates,c=r.includeDates,l=Vh(o,e);return{isDisabled:null!==(n=(i||a||s||c)&&Wm(l,t.props))&&void 0!==n&&n,labelDate:l}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate,a=n.preSelection,s=n.monthClassName,c=s?s(Vh(r,e)):void 0,l=t.getSelection();return pu("react-datepicker__month-text","react-datepicker__month-".concat(e),c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":l?t.isSelectMonthInList(r,e,l):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&a&&t.isSelectedMonth(r,e,a)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":o&&i?Ym(o,i,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Jh(t.props.preSelection),r=t.isMonthDisabledForLabelDate(n).isDisabled;return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var n=Xh(t.props.preSelection),r=Vm(t.props.day,t.props);return e!==n||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var n=t.props,r=n.chooseDayAriaLabelPrefix,o=void 0===r?"Choose":r,i=n.disabledDayAriaLabelPrefix,a=void 0===i?"Not available":i,s=n.day,c=n.locale,l=Vh(s,e),u=t.isDisabled(l)||t.isExcluded(l)?a:o;return"".concat(u," ").concat(Cm(l,"MMMM yyyy",c))},t.getQuarterClassNames=function(e){var n=t.props,r=n.day,o=n.startDate,i=n.endDate,a=n.selected,s=n.minDate,c=n.maxDate,l=n.excludeDates,u=n.includeDates,d=n.filterDate,h=n.preSelection,p=n.disabledKeyboardNavigation,f=(s||c||l||u||d)&&Vm(Qh(r,e),t.props);return pu("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":f,"react-datepicker__quarter-text--selected":a?t.isSelectedQuarter(r,e,a):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&h&&t.isSelectedQuarter(r,e,h)&&!f,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":o&&i?Jm(o,i,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var n=t.props,r=n.showFullMonthYearPicker,o=n.renderMonthContent,i=n.locale,a=n.day,s=zm(e,i),c=Bm(e,i);return o?o(e,s,c,a):r?c:s},t.getQuarterContent=function(e){var n,r=t.props,o=r.renderQuarterContent,i=function(e,t){return Cm(Qh(wm(),e),"QQQ",t)}(e,r.locale);return null!==(n=null===o||void 0===o?void 0:o(e,i))&&void 0!==n?n:i},t.renderMonths=function(){var e,n=t.props,r=n.showTwoColumnMonthYearPicker,i=n.showFourColumnMonthYearPicker,a=n.day,s=n.selected,c=null===(e=Ig[Eg(i,r)])||void 0===e?void 0:e.grid;return null===c||void 0===c?void 0:c.map((function(e,n){return o.createElement("div",{className:"react-datepicker__month-wrapper",key:n},e.map((function(e,n){return o.createElement("div",{ref:t.MONTH_REFS[e],key:n,onClick:function(n){t.onMonthClick(n,e)},onKeyDown:function(n){gg(n)&&(n.preventDefault(),n.key=mm.Enter),t.onMonthKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(a,e)?"date":void 0,"aria-selected":s?t.isSelectedMonth(a,e,s):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,n=e.day,r=e.selected;return o.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,i){return o.createElement("div",{key:i,ref:t.QUARTER_REFS[i],role:"option",onClick:function(n){t.onQuarterClick(n,e)},onKeyDown:function(n){t.onQuarterKeyDown(n,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(n,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(n,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,n=e.selectingDate,r=e.selectsStart,o=e.selectsEnd;return pu("react-datepicker__month",{"react-datepicker__month--selecting-range":n&&(r||o)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return hm(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,n=e.selectedDates;return e.selectsMultiple?n:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,n=e.showQuarterYearPicker,r=e.day,i=e.ariaLabelPrefix,a=void 0===i?"Month ":i,s=a?a.trim()+" ":"";return o.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(Cm(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():n?this.renderQuarters():this.renderWeeks())},t}(o.Component),Ag=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,n){return o.createElement("div",{className:t.isSelectedMonth(n)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,n),"aria-selected":t.isSelectedMonth(n)?"true":void 0},t.isSelectedMonth(n)?o.createElement("span",{className:"react-datepicker__month-option--selected"},"\u2713"):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return hm(t,e),t.prototype.render=function(){return o.createElement(ym,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),Mg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return o.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return o.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,n){return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},o.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},n[t.props.month]))},t.renderDropdown=function(e){return o.createElement(Ag,pm({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var n=t.state.dropdownVisible,r=[t.renderReadView(!n,e)];return n&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return hm(t,e),t.prototype.render=function(){var e,t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return zm(e,t.props.locale)}:function(e){return Bm(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(n);break;case"select":e=this.renderSelectMode(n)}return o.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component);function xg(e,t){for(var n=[],r=_m(e),o=_m(t);!vp(r,o);)n.push(wm(r)),r=rp(r,1);return n}var Pg=function(e){function t(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map((function(e){var t=Cp(e),r=Nm(n.props.date,e)&&Om(n.props.date,e);return o.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":r?"true":void 0},r?o.createElement("span",{className:"react-datepicker__month-year-option--selected"},"\u2713"):"",Cm(e,n.props.dateFormat,n.props.locale))}))},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:xg(n.props.minDate,n.props.maxDate)},n}return hm(t,e),t.prototype.render=function(){var e=pu({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return o.createElement(ym,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),Rg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=_m(t.props.minDate),n=_m(t.props.maxDate),r=[];!vp(e,n);){var i=Cp(e);r.push(o.createElement("option",{key:i,value:i},Cm(e,t.props.dateFormat,t.props.locale))),e=rp(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return o.createElement("select",{value:Cp(_m(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var n=Cm(t.props.date,t.props.dateFormat,t.props.locale);return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},o.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},n))},t.renderDropdown=function(){return o.createElement(Pg,pm({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown();var n=wm(e);Nm(t.props.date,n)&&Om(t.props.date,n)||t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return hm(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return o.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component),Ng=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,o;n.list&&(n.list.scrollTop=null!==(o=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-(null!==(r=null===(e=n.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):n.list.clientHeight,n.centerLi))&&void 0!==o?o:0)}))},n.handleClick=function(e){var t,r;(n.props.minTime||n.props.maxTime)&&tg(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&eg(e,n.props)||null===(r=(t=n.props).onChange)||void 0===r||r.call(t,e)},n.isSelectedTime=function(e){return n.props.selected&&(t=n.props.selected,r=e,pg(t).getTime()===pg(r).getTime());var t,r},n.isDisabledTime=function(e){return(n.props.minTime||n.props.maxTime)&&tg(e,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&eg(e,n.props)},n.liClasses=function(e){var r,o=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(e):void 0];return n.isSelectedTime(e)&&o.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(e)&&o.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(3600*ep(e)+60*tp(e)+np(e))%(60*(null!==(r=n.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},n.handleOnKeyDown=function(e,t){var r,o;e.key===mm.Space&&(e.preventDefault(),e.key=mm.Enter),(e.key===mm.ArrowUp||e.key===mm.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===mm.ArrowDown||e.key===mm.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===mm.Enter&&n.handleClick(t),null===(o=(r=n.props).handleOnKeyDown)||void 0===o||o.call(r,e)},n.renderTimes=function(){for(var e,r=[],i="string"===typeof n.props.format?n.props.format:"p",a=null!==(e=n.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,s=n.props.selected||n.props.openToDate||wm(),c=Im(s),l=n.props.injectTimes&&n.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),u=60*function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}(s),d=u/a,h=0;h<d;h++){var p=gp(c,h*a);if(r.push(p),l){var f=ug(c,p,h,a,l);r=r.concat(f)}}var m=r.reduce((function(e,t){return t.getTime()<=s.getTime()?t:e}),r[0]);return r.map((function(e){return o.createElement("li",{key:e.valueOf(),onClick:n.handleClick.bind(n,e),className:n.liClasses(e),ref:function(t){e===m&&(n.centerLi=t)},onKeyDown:function(t){n.handleOnKeyDown(t,e)},tabIndex:e===m?0:-1,role:"option","aria-selected":n.isSelectedTime(e)?"true":void 0,"aria-disabled":n.isDisabledTime(e)?"true":void 0},Cm(e,i,n.props.locale))}))},n.renderTimeCaption=function(){return!1===n.props.showTimeCaption?o.createElement(o.Fragment,null):o.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){n.header=e}},o.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,n=this,r=this.state.height;return o.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),o.createElement("div",{className:"react-datepicker__time"},o.createElement("div",{className:"react-datepicker__time-box"},o.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){n.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(o.Component),Og=function(e){function t(t){var n=e.call(this,t)||this;return n.YEAR_REFS=fm([],Array(n.props.yearItemNumber),!0).map((function(){return(0,o.createRef)()})),n.isDisabled=function(e){return jm(e,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(e){return $m(e,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var e;return null!==(e=n.props.selectingDate)&&void 0!==e?e:n.props.preSelection},n.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=n.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},n.handleYearClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleYearNavigation=function(e,t){var r,o,i,a,s=n.props,c=s.date,l=s.yearItemNumber;if(void 0!==c&&void 0!==l){var u=hg(c,l).startPeriod;n.isDisabled(t)||n.isExcluded(t)||(null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,t),e-u<0?n.updateFocusOnPaginate(l-(u-e)):e-u>=l?n.updateFocusOnPaginate(Math.abs(l-(e-u))):null===(a=null===(i=n.YEAR_REFS[e-u])||void 0===i?void 0:i.current)||void 0===a||a.focus())}},n.isSameDay=function(e,t){return Lm(e,t)},n.isCurrentYear=function(e){return e===Gh(wm())},n.isRangeStart=function(e){return n.props.startDate&&n.props.endDate&&Nm(Sp(wm(),e),n.props.startDate)},n.isRangeEnd=function(e){return n.props.startDate&&n.props.endDate&&Nm(Sp(wm(),e),n.props.endDate)},n.isInRange=function(e){return Qm(e,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(e){var t=n.props,r=t.selectsStart,o=t.selectsEnd,i=t.selectsRange,a=t.startDate,s=t.endDate;return!(!(r||o||i)||!n.selectingDate())&&(r&&s?Qm(e,n.selectingDate(),s):(o&&a||!(!i||!a||s))&&Qm(e,a,n.selectingDate()))},n.isSelectingRangeStart=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,o=r.startDate,i=r.selectsStart,a=Sp(wm(),e);return Nm(a,i?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},n.isSelectingRangeEnd=function(e){var t;if(!n.isInSelectingRange(e))return!1;var r=n.props,o=r.endDate,i=r.selectsEnd,a=r.selectsRange,s=Sp(wm(),e);return Nm(s,i||a?null!==(t=n.selectingDate())&&void 0!==t?t:null:null!==o&&void 0!==o?o:null)},n.isKeyboardSelected=function(e){if(void 0!==n.props.date&&null!=n.props.selected&&null!=n.props.preSelection){var t=n.props,r=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.includeDates,s=t.filterDate,c=Am(Sp(n.props.date,e)),l=(r||o||i||a||s)&&Gm(e,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Lm(c,Am(n.props.selected))&&Lm(c,Am(n.props.preSelection))&&!l}},n.onYearClick=function(e,t){var r=n.props.date;void 0!==r&&n.handleYearClick(Am(Sp(r,t)),e)},n.onYearKeyDown=function(e,t){var r,o,i=e.key,a=n.props,s=a.date,c=a.yearItemNumber,l=a.handleOnKeyDown;if(i!==mm.Tab&&e.preventDefault(),!n.props.disabledKeyboardNavigation)switch(i){case mm.Enter:if(null==n.props.selected)break;n.onYearClick(e,t),null===(o=(r=n.props).setPreSelection)||void 0===o||o.call(r,n.props.selected);break;case mm.ArrowRight:if(null==n.props.preSelection)break;n.handleYearNavigation(t+1,lp(n.props.preSelection,1));break;case mm.ArrowLeft:if(null==n.props.preSelection)break;n.handleYearNavigation(t-1,up(n.props.preSelection,1));break;case mm.ArrowUp:if(void 0===s||void 0===c||null==n.props.preSelection)break;var u=hg(s,c).startPeriod;if((p=t-(h=3))<u){var d=c%h;t>=u&&t<u+d?h=d:h+=d,p=t-h}n.handleYearNavigation(p,up(n.props.preSelection,h));break;case mm.ArrowDown:if(void 0===s||void 0===c||null==n.props.preSelection)break;var h,p,f=hg(s,c).endPeriod;if((p=t+(h=3))>f){d=c%h;t<=f&&t>f-d?h=d:h+=d,p=t+h}n.handleYearNavigation(p,lp(n.props.preSelection,h))}l&&l(e)},n.getYearClassNames=function(e){var t=n.props,r=t.date,o=t.minDate,i=t.maxDate,a=t.selected,s=t.excludeDates,c=t.includeDates,l=t.filterDate,u=t.yearClassName;return pu("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null===u||void 0===u?void 0:u(Sp(r,e)):void 0,{"react-datepicker__year-text--selected":a?e===Gh(a):void 0,"react-datepicker__year-text--disabled":(o||i||s||c||l)&&Gm(e,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(e),"react-datepicker__year-text--range-start":n.isRangeStart(e),"react-datepicker__year-text--range-end":n.isRangeEnd(e),"react-datepicker__year-text--in-range":n.isInRange(e),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(e),"react-datepicker__year-text--today":n.isCurrentYear(e)})},n.getYearTabIndex=function(e){if(n.props.disabledKeyboardNavigation||null==n.props.preSelection)return"-1";var t=Gh(n.props.preSelection),r=Gm(e,n.props);return e!==t||r?"-1":"0"},n.getYearContent=function(e){return n.props.renderYearContent?n.props.renderYearContent(e):e},n}return hm(t,e),t.prototype.render=function(){var e=this,t=[],n=this.props,r=n.date,i=n.yearItemNumber,a=n.onYearMouseEnter,s=n.onYearMouseLeave;if(void 0===r)return null;for(var c=hg(r,i),l=c.startPeriod,u=c.endPeriod,d=function(n){t.push(o.createElement("div",{ref:h.YEAR_REFS[n-l],onClick:function(t){e.onYearClick(t,n)},onKeyDown:function(t){gg(t)&&(t.preventDefault(),t.key=mm.Enter),e.onYearKeyDown(t,n)},tabIndex:Number(h.getYearTabIndex(n)),className:h.getYearClassNames(n),onMouseEnter:h.props.usePointerEvent?void 0:function(e){return a(e,n)},onPointerEnter:h.props.usePointerEvent?function(e){return a(e,n)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(e){return s(e,n)},onPointerLeave:h.props.usePointerEvent?function(e){return s(e,n)}:void 0,key:n,"aria-current":h.isCurrentYear(n)?"date":void 0},h.getYearContent(n)))},h=this,p=l;p<=u;p++)d(p);return o.createElement("div",{className:"react-datepicker__year"},o.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(o.Component);function Dg(e,t,n,r){for(var o=[],i=0;i<2*t+1;i++){var a=e+t-i,s=!0;n&&(s=Gh(n)<=a),r&&s&&(s=Gh(r)>=a),s&&o.push(a)}return o}var Lg=function(e){function t(t){var n=e.call(this,t)||this;n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map((function(t){return o.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:n.onChange.bind(n,t),"aria-selected":e===t?"true":void 0},e===t?o.createElement("span",{className:"react-datepicker__year-option--selected"},"\u2713"):"",t)})),r=n.props.minDate?Gh(n.props.minDate):null,i=n.props.maxDate?Gh(n.props.maxDate):null;return i&&n.state.yearsList.find((function(e){return e===i}))||t.unshift(o.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},o.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find((function(e){return e===r}))||t.push(o.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},o.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map((function(t){return t+e}));n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=r||(i?10:5);return n.state={yearsList:Dg(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=(0,o.createRef)(),n}return hm(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,n=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=n&&n instanceof HTMLElement?n.offsetTop+(n.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=pu({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return o.createElement(ym,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(o.Component),Fg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?Gh(t.props.minDate):1900,n=t.props.maxDate?Gh(t.props.maxDate):2100,r=[],i=e;i<=n;i++)r.push(o.createElement("option",{key:i,value:i},i));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return o.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return o.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},o.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),o.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return o.createElement(Lg,pm({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,n=[t.renderReadView(!e)];return e&&n.unshift(t.renderDropdown()),n},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,n){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,n),t.setOpen()},t.onSelect=function(e,n){var r,o;null===(o=(r=t.props).onSelect)||void 0===o||o.call(r,e,n)},t.setOpen=function(){var e,n;null===(n=(e=t.props).setOpen)||void 0===n||n.call(e,!0)},t}return hm(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return o.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(o.Component),qg=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Hg=function(e){function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,n;(function(e){var t=(e.className||"").split(/\s+/);return qg.some((function(e){return t.indexOf(e)>=0}))})(e.target)&&(null===(n=(t=r.props).onDropdownFocus)||void 0===n||n.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,n=e.selected,o=e.openToDate,i=ag(r.props),a=sg(r.props),s=wm(),c=o||n||t;return c||(i&&ch(s,i)?i:a&&vp(s,a)?a:s)},r.increaseMonth=function(){r.setState((function(e){return{date:rp(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState((function(e){return{date:op(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,n){r.props.onSelect(e,t,n),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:Sp(wm(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,n,o,i;null===(n=(t=r.props).onYearChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(i=(o=r.props).setOpen)||void 0===i||i.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!jm(e,r.props))return e;for(var t=_m(e),n=Tp(Rm(e),t),o=null,i=0;i<=n;i++){var a=Kd(t,i);if(!jm(a,r.props)){o=a;break}}return o},r.handleMonthChange=function(e){var t,n,o,i=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect(i),null===(o=(n=r.props).setOpen)||void 0===o||o.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleCustomMonthChange=function(e){var t,n;null===(n=(t=r.props).onMonthChange)||void 0===n||n.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState((function(t){return{date:Sp(t.date,Number(e))}}),(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState((function(t){return{date:Vh(t.date,Number(e))}}),(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState((function(t){return{date:Sp(Vh(t.date,Jh(e)),Gh(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(e){void 0===e&&(e=r.state.date);var t=Em(e,r.props.locale,r.props.calendarStartDay),n=[];return r.props.showWeekNumbers&&n.push(o.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),n.concat([0,1,2,3,4,5,6].map((function(e){var n=Kd(t,e),i=r.formatWeekday(n,r.props.locale),a=r.props.weekDayClassName?r.props.weekDayClassName(n):void 0;return o.createElement("div",{key:e,"aria-label":Cm(n,"EEEE",r.props.locale),className:pu("react-datepicker__day-name",a)},i)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,n){return t(Cm(e,"EEEE",n))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return Cm(e,"EEE",t)}(e,t):function(e,t){return Cm(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState((function(e){var n;return{date:up(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,n,i;if(!r.props.renderCustomHeader){var a,s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,c=r.props.showPreviousMonths?s-1:0,l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:c,u=op(r.state.date,l);switch(!0){case r.props.showMonthYearPicker:a=og(r.state.date,r.props);break;case r.props.showYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.yearItemNumber,i=void 0===o?12:o,a=hg(Am(up(e,i)),i).endPeriod,s=r&&Gh(r);return s&&s>a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=function(e,t){var n=void 0===t?{}:t,r=n.minDate,o=n.includeDates,i=sp(hh(e),1);return r&&cp(r,i)>0||o&&o.every((function(e){return cp(e,i)>0}))||!1}(r.state.date,r.props);break;default:a=ng(u,r.props)}if(((null!==(i=r.props.forceShowMonthNavigation)&&void 0!==i?i:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!a)&&!r.props.showTimeSelectOnly){var d=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(h=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--previous--disabled"),h=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,m=f.previousMonthButtonLabel,g=void 0===m?t.defaultProps.previousMonthButtonLabel:m,y=f.previousYearButtonLabel,v=void 0===y?t.defaultProps.previousYearButtonLabel:y,w=r.props,b=w.previousMonthAriaLabel,k=void 0===b?"string"===typeof g?g:"Previous Month":b,C=w.previousYearAriaLabel,S=void 0===C?"string"===typeof v?v:"Previous Year":C;return o.createElement("button",{type:"button",className:d.join(" "),onClick:h,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?S:k},o.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},p?v:g))}}},r.increaseYear=function(){r.setState((function(e){var n;return{date:lp(e.date,r.props.showYearPicker?null!==(n=r.props.yearItemNumber)&&void 0!==n?n:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var n;switch(!0){case r.props.showMonthYearPicker:n=ig(r.state.date,r.props);break;case r.props.showYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.yearItemNumber,i=void 0===o?12:o,a=hg(lp(e,i),i).startPeriod,s=r&&Gh(r);return s&&s<a||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:n=function(e,t){var n=void 0===t?{}:t,r=n.maxDate,o=n.includeDates,i=ap(Zh(e),1);return r&&cp(i,r)>0||o&&o.every((function(e){return cp(i,e)>0}))||!1}(r.state.date,r.props);break;default:n=rg(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!n)&&!r.props.showTimeSelectOnly){var i=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var a=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(a=r.increaseYear),n&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),a=void 0);var s=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,l=c.nextMonthButtonLabel,u=void 0===l?t.defaultProps.nextMonthButtonLabel:l,d=c.nextYearButtonLabel,h=void 0===d?t.defaultProps.nextYearButtonLabel:d,p=r.props,f=p.nextMonthAriaLabel,m=void 0===f?"string"===typeof u?u:"Next Month":f,g=p.nextYearAriaLabel,y=void 0===g?"string"===typeof h?h:"Next Year":g;return o.createElement("button",{type:"button",className:i.join(" "),onClick:a,onKeyDown:r.props.handleOnKeyDown,"aria-label":s?y:m},o.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},s?h:u))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),o.createElement("h2",{className:t.join(" ")},Cm(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return o.createElement(Fg,pm({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Gh(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return o.createElement(Mg,pm({},t.defaultProps,r.props,{month:Jh(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return o.createElement(Rg,pm({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect(xm(),e),r.props.setPreSelection&&r.props.setPreSelection(xm())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return o.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,n=e.i;return o.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),o.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==n),r.renderMonthYearDropdown(0!==n),r.renderYearDropdown(0!==n)),o.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,n,i=e.monthDate,a=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var s=ng(r.state.date,r.props),c=rg(r.state.date,r.props),l=og(r.state.date,r.props),u=ig(r.state.date,r.props),d=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return o.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(n=(t=r.props).renderCustomHeader)||void 0===n?void 0:n.call(t,pm(pm({},r.state),{customHeaderCount:a,monthDate:i,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:s,nextMonthButtonDisabled:c,prevYearButtonDisabled:l,nextYearButtonDisabled:u})),d&&o.createElement("div",{className:"react-datepicker__day-names"},r.header(i)))},r.renderYearHeader=function(e){var n=e.monthDate,i=r.props,a=i.showYearPicker,s=i.yearItemNumber,c=hg(n,void 0===s?t.defaultProps.yearItemNumber:s),l=c.startPeriod,u=c.endPeriod;return o.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(l," - ").concat(u):Gh(n))},r.renderHeader=function(e){var t=e.monthDate,n=e.i,o={monthDate:t,i:void 0===n?0:n};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(o);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(o);default:return r.renderDefaultHeader(o)}},r.renderMonths=function(){var e,n;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var i=[],a=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?a-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?lp(r.state.date,s):op(r.state.date,s),l=null!==(n=r.props.monthSelectedIn)&&void 0!==n?n:s,u=0;u<a;++u){var d=u-l+s,h=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?lp(c,d):rp(c,d),p="month-".concat(u),f=u<a-1,m=u>0;i.push(o.createElement("div",{key:p,ref:function(e){r.monthContainer=null!==e&&void 0!==e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:h,i:u}),o.createElement(_g,pm({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:h,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:u,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:m}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?o.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),o.createElement(Og,pm({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return o.createElement(Ng,pm({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,n=e&&km(e)&&Boolean(r.props.selected)?"".concat(dg(e.getHours()),":").concat(dg(e.getMinutes())):"";if(r.props.showTimeInput)return o.createElement(vg,pm({},t.defaultProps,r.props,{date:e,timeString:n,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,n,i=hg(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),a=i.startPeriod,s=i.endPeriod;return n=r.props.showYearPicker?"".concat(a," - ").concat(s):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Gh(r.state.date):"".concat(Bm(Jh(r.state.date),r.props.locale)," ").concat(Gh(r.state.date)),o.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&n)},r.renderChildren=function(){if(r.props.children)return o.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=(0,o.createRef)(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||Lm(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!Lm(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var n=!Om(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return n&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||gm;return o.createElement(ym,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},o.createElement("div",{style:{display:"contents"},ref:this.containerRef},o.createElement(e,{className:pu("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(o.Component),Ug=function(e){var t=e.icon,n=e.className,r=void 0===n?"":n,i=e.onClick,a="react-datepicker__calendar-icon";if("string"===typeof t)return o.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:i});if(o.isValidElement(t)){var s=t;return o.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(a," ").concat(r),onClick:function(e){"function"===typeof s.props.onClick&&s.props.onClick(e),"function"===typeof i&&i(e)}})}return o.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},o.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Bg=function(e){function t(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return hm(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Vp.createPortal(this.props.children,this.el)},t}(o.Component),zg=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},jg=function(e){function t(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=n.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(zg)},n.handleFocusStart=function(){var e=n.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},n.handleFocusEnd=function(){var e=n.getTabChildren();e&&e.length>1&&e[0].focus()},n.tabLoopRef=(0,o.createRef)(),n}return hm(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?o.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},o.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,o.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(o.Component);var $g,Wg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,n=e.className,r=e.wrapperClassName,i=e.hidePopper,a=void 0===i?t.defaultProps.hidePopper:i,s=e.popperComponent,c=e.targetComponent,l=e.enableTabLoop,u=e.popperOnKeyDown,d=e.portalId,h=e.portalHost,p=e.popperProps,f=e.showArrow,m=void 0;if(!a){var g=pu("react-datepicker-popper",n);m=o.createElement(jg,{enableTabLoop:l},o.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:g,"data-placement":p.placement,onKeyDown:u},s,f&&o.createElement(om,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=(0,o.createElement)(this.props.popperContainer,{},m)),d&&!a&&(m=o.createElement(Bg,{portalId:d,portalHost:h},m));var y=pu("react-datepicker-wrapper",r);return o.createElement(o.Fragment,null,o.createElement("div",{ref:p.refs.setReference,className:y},c),m)},t}(o.Component),Yg=($g=Wg,function(e){var t,n,r,i="boolean"!==typeof e.hidePopper||e.hidePopper,a=(0,o.useRef)(null),s=um(pm({open:!i,whileElementsMounted:Pf,placement:e.popperPlacement,middleware:fm([(n={padding:15},{...Nf(n),options:[n,r]}),zf(10),jf({element:a})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),c=pm(pm({},e),{hidePopper:i,popperProps:pm(pm({},s),{arrowRef:a})});return o.createElement($g,pm({},c))}),Kg="react-datepicker-ignore-onclickoutside";var Vg="Date input not valid.",Qg=function(e){function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:wm()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var n=new Date(t.date);return km(n)?fm(fm([],e,!0),[pm(pm({},t),{date:n})],!1):e}),[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),n=ag(r.props),o=sg(r.props),i=n&&ch(t,Im(n))?n:o&&vp(t,Pm(o))?o:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:i,highlightDates:cg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(pm(pm({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(pm(pm({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame((function(){console.log("reached"),r.setBlur()}))},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Jg},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.deferBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return ah(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,n,o=r.state.wasHidden,i=!o||r.state.open;o&&r.resetHiddenStatus(),r.state.preventFocus||(null===(n=(t=r.props).onFocus)||void 0===n||n.call(t,e),!i||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,n;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(n=(t=r.props).onBlur)||void 0===n||n.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,n;r.props.inline||r.setOpen(!1),null===(n=(t=r.props).onClickOutside)||void 0===n||n.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,n,o,i,a,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=s[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,s),l&&"function"===typeof l.isDefaultPrevented&&!l.isDefaultPrevented())){r.setState({inputValue:(null===l||void 0===l?void 0:l.target)instanceof HTMLInputElement?l.target.value:null,lastPreSelectChange:Gg});var u=r.props,d=u.selectsRange,h=u.startDate,p=u.endDate,f=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,m=null!==(n=r.props.strictParsing)&&void 0!==n?n:t.defaultProps.strictParsing,g=(null===l||void 0===l?void 0:l.target)instanceof HTMLInputElement?l.target.value:"";if(d){var y=g.split("-",2).map((function(e){return e.trim()})),v=y[0],w=y[1],b=bm(null!==v&&void 0!==v?v:"",f,r.props.locale,m),k=bm(null!==w&&void 0!==w?w:"",f,r.props.locale,m),C=(null===h||void 0===h?void 0:h.getTime())!==(null===b||void 0===b?void 0:b.getTime()),S=(null===p||void 0===p?void 0:p.getTime())!==(null===k||void 0===k?void 0:k.getTime());if(!C&&!S)return;if(b&&jm(b,r.props))return;if(k&&jm(k,r.props))return;null===(i=(o=r.props).onChange)||void 0===i||i.call(o,[b,k],l)}else{var T=bm(g,f,r.props.locale,m,null!==(a=r.props.selected)&&void 0!==a?a:void 0);!T&&g||r.setSelected(T,l,!0)}}},r.handleSelect=function(e,t,n){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,n),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,i=o.startDate,a=o.endDate;!i||a||!r.props.swapRange&&mg(e,i)||r.setOpen(!1)}},r.setSelected=function(e,t,n,o){var i,a,s=e;if(r.props.showYearPicker){if(null!==s&&Gm(Gh(s),r.props))return}else if(r.props.showMonthYearPicker){if(null!==s&&Wm(s,r.props))return}else if(null!==s&&jm(s,r.props))return;var c=r.props,l=c.onChange,u=c.selectsRange,d=c.startDate,h=c.endDate,p=c.selectsMultiple,f=c.selectedDates,m=c.minTime,g=c.swapRange;if(!Fm(r.props.selected,s)||r.props.allowSameDay||u||p)if(null!==s&&(!r.props.selected||n&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(s=Tm(s,{hour:ep(r.props.selected),minute:tp(r.props.selected),second:np(r.props.selected)})),n||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||m&&(s=Tm(s,{hour:m.getHours(),minute:m.getMinutes(),second:m.getSeconds()})),r.props.inline||r.setState({preSelection:s}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),u){var y=d&&!h,v=d&&h;!d&&!h?null===l||void 0===l||l([s,null],t):y&&(null===s?null===l||void 0===l||l([null,null],t):mg(s,d)?g?null===l||void 0===l||l([s,d],t):null===l||void 0===l||l([s,null],t):null===l||void 0===l||l([d,s],t)),v&&(null===l||void 0===l||l([s,null],t))}else if(p){if(null!==s)if(null===f||void 0===f?void 0:f.length)if(f.some((function(e){return Lm(e,s)}))){var w=f.filter((function(e){return!Lm(e,s)}));null===l||void 0===l||l(w,t)}else null===l||void 0===l||l(fm(fm([],f,!0),[s],!1),t);else null===l||void 0===l||l([s],t)}else null===l||void 0===l||l(s,t);n||(null===(a=(i=r.props).onSelect)||void 0===a||a.call(i,s,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){var t=ah(r.props.minDate),n=ah(r.props.maxDate),o=!0;if(e){var i=Im(e);if(t&&n)o=qm(e,r.props.minDate,r.props.maxDate);else if(t){var a=Im(r.props.minDate);o=vp(e,a)||Fm(i,a)}else if(n){var s=Pm(r.props.maxDate);o=ch(e,s)||Fm(i,s)}}o&&r.setState({preSelection:e})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,n;if(!r.props.selectsRange&&!r.props.selectsMultiple){var o=r.props.selected?r.props.selected:r.getPreSelection(),i=r.props.selected?e:Tm(o,{hour:ep(e),minute:tp(e)});r.setState({preSelection:i}),null===(n=(t=r.props).onChange)||void 0===n||n.call(t,i),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,n,o,i,a,s;null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e);var c=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(c===mm.ArrowDown||c===mm.ArrowUp){e.preventDefault();var l=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',u=(null===(i=r.calendar)||void 0===i?void 0:i.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(l);return void(u instanceof HTMLElement&&u.focus({preventScroll:!0}))}var d=wm(r.state.preSelection);c===mm.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Jg?(r.handleSelect(d,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(d)):r.setOpen(!1)):c===mm.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):c===mm.Tab&&r.setOpen(!1),r.inputOk()||null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:Vg})}}else c!==mm.ArrowDown&&c!==mm.ArrowUp&&c!==mm.Enter||null===(o=r.onInputClick)||void 0===o||o.call(r)},r.onPortalKeyDown=function(e){e.key===mm.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))},r.onDayKeyDown=function(e){var t,n,o,i,a,s,c=r.props,l=c.minDate,u=c.maxDate,d=c.disabledKeyboardNavigation,h=c.showWeekPicker,p=c.shouldCloseOnSelect,f=c.locale,m=c.calendarStartDay,g=c.adjustDateOnChange,y=c.inline;if(null===(n=(t=r.props).onKeyDown)||void 0===n||n.call(t,e),!d){var v=e.key,w=e.shiftKey,b=wm(r.state.preSelection),k=function(e,t){var n=t;switch(e){case mm.ArrowRight:n=h?kp(t,1):Kd(t,1);break;case mm.ArrowLeft:n=h?Ep(t,1):_p(t,1);break;case mm.ArrowUp:n=Ep(t,1);break;case mm.ArrowDown:n=kp(t,1);break;case mm.PageUp:n=w?up(t,1):op(t,1);break;case mm.PageDown:n=w?lp(t,1):rp(t,1);break;case mm.Home:n=Em(t,f,m);break;case mm.End:n=function(e){return Hh(e)}(t)}return n};if(v===mm.Enter)return e.preventDefault(),r.handleSelect(b,e),void(!p&&r.setPreSelection(b));if(v===mm.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(i=(o=r.props).onInputError)||void 0===i||i.call(o,{code:1,msg:Vg}));var C=null;switch(v){case mm.ArrowLeft:case mm.ArrowRight:case mm.ArrowUp:case mm.ArrowDown:case mm.PageUp:case mm.PageDown:case mm.Home:case mm.End:C=function(e,t){for(var n=e,o=!1,i=0,a=k(e,t);!o;){if(i>=40){a=t;break}l&&a<l&&(n=mm.ArrowRight,a=jm(l,r.props)?k(n,a):l),u&&a>u&&(n=mm.ArrowLeft,a=jm(u,r.props)?k(n,a):u),jm(a,r.props)?(n!==mm.PageUp&&n!==mm.Home||(n=mm.ArrowRight),n!==mm.PageDown&&n!==mm.End||(n=mm.ArrowLeft),a=k(n,a)):o=!0,i++}return a}(v,b)}if(C){if(e.preventDefault(),r.setState({lastPreSelectChange:Jg}),g&&r.setSelected(C),r.setPreSelection(C),y){var S=Jh(b),T=Jh(C),I=Gh(b),E=Gh(C);S!==T||I!==E?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(s=(a=r.props).onInputError)||void 0===s||s.call(a,{code:1,msg:Vg})}},r.onPopperKeyDown=function(e){e.key===mm.Escape&&(e.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,n=t.selectsRange,o=t.onChange;n?null===o||void 0===o||o([null,null],e):null===o||void 0===o||o(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"===typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"===typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,n;return r.props.inline||r.isCalendarOpen()?o.createElement(Hg,pm({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:lg(r.modifyHolidays()),outsideClickIgnoreClass:Kg,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(n=r.props.dropdownMode)&&void 0!==n?n:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,n=r.props,i=n.dateFormat,a=void 0===i?t.defaultProps.dateFormat:i,s=n.locale,c=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(Sm(r.props.startDate,{dateFormat:c,locale:s}),". ").concat(r.props.endDate?"End date: "+Sm(r.props.endDate,{dateFormat:c,locale:s}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Sm(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?"Selected year: ".concat(Sm(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?"Selected month: ".concat(Sm(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Sm(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):"Selected date: ".concat(Sm(r.props.selected,{dateFormat:c,locale:s})),o.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,n,i,a=pu(r.props.className,((e={})[Kg]=r.state.open,e)),s=r.props.customInput||o.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",l=r.props,u=l.dateFormat,d=void 0===u?t.defaultProps.dateFormat:u,h=l.locale,p="string"===typeof r.props.value?r.props.value:"string"===typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,n){if(!e)return"";var r=Sm(e,n),o=t?Sm(t,n):"";return"".concat(r," - ").concat(o)}(r.props.startDate,r.props.endDate,{dateFormat:d,locale:h}):r.props.selectsMultiple?function(e,t){if(!(null===e||void 0===e?void 0:e.length))return"";var n=e[0]?Sm(e[0],t):"";if(1===e.length)return n;if(2===e.length&&e[1]){var r=Sm(e[1],t);return"".concat(n,", ").concat(r)}var o=e.length-1;return"".concat(n," (+").concat(o,")")}(null!==(i=r.props.selectedDates)&&void 0!==i?i:[],{dateFormat:d,locale:h}):Sm(r.props.selected,{dateFormat:d,locale:h});return(0,o.cloneElement)(s,((n={})[c]=function(e){r.input=e},n.value=p,n.onBlur=r.handleBlur,n.onChange=r.handleChange,n.onClick=r.onInputClick,n.onFocus=r.handleFocus,n.onKeyDown=r.onInputKeyDown,n.id=r.props.id,n.name=r.props.name,n.form=r.props.form,n.autoFocus=r.props.autoFocus,n.placeholder=r.props.placeholderText,n.disabled=r.props.disabled,n.autoComplete=r.props.autoComplete,n.className=pu(s.props.className,a),n.title=r.props.title,n.readOnly=r.props.readOnly,n.required=r.props.required,n.tabIndex=r.props.tabIndex,n["aria-describedby"]=r.props.ariaDescribedBy,n["aria-invalid"]=r.props.ariaInvalid,n["aria-labelledby"]=r.props.ariaLabelledBy,n["aria-required"]=r.props.ariaRequired,n))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,n=e.disabled,i=e.selected,a=e.startDate,s=e.endDate,c=e.clearButtonTitle,l=e.clearButtonClassName,u=void 0===l?"":l,d=e.ariaLabelClose,h=void 0===d?"Close":d,p=e.selectedDates;return t&&(null!=i||null!=a||null!=s||(null===p||void 0===p?void 0:p.length))?o.createElement("button",{type:"button",className:pu("react-datepicker__close-icon",u,{"react-datepicker__close-icon--disabled":n}),disabled:n,"aria-label":h,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return hm(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var n,r,o,i,a,s;e.inline&&(a=e.selected,s=this.props.selected,a&&s?Jh(a)!==Jh(s)||Gh(a)!==Gh(s):a!==s)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:cg(this.props.highlightDates)}),t.focused||Fm(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(n=this.props).onCalendarOpen)||void 0===r||r.call(n)),!0===t.open&&!1===this.state.open&&(null===(i=(o=this.props).onCalendarClose)||void 0===i||i.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,n=e.icon,r=e.calendarIconClassname,i=e.calendarIconClassName,a=e.toggleCalendarOnIconClick,s=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),o.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&o.createElement(Ug,pm({icon:n,className:pu(i,!i&&r,s&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?o.createElement(jg,{enableTabLoop:this.props.enableTabLoop},o.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=o.createElement(Bg,pm({portalId:this.props.portalId},this.props),t)),o.createElement("div",null,this.renderInputContainer(),t)}return o.createElement(Yg,pm({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(o.Component),Gg="input",Jg="navigate";const Zg=function(e){let{handleFilterClick:t,onFilterChange:n}=e;const[r,i]=(0,o.useState)(new Date),[a,s]=(0,o.useState)((()=>{const e=new Date;let t=e.getHours(),n=e.getMinutes();if(n%15===0)return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`;{let e=15*Math.floor(n/15)+15;return e>=60&&(e=0,t=(t+1)%24),`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`}})());(0,o.useEffect)((()=>{const e=r?r.toISOString().split("T")[0]:"";n({date:e,time:a})}),[r,a,n]);const c=(()=>{const e=[];for(let t=0;t<24;t++)for(let n=0;n<60;n+=15){const r=`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`,o=`${t%12===0?12:t%12}:${String(n).padStart(2,"0")} ${t<12?"AM":"PM"}`;e.push({value:r,label:o})}return e})(),l=(0,o.forwardRef)(((e,t)=>{let{value:n,onClick:r}=e;return(0,uu.jsxs)("button",{className:"dropdown date-picker-input",onClick:r,ref:t,children:[n||"Select Date",(0,uu.jsx)(iu,{className:"dropdown-icon",style:{marginLeft:5}})]})}));return(0,uu.jsx)("div",{className:"filter-panel",children:(0,uu.jsxs)("div",{className:"dropdown-row",children:[(0,uu.jsx)("div",{className:"filter-button-row",children:(0,uu.jsxs)("button",{className:"filter-button",onClick:t,children:["Filters ",(0,uu.jsx)(iu,{className:"filter-icon"})]})}),(0,uu.jsxs)("div",{className:"dropdown-group",children:[(0,uu.jsx)("label",{htmlFor:"date-input",children:"Date:"}),(0,uu.jsx)(Qg,{id:"date-input",selected:r,onChange:e=>{i(e)},placeholderText:"Select a date",dateFormat:"MMM d, yyyy",customInput:(0,uu.jsx)(l,{})})]}),(0,uu.jsxs)("div",{className:"dropdown-group",children:[(0,uu.jsx)("label",{htmlFor:"time-dropdown",children:"Time:"}),(0,uu.jsxs)("select",{id:"time-dropdown",className:"dropdown",value:a,onChange:e=>{s(e.target.value)},children:[(0,uu.jsx)("option",{value:"",children:"Select Time"}),c.map((e=>(0,uu.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})]})})};const Xg=function(e){let{searchQuery:t,onSearchChange:n,handleFilterClick:r,onFilterChange:o}=e;return(0,uu.jsxs)("div",{className:"search-filter-container",children:[(0,uu.jsx)("div",{className:"search-row",children:(0,uu.jsx)(du,{value:t,onChange:n})}),(0,uu.jsx)(Zg,{handleFilterClick:r,onFilterChange:o})]})};const ey=function(e){let{room:t,onBook:n,onToggleFavorite:r}=e;const{id:o,name:i,location:a,capacity:s,imageUrl:c,booked:l,favourite:u}=t;return(0,uu.jsxs)("div",{className:"room-card",children:[(0,uu.jsx)("img",{src:c,alt:i,className:"room-image"}),(0,uu.jsxs)("div",{className:"room-details",children:[(0,uu.jsx)("h3",{className:"room-name",children:i}),(0,uu.jsxs)("div",{className:"room-location",children:[(0,uu.jsx)(su,{className:"location-icon"}),(0,uu.jsx)("span",{children:a})]}),(0,uu.jsxs)("p",{className:"capacity",children:["Capacity: ",s]}),l?(0,uu.jsx)("button",{className:"booked-button",disabled:!0,children:"Booked"}):(0,uu.jsx)("button",{className:"book-button",onClick:n,children:"Book"})]}),(0,uu.jsx)("div",{className:"favorite-icon",onClick:()=>r(o),children:u?(0,uu.jsx)(au,{className:"favorited"}):(0,uu.jsx)(lu,{})})]})};const ty=function(e){let{isOpen:t,onClose:n,onSave:r,selectedRoom:i}=e;const[a,s]=(0,o.useState)(""),[c,l]=(0,o.useState)(""),u=()=>{const e=new Date;return e.setSeconds(0,0),e},[d,h]=(0,o.useState)(u()),[p,f]=(0,o.useState)((()=>{const e=u();return e.setMinutes(e.getMinutes()+30),e})),[m,g]=(0,o.useState)(30);return(0,o.useEffect)((()=>{i&&(s(`Booking for ${i.name}`),l(i.name))}),[i]),(0,o.useEffect)((()=>{const e=new Date(d);e.setMinutes(d.getMinutes()+m),f(e)}),[d,m]),t?(0,uu.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,uu.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,uu.jsxs)("div",{className:"modal-header",children:[(0,uu.jsx)("h2",{children:"New Booking"}),(0,uu.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,uu.jsxs)("div",{className:"modal-body",children:[(0,uu.jsxs)("div",{className:"form-group",children:[(0,uu.jsxs)("label",{htmlFor:"title",children:["Title",(0,uu.jsx)("span",{className:"asterisk",children:"*"})]}),(0,uu.jsx)("input",{id:"title",type:"text",value:a,onChange:e=>s(e.target.value)})]}),(0,uu.jsxs)("div",{className:"form-group",children:[(0,uu.jsx)("label",{htmlFor:"space",children:"Space"}),(0,uu.jsx)("input",{id:"space",type:"text",value:c,onChange:e=>l(e.target.value)})]}),(0,uu.jsxs)("div",{className:"form-row",children:[(0,uu.jsxs)("div",{className:"form-group",children:[(0,uu.jsx)("label",{htmlFor:"startDate",children:"Date"}),(0,uu.jsx)(Qg,{id:"startDate",selected:d,onChange:e=>h(e),showTimeSelect:!0,timeIntervals:15,dateFormat:"MMM d, yyyy 'at' h:mm aa",className:"date-picker-input start-date-picker"})]}),(0,uu.jsxs)("div",{className:"form-group",children:[(0,uu.jsx)("label",{htmlFor:"endTime",children:"Duration"}),(0,uu.jsx)(Qg,{id:"endTime",selected:p,onChange:e=>{const t=new Date(d);t.setHours(e.getHours()),t.setMinutes(e.getMinutes()),f(t);const n=t-d,r=Math.round(n/6e4);g(r)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,dateFormat:`h:mm aa '(${m} minutes)'`,className:"date-picker-input"})]})]})]}),(0,uu.jsx)("div",{className:"modal-footer",children:(0,uu.jsx)("button",{className:"save-button",onClick:e=>{e.preventDefault();const t={title:a,space:c,date:d.toLocaleString(),duration:m,system_id:null===i||void 0===i?void 0:i.id};r(t),n()},children:"Save"})})]})}):null};const ny=function(e){let{isOpen:t,onClose:n,bookingDetails:r}=e;if(!t)return null;const{floor:o,roomName:i,date:a}=r||{};let s="",c="";if(a){const e=new Date(a);s=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}).toLowerCase(),c=e.toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}return(0,uu.jsx)("div",{className:"success-overlay",onClick:n,children:(0,uu.jsxs)("div",{className:"success-content",onClick:e=>e.stopPropagation(),children:[(0,uu.jsx)(ou,{className:"success-icon"}),(0,uu.jsx)("h2",{className:"success-title",children:"Room booked!"}),(0,uu.jsxs)("p",{className:"success-message",children:["Your room booking for ",o,", ",i,"-",o," has been successfully booked for ",s," at ",c,". Please allow up to 5 minutes for your booking to be approved."]}),(0,uu.jsx)("button",{className:"return-button",onClick:n,children:"Return to Home"})]})})};const ry=function(e){let{isOpen:t,onClose:n,onSave:r,defaultValues:i={}}=e;const[a,s]=(0,o.useState)(""),[c,l]=(0,o.useState)(!1),[u,d]=(0,o.useState)(!1),[h,p]=(0,o.useState)("");return t?(0,uu.jsx)("div",{className:"filter-overlay",onClick:()=>{n()},children:(0,uu.jsxs)("div",{className:"filter-content",onClick:e=>{e.stopPropagation()},children:[(0,uu.jsxs)("div",{className:"filter-header",children:[(0,uu.jsx)("h2",{children:"Filters"}),(0,uu.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,uu.jsx)("hr",{}),(0,uu.jsx)("h3",{children:"Select room size"}),(0,uu.jsxs)("div",{className:"radio-group",children:[(0,uu.jsxs)("label",{children:[(0,uu.jsx)("input",{type:"radio",name:"roomSize",value:"2",checked:"2"===a,onChange:()=>s("2")}),"Min. 2 people"]}),(0,uu.jsxs)("label",{children:[(0,uu.jsx)("input",{type:"radio",name:"roomSize",value:"4",checked:"4"===a,onChange:()=>s("4")}),"Min. 4 people"]}),(0,uu.jsxs)("label",{children:[(0,uu.jsx)("input",{type:"radio",name:"roomSize",value:"10",checked:"10"===a,onChange:()=>s("10")}),"Min. 10 people"]})]}),(0,uu.jsx)("hr",{}),(0,uu.jsx)("h3",{children:"Level"}),(0,uu.jsx)("div",{className:"select-level",children:(0,uu.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"custom-select",children:[(0,uu.jsx)("option",{value:"",children:"All levels"}),(0,uu.jsx)("option",{value:"AREA 2071",children:"Area 2071"}),(0,uu.jsx)("option",{value:"DFA",children:"DFA"})]})}),(0,uu.jsx)("hr",{}),(0,uu.jsxs)("label",{className:"checkbox-row",children:[(0,uu.jsx)("input",{type:"checkbox",checked:c,onChange:()=>l(!c)}),"Favorites"]}),(0,uu.jsx)("button",{className:"apply-button",onClick:()=>{null===r||void 0===r||r({roomSize:a,onlyFavourites:c,meetingRoom:u,floor:h}),n()},children:"Apply Filters"})]})}):null};function oy(e,t){return function(){return e.apply(t,arguments)}}const{toString:iy}=Object.prototype,{getPrototypeOf:ay}=Object,sy=(cy=Object.create(null),e=>{const t=iy.call(e);return cy[t]||(cy[t]=t.slice(8,-1).toLowerCase())});var cy;const ly=e=>(e=e.toLowerCase(),t=>sy(t)===e),uy=e=>t=>typeof t===e,{isArray:dy}=Array,hy=uy("undefined");const py=ly("ArrayBuffer");const fy=uy("string"),my=uy("function"),gy=uy("number"),yy=e=>null!==e&&"object"===typeof e,vy=e=>{if("object"!==sy(e))return!1;const t=ay(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wy=ly("Date"),by=ly("File"),ky=ly("Blob"),Cy=ly("FileList"),Sy=ly("URLSearchParams"),[Ty,Iy,Ey,_y]=["ReadableStream","Request","Response","Headers"].map(ly);function Ay(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),dy(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let a;for(n=0;n<i;n++)a=r[n],t.call(null,e[a],a,e)}}function My(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const xy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Py=e=>!hy(e)&&e!==xy;const Ry=(Ny="undefined"!==typeof Uint8Array&&ay(Uint8Array),e=>Ny&&e instanceof Ny);var Ny;const Oy=ly("HTMLFormElement"),Dy=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ly=ly("RegExp"),Fy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ay(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)};const qy=ly("AsyncFunction"),Hy=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],xy.addEventListener("message",(e=>{let{source:t,data:o}=e;t===xy&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),xy.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,my(xy.postMessage)),Uy="undefined"!==typeof queueMicrotask?queueMicrotask.bind(xy):"undefined"!==typeof process&&process.nextTick||Hy,By={isArray:dy,isArrayBuffer:py,isBuffer:function(e){return null!==e&&!hy(e)&&null!==e.constructor&&!hy(e.constructor)&&my(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||my(e.append)&&("formdata"===(t=sy(e))||"object"===t&&my(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&py(e.buffer),t},isString:fy,isNumber:gy,isBoolean:e=>!0===e||!1===e,isObject:yy,isPlainObject:vy,isReadableStream:Ty,isRequest:Iy,isResponse:Ey,isHeaders:_y,isUndefined:hy,isDate:wy,isFile:by,isBlob:ky,isRegExp:Ly,isFunction:my,isStream:e=>yy(e)&&my(e.pipe),isURLSearchParams:Sy,isTypedArray:Ry,isFileList:Cy,forEach:Ay,merge:function e(){const{caseless:t}=Py(this)&&this||{},n={},r=(r,o)=>{const i=t&&My(n,o)||o;vy(n[i])&&vy(r)?n[i]=e(n[i],r):vy(r)?n[i]=e({},r):dy(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Ay(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ay(t,((t,r)=>{n&&my(t)?e[r]=oy(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&ay(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:sy,kindOfTest:ly,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(dy(e))return e;let t=e.length;if(!gy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Oy,hasOwnProperty:Dy,hasOwnProp:Dy,reduceDescriptors:Fy,freezeMethods:e=>{Fy(e,((t,n)=>{if(my(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];my(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return dy(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:My,global:xy,isContextDefined:Py,isSpecCompliantForm:function(e){return!!(e&&my(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(yy(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=dy(e)?[]:{};return Ay(e,((e,t)=>{const i=n(e,r+1);!hy(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:qy,isThenable:e=>e&&(yy(e)||my(e))&&my(e.then)&&my(e.catch),setImmediate:Hy,asap:Uy};function zy(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}By.inherits(zy,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:By.toJSONObject(this.config),code:this.code,status:this.status}}});const jy=zy.prototype,$y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{$y[e]={value:e}})),Object.defineProperties(zy,$y),Object.defineProperty(jy,"isAxiosError",{value:!0}),zy.from=(e,t,n,r,o,i)=>{const a=Object.create(jy);return By.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),zy.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const Wy=zy;function Yy(e){return By.isPlainObject(e)||By.isArray(e)}function Ky(e){return By.endsWith(e,"[]")?e.slice(0,-2):e}function Vy(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ky(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Qy=By.toFlatObject(By,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Gy=function(e,t,n){if(!By.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=By.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!By.isUndefined(t[e])}))).metaTokens,o=n.visitor||l,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&By.isSpecCompliantForm(t);if(!By.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(By.isDate(e))return e.toISOString();if(!s&&By.isBlob(e))throw new Wy("Blob is not supported. Use a Buffer instead.");return By.isArrayBuffer(e)||By.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(By.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(By.isArray(e)&&function(e){return By.isArray(e)&&!e.some(Yy)}(e)||(By.isFileList(e)||By.endsWith(n,"[]"))&&(s=By.toArray(e)))return n=Ky(n),s.forEach((function(e,r){!By.isUndefined(e)&&null!==e&&t.append(!0===a?Vy([n],r,i):null===a?n:n+"[]",c(e))})),!1;return!!Yy(e)||(t.append(Vy(o,n,i),c(e)),!1)}const u=[],d=Object.assign(Qy,{defaultVisitor:l,convertValue:c,isVisitable:Yy});if(!By.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!By.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),By.forEach(n,(function(n,i){!0===(!(By.isUndefined(n)||null===n)&&o.call(t,n,By.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function Jy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Zy(e,t){this._pairs=[],e&&Gy(e,this,t)}const Xy=Zy.prototype;Xy.append=function(e,t){this._pairs.push([e,t])},Xy.toString=function(e){const t=e?function(t){return e.call(this,t,Jy)}:Jy;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ev=Zy;function tv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nv(e,t,n){if(!t)return e;const r=n&&n.encode||tv;By.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):By.isURLSearchParams(t)?t.toString():new ev(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const rv=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){By.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ov={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iv={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ev,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},av="undefined"!==typeof window&&"undefined"!==typeof document,sv="object"===typeof navigator&&navigator||void 0,cv=av&&(!sv||["ReactNative","NativeScript","NS"].indexOf(sv.product)<0),lv="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,uv=av&&window.location.href||"http://localhost",dv={...r,...iv};const hv=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&By.isArray(r)?r.length:i,s)return By.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&By.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&By.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(By.isFormData(e)&&By.isFunction(e.entries)){const n={};return By.forEachEntry(e,((e,r)=>{t(function(e){return By.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const pv={transitional:ov,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=By.isObject(e);o&&By.isHTMLForm(e)&&(e=new FormData(e));if(By.isFormData(e))return r?JSON.stringify(hv(e)):e;if(By.isArrayBuffer(e)||By.isBuffer(e)||By.isStream(e)||By.isFile(e)||By.isBlob(e)||By.isReadableStream(e))return e;if(By.isArrayBufferView(e))return e.buffer;if(By.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Gy(e,new dv.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return dv.isNode&&By.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=By.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Gy(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(By.isString(e))try{return(t||JSON.parse)(e),By.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pv.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(By.isResponse(e)||By.isReadableStream(e))return e;if(e&&By.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(n){if("SyntaxError"===o.name)throw Wy.from(o,Wy.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dv.classes.FormData,Blob:dv.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};By.forEach(["delete","get","head","post","put","patch"],(e=>{pv.headers[e]={}}));const fv=pv,mv=By.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gv=Symbol("internals");function yv(e){return e&&String(e).trim().toLowerCase()}function vv(e){return!1===e||null==e?e:By.isArray(e)?e.map(vv):String(e)}function wv(e,t,n,r,o){return By.isFunction(r)?r.call(this,t,n):(o&&(t=n),By.isString(t)?By.isString(r)?-1!==t.indexOf(r):By.isRegExp(r)?r.test(t):void 0:void 0)}class bv{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=yv(t);if(!o)throw new Error("header name must be a non-empty string");const i=By.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=vv(e))}const i=(e,t)=>By.forEach(e,((e,n)=>o(e,n,t)));if(By.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(By.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&mv[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(By.isHeaders(e))for(const[a,s]of e.entries())o(s,a,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=yv(e)){const n=By.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(By.isFunction(t))return t.call(this,e,n);if(By.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yv(e)){const n=By.findKey(this,e);return!(!n||void 0===this[n]||t&&!wv(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=yv(e)){const o=By.findKey(n,e);!o||t&&!wv(0,n[o],o,t)||(delete n[o],r=!0)}}return By.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!wv(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return By.forEach(this,((r,o)=>{const i=By.findKey(n,o);if(i)return t[i]=vv(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=vv(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return By.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&By.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[gv]=this[gv]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yv(e);t[r]||(!function(e,t){const n=By.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return By.isArray(e)?e.forEach(r):r(e),this}}bv.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),By.reduceDescriptors(bv.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),By.freezeMethods(bv);const kv=bv;function Cv(e,t){const n=this||fv,r=t||n,o=kv.from(r.headers);let i=r.data;return By.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Sv(e){return!(!e||!e.__CANCEL__)}function Tv(e,t,n){Wy.call(this,null==e?"canceled":e,Wy.ERR_CANCELED,t,n),this.name="CanceledError"}By.inherits(Tv,Wy,{__CANCEL__:!0});const Iv=Tv;function Ev(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Wy("Request failed with status code "+n.status,[Wy.ERR_BAD_REQUEST,Wy.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const _v=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=r[a];o||(o=c),n[i]=s,r[i]=c;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const h=l&&c-l;return h?Math.round(1e3*d/h):void 0}};const Av=function(e,t){let n,r,o=0,i=1e3/t;const a=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];t>=i?a(c,e):(n=c,r||(r=setTimeout((()=>{r=null,a(n)}),i-t)))},()=>n&&a(n)]},Mv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=_v(50,250);return Av((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,c=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&i<=a?(a-i)/c:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},xv=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Pv=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return By.asap((()=>e(...n)))},Rv=dv.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,dv.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(dv.origin),dv.navigator&&/(msie|trident)/i.test(dv.navigator.userAgent)):()=>!0,Nv=dv.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];By.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),By.isString(r)&&a.push("path="+r),By.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ov(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&r||0==n?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Dv=e=>e instanceof kv?{...e}:e;function Lv(e,t){t=t||{};const n={};function r(e,t,n,r){return By.isPlainObject(e)&&By.isPlainObject(t)?By.merge.call({caseless:r},e,t):By.isPlainObject(t)?By.merge({},t):By.isArray(t)?t.slice():t}function o(e,t,n,o){return By.isUndefined(t)?By.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!By.isUndefined(t))return r(void 0,t)}function a(e,t){return By.isUndefined(t)?By.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(Dv(e),Dv(t),0,!0)};return By.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=c[r]||o,a=i(e[r],t[r],r);By.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Fv=e=>{const t=Lv({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=kv.from(s),t.url=nv(Ov(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),By.isFormData(r))if(dv.hasStandardBrowserEnv||dv.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(dv.hasStandardBrowserEnv&&(o&&By.isFunction(o)&&(o=o(t)),o||!1!==o&&Rv(t.url))){const e=i&&a&&Nv.read(a);e&&s.set(i,e)}return t},qv="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Fv(e);let o=r.data;const i=kv.from(r.headers).normalize();let a,s,c,l,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function f(){l&&l(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=kv.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ev((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Wy("Request aborted",Wy.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Wy("Network Error",Wy.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||ov;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Wy(t,o.clarifyTimeoutError?Wy.ETIMEDOUT:Wy.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&By.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),By.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([c,u]=Mv(p,!0),m.addEventListener("progress",c)),h&&m.upload&&([s,l]=Mv(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new Iv(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===dv.protocols.indexOf(y)?n(new Wy("Unsupported protocol "+y+":",Wy.ERR_BAD_REQUEST,e)):m.send(o||null)}))},Hv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Wy?t:new Iv(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Wy(`timeout ${t} of ms exceeded`,Wy.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>By.asap(a),s}},Uv=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Bv=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},zv=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Bv(e))yield*Uv(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},jv="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,$v=jv&&"function"===typeof ReadableStream,Wv=jv&&("function"===typeof TextEncoder?(Yv=new TextEncoder,e=>Yv.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Yv;const Kv=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(o){return!1}},Vv=$v&&Kv((()=>{let e=!1;const t=new Request(dv.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Qv=$v&&Kv((()=>By.isReadableStream(new Response("").body))),Gv={stream:Qv&&(e=>e.body)};var Jv;jv&&(Jv=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Gv[e]&&(Gv[e]=By.isFunction(Jv[e])?t=>t[e]():(t,n)=>{throw new Wy(`Response type '${e}' is not supported`,Wy.ERR_NOT_SUPPORT,n)})})));const Zv=async(e,t)=>{const n=By.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(By.isBlob(e))return e.size;if(By.isSpecCompliantForm(e)){const t=new Request(dv.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return By.isArrayBufferView(e)||By.isArrayBuffer(e)?e.byteLength:(By.isURLSearchParams(e)&&(e+=""),By.isString(e)?(await Wv(e)).byteLength:void 0)})(t):n},Xv=jv&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Fv(e);l=l?(l+"").toLowerCase():"text";let p,f=Hv([o,i&&i.toAbortSignal()],a);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&Vv&&"get"!==n&&"head"!==n&&0!==(g=await Zv(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(By.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=xv(g,Mv(Pv(c)));r=zv(n.body,65536,e,t)}}By.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...h,signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(p);const a=Qv&&("stream"===l||"response"===l);if(Qv&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=By.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&xv(t,Mv(Pv(s),!0))||[];i=new Response(zv(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}l=l||"text";let y=await Gv[By.findKey(Gv,l)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{Ev(t,n,{data:y,headers:kv.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Wy("Network Error",Wy.ERR_NETWORK,e,p),{cause:y.cause||y});throw Wy.from(y,y&&y.code,e,p)}}),ew={http:null,xhr:qv,fetch:Xv};By.forEach(ew,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const tw=e=>`- ${e}`,nw=e=>By.isFunction(e)||null===e||!1===e,rw=e=>{e=By.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!nw(n)&&(r=ew[(t=String(n)).toLowerCase()],void 0===r))throw new Wy(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(tw).join("\n"):" "+tw(e[0]):"as no adapter specified";throw new Wy("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ow(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Iv(null,e)}function iw(e){ow(e),e.headers=kv.from(e.headers),e.data=Cv.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return rw(e.adapter||fv.adapter)(e).then((function(t){return ow(e),t.data=Cv.call(e,e.transformResponse,t),t.headers=kv.from(t.headers),t}),(function(t){return Sv(t)||(ow(e),t&&t.response&&(t.response.data=Cv.call(e,e.transformResponse,t.response),t.response.headers=kv.from(t.response.headers))),Promise.reject(t)}))}const aw="1.8.3",sw={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{sw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const cw={};sw.transitional=function(e,t,n){function r(e,t){return"[Axios v1.8.3] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Wy(r(o," has been removed"+(t?" in "+t:"")),Wy.ERR_DEPRECATED);return t&&!cw[o]&&(cw[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},sw.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const lw={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Wy("options must be an object",Wy.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new Wy("option "+i+" must be "+n,Wy.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Wy("Unknown option "+i,Wy.ERR_BAD_OPTION)}},validators:sw},uw=lw.validators;class dw{constructor(e){this.defaults=e,this.interceptors={request:new rv,response:new rv}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Lv(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&lw.assertOptions(n,{silentJSONParsing:uw.transitional(uw.boolean),forcedJSONParsing:uw.transitional(uw.boolean),clarifyTimeoutError:uw.transitional(uw.boolean)},!1),null!=r&&(By.isFunction(r)?t.paramsSerializer={serialize:r}:lw.assertOptions(r,{encode:uw.function,serialize:uw.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lw.assertOptions(t,{baseUrl:uw.spelling("baseURL"),withXsrfToken:uw.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&By.merge(o.common,o[t.method]);o&&By.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=kv.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[iw.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{l=iw.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return nv(Ov((e=Lv(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}By.forEach(["delete","get","head","options"],(function(e){dw.prototype[e]=function(t,n){return this.request(Lv(n||{},{method:e,url:t,data:(n||{}).data}))}})),By.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Lv(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}dw.prototype[e]=t(),dw.prototype[e+"Form"]=t(!0)}));const hw=dw;class pw{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Iv(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pw((function(t){e=t})),cancel:e}}}const fw=pw;const mw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mw).forEach((e=>{let[t,n]=e;mw[n]=t}));const gw=mw;const yw=function e(t){const n=new hw(t),r=oy(hw.prototype.request,n);return By.extend(r,hw.prototype,n,{allOwnKeys:!0}),By.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Lv(t,n))},r}(fv);yw.Axios=hw,yw.CanceledError=Iv,yw.CancelToken=fw,yw.isCancel=Sv,yw.VERSION=aw,yw.toFormData=Gy,yw.AxiosError=Wy,yw.Cancel=yw.CanceledError,yw.all=function(e){return Promise.all(e)},yw.spread=function(e){return function(t){return e.apply(null,t)}},yw.isAxiosError=function(e){return By.isObject(e)&&!0===e.isAxiosError},yw.mergeConfig=Lv,yw.AxiosHeaders=kv,yw.formToJSON=e=>hv(By.isHTMLForm(e)?new FormData(e):e),yw.getAdapter=rw,yw.HttpStatusCode=gw,yw.default=yw;const vw=yw,ww="/api/engine/v2/systems",bw={headers:{"X-API-KEY":new URLSearchParams(window.location.search).get("apikey")}},kw={headers:{"X-API-KEY":new URLSearchParams(window.location.search).get("apikey")}},Cw=async(e,t,n)=>{try{const r=`/api/staff/v1/calendars/availability?system_ids=${n}&period_start=${e}&period_end=${t}`;return(await vw.get(r,kw)).data}catch(r){return console.error("Error fetching events:",r),[]}};class Sw extends Error{}class Tw extends Sw{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Iw extends Sw{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Ew extends Sw{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class _w extends Sw{}class Aw extends Sw{constructor(e){super(`Invalid unit ${e}`)}}class Mw extends Sw{}class xw extends Sw{constructor(){super("Zone is an abstract class")}}const Pw="numeric",Rw="short",Nw="long",Ow={year:Pw,month:Pw,day:Pw},Dw={year:Pw,month:Rw,day:Pw},Lw={year:Pw,month:Rw,day:Pw,weekday:Rw},Fw={year:Pw,month:Nw,day:Pw},qw={year:Pw,month:Nw,day:Pw,weekday:Nw},Hw={hour:Pw,minute:Pw},Uw={hour:Pw,minute:Pw,second:Pw},Bw={hour:Pw,minute:Pw,second:Pw,timeZoneName:Rw},zw={hour:Pw,minute:Pw,second:Pw,timeZoneName:Nw},jw={hour:Pw,minute:Pw,hourCycle:"h23"},$w={hour:Pw,minute:Pw,second:Pw,hourCycle:"h23"},Ww={hour:Pw,minute:Pw,second:Pw,hourCycle:"h23",timeZoneName:Rw},Yw={hour:Pw,minute:Pw,second:Pw,hourCycle:"h23",timeZoneName:Nw},Kw={year:Pw,month:Pw,day:Pw,hour:Pw,minute:Pw},Vw={year:Pw,month:Pw,day:Pw,hour:Pw,minute:Pw,second:Pw},Qw={year:Pw,month:Rw,day:Pw,hour:Pw,minute:Pw},Gw={year:Pw,month:Rw,day:Pw,hour:Pw,minute:Pw,second:Pw},Jw={year:Pw,month:Rw,day:Pw,weekday:Rw,hour:Pw,minute:Pw},Zw={year:Pw,month:Nw,day:Pw,hour:Pw,minute:Pw,timeZoneName:Rw},Xw={year:Pw,month:Nw,day:Pw,hour:Pw,minute:Pw,second:Pw,timeZoneName:Rw},eb={year:Pw,month:Nw,day:Pw,weekday:Nw,hour:Pw,minute:Pw,timeZoneName:Nw},tb={year:Pw,month:Nw,day:Pw,weekday:Nw,hour:Pw,minute:Pw,second:Pw,timeZoneName:Nw};class nb{get type(){throw new xw}get name(){throw new xw}get ianaName(){return this.name}get isUniversal(){throw new xw}offsetName(e,t){throw new xw}formatOffset(e,t){throw new xw}offset(e){throw new xw}equals(e){throw new xw}get isValid(){throw new xw}}let rb=null;class ob extends nb{static get instance(){return null===rb&&(rb=new ob),rb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,t){let{format:n,locale:r}=t;return Ck(e,n,r)}formatOffset(e,t){return Ek(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let ib={};const ab={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let sb={};class cb extends nb{static create(e){return sb[e]||(sb[e]=new cb(e)),sb[e]}static resetCache(){sb={},ib={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=cb.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,t){let{format:n,locale:r}=t;return Ck(e,n,r,this.name)}formatOffset(e,t){return Ek(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const n=(r=this.name,ib[r]||(ib[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ib[r]);var r;let[o,i,a,s,c,l,u]=n.formatToParts?function(e,t){const n=e.formatToParts(t),r=[];for(let o=0;o<n.length;o++){const{type:e,value:t}=n[o],i=ab[e];"era"===e?r[i]=t:tk(i)||(r[i]=parseInt(t,10))}return r}(n,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,o,i,a,s,c,l,u]=r;return[a,o,i,s,c,l,u]}(n,t);"BC"===s&&(o=1-Math.abs(o));let d=+t;const h=d%1e3;return d-=h>=0?h:1e3+h,(vk({year:o,month:i,day:a,hour:24===c?0:c,minute:l,second:u,millisecond:0})-d)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let lb={};let ub={};function db(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=ub[n];return r||(r=new Intl.DateTimeFormat(e,t),ub[n]=r),r}let hb={};let pb={};let fb=null;let mb={};function gb(e,t,n,r){const o=e.listingMode();return"error"===o?null:"en"===o?n(t):r(t)}class yb{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:o,...i}=n;if(!t||Object.keys(i).length>0){const t={useGrouping:!1,...n};n.padTo>0&&(t.minimumIntegerDigits=n.padTo),this.inf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=hb[n];return r||(r=new Intl.NumberFormat(e,t),hb[n]=r),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return uk(this.floor?Math.floor(e):fk(e,3),this.padTo)}}class vb{constructor(e,t,n){let r;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,n=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&cb.create(n).valid?(r=n,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=db(t,o)}format(){return this.originalZone?this.formatToParts().map((e=>{let{value:t}=e;return t})).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class wb{constructor(e,t,n){this.opts={style:"long",...n},!t&&ok()&&(this.rtf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{base:n,...r}=t,o=JSON.stringify([e,r]);let i=pb[o];return i||(i=new Intl.RelativeTimeFormat(e,t),pb[o]=i),i}(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"always",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===n&&i){const n="days"===e;switch(t){case 1:return n?"tomorrow":`next ${o[e][0]}`;case-1:return n?"yesterday":`last ${o[e][0]}`;case 0:return n?"today":`this ${o[e][0]}`}}const a=Object.is(t,-0)||t<0,s=Math.abs(t),c=1===s,l=o[e],u=r?c?l[1]:l[2]||l[1]:c?o[e][0]:e;return a?`${s} ${u} ago`:`in ${s} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const bb={firstDay:1,minimalDays:4,weekend:[6,7]};class kb{static fromOpts(e){return kb.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=e||Hb.defaultLocale,a=i||(o?"en-US":fb||(fb=(new Intl.DateTimeFormat).resolvedOptions().locale,fb)),s=t||Hb.defaultNumberingSystem,c=n||Hb.defaultOutputCalendar,l=ck(r)||Hb.defaultWeekSettings;return new kb(a,s,c,l,i)}static resetCache(){fb=null,ub={},hb={},pb={}}static fromObject(){let{locale:e,numberingSystem:t,outputCalendar:n,weekSettings:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kb.create(e,t,n,r)}constructor(e,t,n,r,o){const[i,a,s]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const n=e.indexOf("-u-");if(-1===n)return[e];{let t,o;try{t=db(e).resolvedOptions(),o=e}catch(r){const i=e.substring(0,n);t=db(i).resolvedOptions(),o=i}const{numberingSystem:i,calendar:a}=t;return[o,i,a]}}(e);this.locale=i,this.numberingSystem=t||a||null,this.outputCalendar=n||s||null,this.weekSettings=r,this.intl=function(e,t,n){return n||t?(e.includes("-u-")||(e+="-u"),n&&(e+=`-ca-${n}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?kb.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ck(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!0})}redefaultToSystem(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.clone({...e,defaultToEN:!1})}months(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gb(this,e,Pk,(()=>{const n=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let n=1;n<=12;n++){const r=OS.utc(2009,n,1);t.push(e(r))}return t}((e=>this.extract(e,n,"month")))),this.monthsCache[r][e]}))}weekdays(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gb(this,e,Dk,(()=>{const n=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let n=1;n<=7;n++){const r=OS.utc(2016,11,13+n);t.push(e(r))}return t}((e=>this.extract(e,n,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return gb(this,void 0,(()=>Lk),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[OS.utc(2016,11,13,9),OS.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return gb(this,e,Uk,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[OS.utc(-40,1,1),OS.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,n){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===n));return r?r.value:null}numberFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new yb(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new vb(e,this.intl,t)}relFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new wb(this.intl,this.isEnglish(),e)}listFormatter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=JSON.stringify([e,t]);let r=lb[n];return r||(r=new Intl.ListFormat(e,t),lb[n]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ik()?function(e){let t=mb[e];if(!t){const n=new Intl.Locale(e);t="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,mb[e]=t}return t}(this.locale):bb}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Cb=null;class Sb extends nb{static get utcInstance(){return null===Cb&&(Cb=new Sb(0)),Cb}static instance(e){return 0===e?Sb.utcInstance:new Sb(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Sb(Sk(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Ek(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Ek(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Ek(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class Tb extends nb{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ib(e,t){if(tk(e)||null===e)return t;if(e instanceof nb)return e;if("string"===typeof e){const n=e.toLowerCase();return"default"===n?t:"local"===n||"system"===n?ob.instance:"utc"===n||"gmt"===n?Sb.utcInstance:Sb.parseSpecifier(n)||cb.create(e)}return nk(e)?Sb.instance(e):"object"===typeof e&&"offset"in e&&"function"===typeof e.offset?e:new Tb(e)}const Eb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},_b={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ab=Eb.hanidec.replace(/[\[|\]]/g,"").split("");let Mb={};function xb(e){let{numberingSystem:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=t||"latn";return Mb[r]||(Mb[r]={}),Mb[r][n]||(Mb[r][n]=new RegExp(`${Eb[r]}${n}`)),Mb[r][n]}let Pb,Rb=()=>Date.now(),Nb="system",Ob=null,Db=null,Lb=null,Fb=60,qb=null;class Hb{static get now(){return Rb}static set now(e){Rb=e}static set defaultZone(e){Nb=e}static get defaultZone(){return Ib(Nb,ob.instance)}static get defaultLocale(){return Ob}static set defaultLocale(e){Ob=e}static get defaultNumberingSystem(){return Db}static set defaultNumberingSystem(e){Db=e}static get defaultOutputCalendar(){return Lb}static set defaultOutputCalendar(e){Lb=e}static get defaultWeekSettings(){return qb}static set defaultWeekSettings(e){qb=ck(e)}static get twoDigitCutoffYear(){return Fb}static set twoDigitCutoffYear(e){Fb=e%100}static get throwOnInvalid(){return Pb}static set throwOnInvalid(e){Pb=e}static resetCaches(){kb.resetCache(),cb.resetCache(),OS.resetCache(),Mb={}}}class Ub{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Bb=[0,31,59,90,120,151,181,212,243,273,304,334],zb=[0,31,60,91,121,152,182,213,244,274,305,335];function jb(e,t){return new Ub("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function $b(e,t,n){const r=new Date(Date.UTC(e,t-1,n));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const o=r.getUTCDay();return 0===o?7:o}function Wb(e,t,n){return n+(mk(e)?zb:Bb)[t-1]}function Yb(e,t){const n=mk(e)?zb:Bb,r=n.findIndex((e=>e<t));return{month:r+1,day:t-n[r]}}function Kb(e,t){return(e-t+7)%7+1}function Vb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{year:r,month:o,day:i}=e,a=Wb(r,o,i),s=Kb($b(r,o,i),n);let c,l=Math.floor((a-s+14-t)/7);return l<1?(c=r-1,l=bk(c,t,n)):l>bk(r,t,n)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:s,..._k(e)}}function Qb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{weekYear:r,weekNumber:o,weekday:i}=e,a=Kb($b(r,1,t),n),s=gk(r);let c,l=7*o+i-a-7+t;l<1?(c=r-1,l+=gk(c)):l>s?(c=r+1,l-=gk(r)):c=r;const{month:u,day:d}=Yb(c,l);return{year:c,month:u,day:d,..._k(e)}}function Gb(e){const{year:t,month:n,day:r}=e;return{year:t,ordinal:Wb(t,n,r),..._k(e)}}function Jb(e){const{year:t,ordinal:n}=e,{month:r,day:o}=Yb(t,n);return{year:t,month:r,day:o,..._k(e)}}function Zb(e,t){if(!tk(e.localWeekday)||!tk(e.localWeekNumber)||!tk(e.localWeekYear)){if(!tk(e.weekday)||!tk(e.weekNumber)||!tk(e.weekYear))throw new _w("Cannot mix locale-based week fields with ISO-based week fields");return tk(e.localWeekday)||(e.weekday=e.localWeekday),tk(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),tk(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Xb(e){const t=rk(e.year),n=lk(e.month,1,12),r=lk(e.day,1,yk(e.year,e.month));return t?n?!r&&jb("day",e.day):jb("month",e.month):jb("year",e.year)}function ek(e){const{hour:t,minute:n,second:r,millisecond:o}=e,i=lk(t,0,23)||24===t&&0===n&&0===r&&0===o,a=lk(n,0,59),s=lk(r,0,59),c=lk(o,0,999);return i?a?s?!c&&jb("millisecond",o):jb("second",r):jb("minute",n):jb("hour",t)}function tk(e){return"undefined"===typeof e}function nk(e){return"number"===typeof e}function rk(e){return"number"===typeof e&&e%1===0}function ok(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function ik(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function ak(e,t,n){if(0!==e.length)return e.reduce(((e,r)=>{const o=[t(r),r];return e&&n(e[0],o[0])===e[0]?e:o}),null)[1]}function sk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ck(e){if(null==e)return null;if("object"!==typeof e)throw new Mw("Week settings must be an object");if(!lk(e.firstDay,1,7)||!lk(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!lk(e,1,7))))throw new Mw("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function lk(e,t,n){return rk(e)&&e>=t&&e<=n}function uk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;let n;return n=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),n}function dk(e){return tk(e)||null===e||""===e?void 0:parseInt(e,10)}function hk(e){return tk(e)||null===e||""===e?void 0:parseFloat(e)}function pk(e){if(!tk(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function fk(e,t){const n=10**t;return(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Math.trunc:Math.round)(e*n)/n}function mk(e){return e%4===0&&(e%100!==0||e%400===0)}function gk(e){return mk(e)?366:365}function yk(e,t){const n=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===n?mk(e+(t-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function vk(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function wk(e,t,n){return-Kb($b(e,1,t),n)+t-1}function bk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=wk(e,t,n),o=wk(e+1,t,n);return(gk(e)-r+o)/7}function kk(e){return e>99?e:e>Hb.twoDigitCutoffYear?1900+e:2e3+e}function Ck(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=new Date(e),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(i.timeZone=r);const a={timeZoneName:t,...i},s=new Intl.DateTimeFormat(n,a).formatToParts(o).find((e=>"timezonename"===e.type.toLowerCase()));return s?s.value:null}function Sk(e,t){let n=parseInt(e,10);Number.isNaN(n)&&(n=0);const r=parseInt(t,10)||0;return 60*n+(n<0||Object.is(n,-0)?-r:r)}function Tk(e){const t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new Mw(`Invalid unit value ${e}`);return t}function Ik(e,t){const n={};for(const r in e)if(sk(e,r)){const o=e[r];if(void 0===o||null===o)continue;n[t(r)]=Tk(o)}return n}function Ek(e,t){const n=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),o=e>=0?"+":"-";switch(t){case"short":return`${o}${uk(n,2)}:${uk(r,2)}`;case"narrow":return`${o}${n}${r>0?`:${r}`:""}`;case"techie":return`${o}${uk(n,2)}${uk(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function _k(e){return function(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}(e,["hour","minute","second","millisecond"])}const Ak=["January","February","March","April","May","June","July","August","September","October","November","December"],Mk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xk=["J","F","M","A","M","J","J","A","S","O","N","D"];function Pk(e){switch(e){case"narrow":return[...xk];case"short":return[...Mk];case"long":return[...Ak];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Rk=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Nk=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ok=["M","T","W","T","F","S","S"];function Dk(e){switch(e){case"narrow":return[...Ok];case"short":return[...Nk];case"long":return[...Rk];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Lk=["AM","PM"],Fk=["Before Christ","Anno Domini"],qk=["BC","AD"],Hk=["B","A"];function Uk(e){switch(e){case"narrow":return[...Hk];case"short":return[...qk];case"long":return[...Fk];default:return null}}function Bk(e,t){let n="";for(const r of e)r.literal?n+=r.val:n+=t(r.val);return n}const zk={D:Ow,DD:Dw,DDD:Fw,DDDD:qw,t:Hw,tt:Uw,ttt:Bw,tttt:zw,T:jw,TT:$w,TTT:Ww,TTTT:Yw,f:Kw,ff:Qw,fff:Zw,ffff:eb,F:Vw,FF:Gw,FFF:Xw,FFFF:tb};class jk{static create(e){return new jk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}static parseFormat(e){let t=null,n="",r=!1;const o=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);"'"===a?(n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),t=null,n="",r=!r):r||a===t?n+=a:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=a,t=a)}return n.length>0&&o.push({literal:r||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return zk[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.opts.forceSimple)return uk(e,t);const n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const n="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=(t,n)=>this.loc.extract(e,t,n),i=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",a=()=>n?function(e){return Lk[e.hour<12?0:1]}(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),s=(t,r)=>n?function(e,t){return Pk(t)[e.month-1]}(e,t):o(r?{month:t}:{month:t,day:"numeric"},"month"),c=(t,r)=>n?function(e,t){return Dk(t)[e.weekday-1]}(e,t):o(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const n=jk.macroTokenToFormatOpts(t);return n?this.formatWithSystemDefault(e,n):t},u=t=>n?function(e,t){return Uk(t)[e.year<0?0:1]}(e,t):o({era:t},"era");return Bk(jk.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}}))}formatDurationFromString(e,t){const n=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=jk.parseFormat(t),o=r.reduce(((e,t)=>{let{literal:n,val:r}=t;return n?e:e.concat(r)}),[]);return Bk(r,(e=>t=>{const r=n(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...o.map(n).filter((e=>e)))))}}const $k=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Wk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e+t.source),"");return RegExp(`^${r}$`)}function Yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.reduce(((t,n)=>{let[r,o,i]=t;const[a,s,c]=n(e,i);return[{...r,...a},s||o,c]}),[{},null,1]).slice(0,2)}function Kk(e){if(null==e)return[null,null];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const[o,i]of n){const t=o.exec(e);if(t)return i(t)}return[null,null]}function Vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{const r={};let o;for(o=0;o<t.length;o++)r[t[o]]=dk(e[n+o]);return[r,null,n+o]}}const Qk=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Gk=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Jk=RegExp(`${Gk.source}${`(?:${Qk.source}?(?:\\[(${$k.source})\\])?)?`}`),Zk=RegExp(`(?:T${Jk.source})?`),Xk=Vk("weekYear","weekNumber","weekDay"),eC=Vk("year","ordinal"),tC=RegExp(`${Gk.source} ?(?:${Qk.source}|(${$k.source}))?`),nC=RegExp(`(?: ${tC.source})?`);function rC(e,t,n){const r=e[t];return tk(r)?n:dk(r)}function oC(e,t){return[{hours:rC(e,t,0),minutes:rC(e,t+1,0),seconds:rC(e,t+2,0),milliseconds:pk(e[t+3])},null,t+4]}function iC(e,t){const n=!e[t]&&!e[t+1],r=Sk(e[t+1],e[t+2]);return[{},n?null:Sb.instance(r),t+3]}function aC(e,t){return[{},e[t]?cb.create(e[t]):null,t+1]}const sC=RegExp(`^T?${Gk.source}$`),cC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function lC(e){const[t,n,r,o,i,a,s,c,l]=e,u="-"===t[0],d=c&&"-"===c[0],h=function(e){return void 0!==e&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||e&&u)?-e:e};return[{years:h(hk(n)),months:h(hk(r)),weeks:h(hk(o)),days:h(hk(i)),hours:h(hk(a)),minutes:h(hk(s)),seconds:h(hk(c),"-0"===c),milliseconds:h(pk(l),d)}]}const uC={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function dC(e,t,n,r,o,i,a){const s={year:2===t.length?kk(dk(t)):dk(t),month:Mk.indexOf(n)+1,day:dk(r),hour:dk(o),minute:dk(i)};return a&&(s.second=dk(a)),e&&(s.weekday=e.length>3?Rk.indexOf(e)+1:Nk.indexOf(e)+1),s}const hC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function pC(e){const[,t,n,r,o,i,a,s,c,l,u,d]=e,h=dC(t,o,r,n,i,a,s);let p;return p=c?uC[c]:l?0:Sk(u,d),[h,new Sb(p)]}const fC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mC=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,gC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function yC(e){const[,t,n,r,o,i,a,s]=e;return[dC(t,o,r,n,i,a,s),Sb.utcInstance]}function vC(e){const[,t,n,r,o,i,a,s]=e;return[dC(t,s,n,r,o,i,a),Sb.utcInstance]}const wC=Wk(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Zk),bC=Wk(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Zk),kC=Wk(/(\d{4})-?(\d{3})/,Zk),CC=Wk(Jk),SC=Yk((function(e,t){return[{year:rC(e,t),month:rC(e,t+1,1),day:rC(e,t+2,1)},null,t+3]}),oC,iC,aC),TC=Yk(Xk,oC,iC,aC),IC=Yk(eC,oC,iC,aC),EC=Yk(oC,iC,aC);const _C=Yk(oC);const AC=Wk(/(\d{4})-(\d\d)-(\d\d)/,nC),MC=Wk(tC),xC=Yk(oC,iC,aC);const PC="Invalid Duration",RC={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},NC={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...RC},OC=365.2425,DC=30.436875,LC={years:{quarters:4,months:12,weeks:52.1775,days:OC,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:DC,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...RC},FC=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qC=FC.slice(0).reverse();function HC(e,t){const n={values:arguments.length>2&&void 0!==arguments[2]&&arguments[2]?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new zC(n)}function UC(e,t){let n=t.milliseconds??0;for(const r of qC.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function BC(e,t){const n=UC(e,t)<0?-1:1;FC.reduceRight(((r,o)=>{if(tk(t[o]))return r;if(r){const i=t[r]*n,a=e[o][r],s=Math.floor(i/a);t[o]+=s*n,t[r]-=s*a*n}return o}),null),FC.reduce(((n,r)=>{if(tk(t[r]))return n;if(n){const o=t[n]%1;t[n]-=o,t[r]+=o*e[n][r]}return r}),null)}class zC{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let n=t?LC:NC;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||kb.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return zC.fromObject({milliseconds:e},t)}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||"object"!==typeof e)throw new Mw("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new zC({values:Ik(e,zC.normalizeUnit),loc:kb.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(nk(e))return zC.fromMillis(e);if(zC.isDuration(e))return e;if("object"===typeof e)return zC.fromObject(e);throw new Mw(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[n]=function(e){return Kk(e,[cC,lC])}(e);return n?zC.fromObject(n,t):zC.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[n]=function(e){return Kk(e,[sC,_C])}(e);return n?zC.fromObject(n,t):zC.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new Mw("need to specify a reason the Duration is invalid");const n=e instanceof Ub?e:new Ub(e,t);if(Hb.throwOnInvalid)throw new Ew(n);return new zC({invalid:n})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new Aw(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?jk.create(this.loc,n).formatDurationFromString(this,e):PC}toHuman(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return PC;const t=FC.map((t=>{const n=this.values[t];return tk(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(n)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=fk(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return OS.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?UC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=zC.fromDurationLike(e),n={};for(const r of FC)(sk(t.values,r)||sk(this.values,r))&&(n[r]=t.get(r)+this.get(r));return HC(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const t=zC.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const n of Object.keys(this.values))t[n]=Tk(e(this.values[n],n));return HC(this,{values:t},!0)}get(e){return this[zC.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return HC(this,{values:{...this.values,...Ik(e,zC.normalizeUnit)}})}reconfigure(){let{locale:e,numberingSystem:t,conversionAccuracy:n,matrix:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return HC(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:n})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return BC(this.matrix,e),HC(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return HC(this,{values:function(e){const t={};for(const[n,r]of Object.entries(e))0!==r&&(t[n]=r);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!this.isValid)return this;if(0===t.length)return this;t=t.map((e=>zC.normalizeUnit(e)));const r={},o={},i=this.toObject();let a;for(const s of FC)if(t.indexOf(s)>=0){a=s;let e=0;for(const n in o)e+=this.matrix[n][s]*o[n],o[n]=0;nk(i[s])&&(e+=i[s]);const t=Math.trunc(e);r[s]=t,o[s]=(1e3*e-1e3*t)/1e3}else nk(i[s])&&(o[s]=i[s]);for(const s in o)0!==o[s]&&(r[a]+=s===a?o[s]:o[s]/this.matrix[a][s]);return BC(this.matrix,r),HC(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return HC(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of FC)if(t=this.values[r],n=e.values[r],!(void 0===t||0===t?void 0===n||0===n:t===n))return!1;var t,n;return!0}}const jC="Invalid Interval";class $C{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new Mw("need to specify a reason the Interval is invalid");const n=e instanceof Ub?e:new Ub(e,t);if(Hb.throwOnInvalid)throw new Iw(n);return new $C({invalid:n})}static fromDateTimes(e,t){const n=DS(e),r=DS(t),o=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?$C.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:$C.invalid("missing or invalid end"):$C.invalid("missing or invalid start")}(n,r);return null==o?new $C({start:n,end:r}):o}static after(e,t){const n=zC.fromDurationLike(t),r=DS(e);return $C.fromDateTimes(r,r.plus(n))}static before(e,t){const n=zC.fromDurationLike(t),r=DS(e);return $C.fromDateTimes(r.minus(n),r)}static fromISO(e,t){const[n,r]=(e||"").split("/",2);if(n&&r){let e,o,i,a;try{e=OS.fromISO(n,t),o=e.isValid}catch(r){o=!1}try{i=OS.fromISO(r,t),a=i.isValid}catch(r){a=!1}if(o&&a)return $C.fromDateTimes(e,i);if(o){const n=zC.fromISO(r,t);if(n.isValid)return $C.after(e,n)}else if(a){const e=zC.fromISO(n,t);if(e.isValid)return $C.before(i,e)}}return $C.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds";return this.isValid?this.toDuration(e).get(e):NaN}count(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1?arguments[1]:void 0;if(!this.isValid)return NaN;const n=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(n,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set(){let{start:e,end:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?$C.fromDateTimes(e||this.s,t||this.e):this}splitAt(){if(!this.isValid)return[];for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map(DS).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),o=[];let{s:i}=this,a=0;for(;i<this.e;){const e=r[a]||this.e,t=+e>+this.e?this.e:e;o.push($C.fromDateTimes(i,t)),i=t,a+=1}return o}splitBy(e){const t=zC.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let n,{s:r}=this,o=1;const i=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*o)));n=+e>+this.e?this.e:e,i.push($C.fromDateTimes(r,n)),r=n,o+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:$C.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return $C.fromDateTimes(t,n)}static merge(e){const[t,n]=e.sort(((e,t)=>e.s-t.s)).reduce(((e,t)=>{let[n,r]=e;return r?r.overlaps(t)||r.abutsStart(t)?[n,r.union(t)]:[n.concat([r]),t]:[n,t]}),[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0;const r=[],o=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),i=Array.prototype.concat(...o).sort(((e,t)=>e.time-t.time));for(const a of i)n+="s"===a.type?1:-1,1===n?t=a.time:(t&&+t!==+a.time&&r.push($C.fromDateTimes(t,a.time)),t=null);return $C.merge(r)}difference(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $C.xor([this].concat(t)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:jC}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?jk.create(this.s.loc.clone(t),e).formatInterval(this):jC}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:jC}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:jC}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:jC}toFormat(e){let{separator:t=" \u2013 "}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:jC}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):zC.invalid(this.invalidReason)}mapEndpoints(e){return $C.fromDateTimes(e(this.s),e(this.e))}}class WC{static hasDST(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hb.defaultZone;const t=OS.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return cb.isValidZone(e)}static normalizeZone(e){return Ib(e,Hb.defaultZone)}static getStartOfWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||kb.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||kb.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays(){let{locale:e=null,locObj:t=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t||kb.create(e)).getWeekendDays().slice()}static months(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||kb.create(t,n,o)).months(e)}static monthsFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null,outputCalendar:o="gregory"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||kb.create(t,n,o)).months(e,!0)}static weekdays(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||kb.create(t,n,null)).weekdays(e)}static weekdaysFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long",{locale:t=null,numberingSystem:n=null,locObj:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(r||kb.create(t,n,null)).weekdays(e,!0)}static meridiems(){let{locale:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kb.create(e).meridiems()}static eras(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"short",{locale:t=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return kb.create(t,null,"gregory").eras(e)}static features(){return{relative:ok(),localeWeek:ik()}}}function YC(e,t){const n=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(t)-n(e);return Math.floor(zC.fromMillis(r).as("days"))}function KC(e,t,n,r){let[o,i,a,s]=function(e,t,n){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const n=YC(e,t);return(n-n%7)/7}],["days",YC]],o={},i=e;let a,s;for(const[c,l]of r)n.indexOf(c)>=0&&(a=c,o[c]=l(e,t),s=i.plus(o),s>t?(o[c]--,(e=i.plus(o))>t&&(s=e,o[c]--,e=i.plus(o))):e=s);return[e,o,s,a]}(e,t,n);const c=t-o,l=n.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===l.length&&(a<t&&(a=o.plus({[s]:1})),a!==o&&(i[s]=(i[s]||0)+c/(a-o)));const u=zC.fromObject(i,r);return l.length>0?zC.fromMillis(c,r).shiftTo(...l).plus(u):u}function VC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return{regex:e,deser:e=>{let[n]=e;return t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(-1!==e[n].search(Eb.hanidec))t+=Ab.indexOf(e[n]);else for(const e in _b){const[n,o]=_b[e];r>=n&&r<=o&&(t+=r-n)}}return parseInt(t,10)}return t}(n))}}}const QC=`[ ${String.fromCharCode(160)}]`,GC=new RegExp(QC,"g");function JC(e){return e.replace(/\./g,"\\.?").replace(GC,QC)}function ZC(e){return e.replace(/\./g,"").replace(GC," ").toLowerCase()}function XC(e,t){return null===e?null:{regex:RegExp(e.map(JC).join("|")),deser:n=>{let[r]=n;return e.findIndex((e=>ZC(r)===ZC(e)))+t}}}function eS(e,t){return{regex:e,deser:e=>{let[,t,n]=e;return Sk(t,n)},groups:t}}function tS(e){return{regex:e,deser:e=>{let[t]=e;return t}}}const nS={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let rS=null;function oS(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const n=sS(jk.macroTokenToFormatOpts(e.val),t);return null==n||n.includes(void 0)?e:n}(e,t))))}class iS{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=oS(jk.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const n=xb(t),r=xb(t,"{2}"),o=xb(t,"{3}"),i=xb(t,"{4}"),a=xb(t,"{6}"),s=xb(t,"{1,2}"),c=xb(t,"{1,3}"),l=xb(t,"{1,6}"),u=xb(t,"{1,9}"),d=xb(t,"{2,4}"),h=xb(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:e=>{let[t]=e;return t},literal:!0};var t},f=(f=>{if(e.literal)return p(f);switch(f.val){case"G":return XC(t.eras("short"),0);case"GG":return XC(t.eras("long"),0);case"y":return VC(l);case"yy":case"kk":return VC(d,kk);case"yyyy":case"kkkk":return VC(i);case"yyyyy":return VC(h);case"yyyyyy":return VC(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return VC(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return VC(r);case"MMM":return XC(t.months("short",!0),1);case"MMMM":return XC(t.months("long",!0),1);case"LLL":return XC(t.months("short",!1),1);case"LLLL":return XC(t.months("long",!1),1);case"o":case"S":return VC(c);case"ooo":case"SSS":return VC(o);case"u":return tS(u);case"uu":return tS(s);case"uuu":case"E":case"c":return VC(n);case"a":return XC(t.meridiems(),0);case"EEE":return XC(t.weekdays("short",!1),1);case"EEEE":return XC(t.weekdays("long",!1),1);case"ccc":return XC(t.weekdays("short",!0),1);case"cccc":return XC(t.weekdays("long",!0),1);case"Z":case"ZZ":return eS(new RegExp(`([+-]${s.source})(?::(${r.source}))?`),2);case"ZZZ":return eS(new RegExp(`([+-]${s.source})(${r.source})?`),2);case"z":return tS(/[a-z_+-/]{1,256}?/i);case" ":return tS(/[^\S\n\r]/);default:return p(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=function(e){const t=e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"");return[`^${t}$`,e]}(this.units);this.regex=RegExp(e,"i"),this.handlers=t}}explainFromTokens(e){if(this.isValid){const[t,n]=function(e,t,n){const r=e.match(t);if(r){const e={};let t=1;for(const o in n)if(sk(n,o)){const i=n[o],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(e[i.token.val[0]]=i.deser(r.slice(t,t+a))),t+=a}return[r,e]}return[r,{}]}(e,this.regex,this.handlers),[r,o,i]=n?function(e){let t,n=null;tk(e.z)||(n=cb.create(e.z)),tk(e.Z)||(n||(n=new Sb(e.Z)),t=e.Z),tk(e.q)||(e.M=3*(e.q-1)+1),tk(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),tk(e.u)||(e.S=pk(e.u));const r=Object.keys(e).reduce(((t,n)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return r&&(t[r]=e[n]),t}),{});return[r,n,t]}(n):[null,null,void 0];if(sk(n,"a")&&sk(n,"H"))throw new _w("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:n,result:r,zone:o,specificOffset:i}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function aS(e,t,n){return new iS(e,n).explainFromTokens(t)}function sS(e,t){if(!e)return null;const n=jk.create(t,e).dtFormatter((rS||(rS=OS.fromMillis(1555555555555)),rS)),r=n.formatToParts(),o=n.resolvedOptions();return r.map((t=>function(e,t,n){const{type:r,value:o}=e;if("literal"===r){const e=/^\s+$/.test(o);return{literal:!e,val:e?" ":o}}const i=t[r];let a=r;"hour"===r&&(a=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let s=nS[a];if("object"===typeof s&&(s=s[i]),s)return{literal:!1,val:s}}(t,e,o)))}const cS="Invalid DateTime",lS=864e13;function uS(e){return new Ub("unsupported zone",`the zone "${e.name}" is not supported`)}function dS(e){return null===e.weekData&&(e.weekData=Vb(e.c)),e.weekData}function hS(e){return null===e.localWeekData&&(e.localWeekData=Vb(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function pS(e,t){const n={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new OS({...n,...t,old:n})}function fS(e,t,n){let r=e-60*t*1e3;const o=n.offset(r);if(t===o)return[r,t];r-=60*(o-t)*1e3;const i=n.offset(r);return o===i?[r,o]:[e-60*Math.min(o,i)*1e3,Math.max(o,i)]}function mS(e,t){const n=new Date(e+=60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function gS(e,t,n){return fS(vk(e),t,n)}function yS(e,t){const n=e.o,r=e.c.year+Math.trunc(t.years),o=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),i={...e.c,year:r,month:o,day:Math.min(e.c.day,yk(r,o))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},a=zC.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=vk(i);let[c,l]=fS(s,n,e.zone);return 0!==a&&(c+=a,l=e.zone.offset(c)),{ts:c,o:l}}function vS(e,t,n,r,o,i){const{setZone:a,zone:s}=n;if(e&&0!==Object.keys(e).length||t){const r=t||s,o=OS.fromObject(e,{...n,zone:r,specificOffset:i});return a?o:o.setZone(s)}return OS.invalid(new Ub("unparsable",`the input "${o}" can't be parsed as ${r}`))}function wS(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.isValid?jk.create(kb.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(e,t):null}function bS(e,t){const n=e.c.year>9999||e.c.year<0;let r="";return n&&e.c.year>=0&&(r+="+"),r+=uk(e.c.year,n?6:4),t?(r+="-",r+=uk(e.c.month),r+="-",r+=uk(e.c.day)):(r+=uk(e.c.month),r+=uk(e.c.day)),r}function kS(e,t,n,r,o,i){let a=uk(e.c.hour);return t?(a+=":",a+=uk(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(a+=":")):a+=uk(e.c.minute),0===e.c.millisecond&&0===e.c.second&&n||(a+=uk(e.c.second),0===e.c.millisecond&&r||(a+=".",a+=uk(e.c.millisecond,3))),o&&(e.isOffsetFixed&&0===e.offset&&!i?a+="Z":e.o<0?(a+="-",a+=uk(Math.trunc(-e.o/60)),a+=":",a+=uk(Math.trunc(-e.o%60))):(a+="+",a+=uk(Math.trunc(e.o/60)),a+=":",a+=uk(Math.trunc(e.o%60)))),i&&(a+="["+e.zone.ianaName+"]"),a}const CS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},SS={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},TS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},IS=["year","month","day","hour","minute","second","millisecond"],ES=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_S=["year","ordinal","hour","minute","second","millisecond"];function AS(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new Aw(e);return t}(e)}}function MS(e,t){const n=Ib(t.zone,Hb.defaultZone);if(!n.isValid)return OS.invalid(uS(n));const r=kb.fromObject(t);let o,i;if(tk(e.year))o=Hb.now();else{for(const n of IS)tk(e[n])&&(e[n]=CS[n]);const t=Xb(e)||ek(e);if(t)return OS.invalid(t);const r=function(e){return NS[e]||(void 0===RS&&(RS=Hb.now()),NS[e]=e.offset(RS)),NS[e]}(n);[o,i]=gS(e,r,n)}return new OS({ts:o,zone:n,loc:r,o:i})}function xS(e,t,n){const r=!!tk(n.round)||n.round,o=(e,o)=>{e=fk(e,r||n.calendary?0:2,!0);return t.loc.clone(n).relFormatter(n).format(e,o)},i=r=>n.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(n.unit)return o(i(n.unit),n.unit);for(const a of n.units){const e=i(a);if(Math.abs(e)>=1)return o(e,a)}return o(e>t?-0:0,n.units[n.units.length-1])}function PS(e){let t,n={};return e.length>0&&"object"===typeof e[e.length-1]?(n=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[n,t]}let RS,NS={};class OS{constructor(e){const t=e.zone||Hb.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ub("invalid input"):null)||(t.isValid?null:uS(t));this.ts=tk(e.ts)?Hb.now():e.ts;let r=null,o=null;if(!n){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,o]=[e.old.c,e.old.o];else{const i=nk(e.o)&&!e.old?e.o:t.offset(this.ts);r=mS(this.ts,i),n=Number.isNaN(r.year)?new Ub("invalid input"):null,r=n?null:r,o=n?null:i}}this._zone=t,this.loc=e.loc||kb.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new OS({})}static local(){const[e,t]=PS(arguments),[n,r,o,i,a,s,c]=t;return MS({year:n,month:r,day:o,hour:i,minute:a,second:s,millisecond:c},e)}static utc(){const[e,t]=PS(arguments),[n,r,o,i,a,s,c]=t;return e.zone=Sb.utcInstance,MS({year:n,month:r,day:o,hour:i,minute:a,second:s,millisecond:c},e)}static fromJSDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);var r;if(Number.isNaN(n))return OS.invalid("invalid input");const o=Ib(t.zone,Hb.defaultZone);return o.isValid?new OS({ts:n,zone:o,loc:kb.fromObject(t)}):OS.invalid(uS(o))}static fromMillis(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(nk(e))return e<-lS||e>lS?OS.invalid("Timestamp out of range"):new OS({ts:e,zone:Ib(t.zone,Hb.defaultZone),loc:kb.fromObject(t)});throw new Mw(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(nk(e))return new OS({ts:1e3*e,zone:Ib(t.zone,Hb.defaultZone),loc:kb.fromObject(t)});throw new Mw("fromSeconds requires a numerical input")}static fromObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const n=Ib(t.zone,Hb.defaultZone);if(!n.isValid)return OS.invalid(uS(n));const r=kb.fromObject(t),o=Ik(e,AS),{minDaysInFirstWeek:i,startOfWeek:a}=Zb(o,r),s=Hb.now(),c=tk(t.specificOffset)?n.offset(s):t.specificOffset,l=!tk(o.ordinal),u=!tk(o.year),d=!tk(o.month)||!tk(o.day),h=u||d,p=o.weekYear||o.weekNumber;if((h||l)&&p)throw new _w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new _w("Can't mix ordinal dates with month/day");const f=p||o.weekday&&!h;let m,g,y=mS(s,c);f?(m=ES,g=SS,y=Vb(y,i,a)):l?(m=_S,g=TS,y=Gb(y)):(m=IS,g=CS);let v=!1;for(const I of m){tk(o[I])?o[I]=v?g[I]:y[I]:v=!0}const w=f?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=rk(e.weekYear),o=lk(e.weekNumber,1,bk(e.weekYear,t,n)),i=lk(e.weekday,1,7);return r?o?!i&&jb("weekday",e.weekday):jb("week",e.weekNumber):jb("weekYear",e.weekYear)}(o,i,a):l?function(e){const t=rk(e.year),n=lk(e.ordinal,1,gk(e.year));return t?!n&&jb("ordinal",e.ordinal):jb("year",e.year)}(o):Xb(o),b=w||ek(o);if(b)return OS.invalid(b);const k=f?Qb(o,i,a):l?Jb(o):o,[C,S]=gS(k,c,n),T=new OS({ts:C,zone:n,o:S,loc:r});return o.weekday&&h&&e.weekday!==T.weekday?OS.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${T.toISO()}`):T.isValid?T:OS.invalid(T.invalid)}static fromISO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return Kk(e,[wC,SC],[bC,TC],[kC,IC],[CC,EC])}(e);return vS(n,r,t,"ISO 8601",e)}static fromRFC2822(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return Kk(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[hC,pC])}(e);return vS(n,r,t,"RFC 2822",e)}static fromHTTP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return Kk(e,[fC,yC],[mC,yC],[gC,vC])}(e);return vS(n,r,t,"HTTP",t)}static fromFormat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(tk(e)||tk(t))throw new Mw("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=n,i=kb.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,s,c,l]=function(e,t,n){const{result:r,zone:o,specificOffset:i,invalidReason:a}=aS(e,t,n);return[r,o,i,a]}(i,e,t);return l?OS.invalid(l):vS(a,s,n,`format ${t}`,e,c)}static fromString(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return OS.fromFormat(e,t,n)}static fromSQL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[n,r]=function(e){return Kk(e,[AC,SC],[MC,xC])}(e);return vS(n,r,t,"SQL",e)}static invalid(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)throw new Mw("need to specify a reason the DateTime is invalid");const n=e instanceof Ub?e:new Ub(e,t);if(Hb.throwOnInvalid)throw new Tw(n);return new OS({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=sS(e,kb.fromObject(t));return n?n.map((e=>e?e.val:null)).join(""):null}static expandFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oS(jk.parseFormat(e),kb.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){RS=void 0,NS={}}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?dS(this).weekYear:NaN}get weekNumber(){return this.isValid?dS(this).weekNumber:NaN}get weekday(){return this.isValid?dS(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?hS(this).weekday:NaN}get localWeekNumber(){return this.isValid?hS(this).weekNumber:NaN}get localWeekYear(){return this.isValid?hS(this).weekYear:NaN}get ordinal(){return this.isValid?Gb(this.c).ordinal:NaN}get monthShort(){return this.isValid?WC.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?WC.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?WC.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?WC.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,n=vk(this.c),r=this.zone.offset(n-e),o=this.zone.offset(n+e),i=this.zone.offset(n-r*t),a=this.zone.offset(n-o*t);if(i===a)return[this];const s=n-i*t,c=n-a*t,l=mS(s,i),u=mS(c,a);return l.hour===u.hour&&l.minute===u.minute&&l.second===u.second&&l.millisecond===u.millisecond?[pS(this,{ts:s}),pS(this,{ts:c})]:[this]}get isInLeapYear(){return mk(this.year)}get daysInMonth(){return yk(this.year,this.month)}get daysInYear(){return this.isValid?gk(this.year):NaN}get weeksInWeekYear(){return this.isValid?bk(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?bk(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{locale:t,numberingSystem:n,calendar:r}=jk.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:r}}toUTC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setZone(Sb.instance(e),t)}toLocal(){return this.setZone(Hb.defaultZone)}setZone(e){let{keepLocalTime:t=!1,keepCalendarTime:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=Ib(e,Hb.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||n){const t=e.offset(this.ts),n=this.toObject();[r]=gS(n,t,e)}return pS(this,{ts:r,zone:e})}return OS.invalid(uS(e))}reconfigure(){let{locale:e,numberingSystem:t,outputCalendar:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return pS(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Ik(e,AS),{minDaysInFirstWeek:n,startOfWeek:r}=Zb(t,this.loc),o=!tk(t.weekYear)||!tk(t.weekNumber)||!tk(t.weekday),i=!tk(t.ordinal),a=!tk(t.year),s=!tk(t.month)||!tk(t.day),c=a||s,l=t.weekYear||t.weekNumber;if((c||i)&&l)throw new _w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&i)throw new _w("Can't mix ordinal dates with month/day");let u;o?u=Qb({...Vb(this.c,n,r),...t},n,r):tk(t.ordinal)?(u={...this.toObject(),...t},tk(t.day)&&(u.day=Math.min(yk(u.year,u.month),u.day))):u=Jb({...Gb(this.c),...t});const[d,h]=gS(u,this.o,this.zone);return pS(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;return pS(this,yS(this,zC.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return pS(this,yS(this,zC.fromDurationLike(e).negate()))}startOf(e){let{useLocaleWeeks:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isValid)return this;const n={},r=zC.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);n.month=3*(e-1)+1}return this.set(n)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?jk.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):cS}toLocaleString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.isValid?jk.create(this.loc.clone(t),e).formatDateTime(this):cS}toLocaleParts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?jk.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO(){let{format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const i="extended"===e;let a=bS(this,i);return a+="T",a+=kS(this,i,t,n,r,o),a}toISODate(){let{format:e="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?bS(this,"extended"===e):null}toISOWeekDate(){return wS(this,"kkkk-'W'WW-c")}toISOTime(){let{suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:o=!1,format:i="extended"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?(r?"T":"")+kS(this,"extended"===i,t,e,n,o):null}toRFC2822(){return wS(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return wS(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?bS(this,!0):null}toSQLTime(){let{includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r="HH:mm:ss.SSS";return(t||e)&&(n&&(r+=" "),t?r+="z":e&&(r+="ZZ")),wS(this,r,!0)}toSQL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():cS}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.isValid||!e.isValid)return zC.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=(s=t,Array.isArray(s)?s:[s]).map(zC.normalizeUnit),i=e.valueOf()>this.valueOf(),a=KC(i?this:e,i?e:this,o,r);var s;return i?a.negate():a}diffNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"milliseconds",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.diff(OS.now(),e,t)}until(e){return this.isValid?$C.fromDateTimes(this,e):this}hasSame(e,t,n){if(!this.isValid)return!1;const r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(t,n)<=r&&r<=o.endOf(t,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isValid)return null;const t=e.base||OS.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),xS(t,this.plus(n),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isValid?xS(e.base||OS.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every(OS.isDateTime))throw new Mw("min requires all arguments be DateTimes");return ak(t,(e=>e.valueOf()),Math.min)}static max(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.every(OS.isDateTime))throw new Mw("max requires all arguments be DateTimes");return ak(t,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{locale:r=null,numberingSystem:o=null}=n;return aS(kb.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),e,t)}static fromStringExplain(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return OS.fromFormatExplain(e,t,n)}static buildFormatParser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{locale:n=null,numberingSystem:r=null}=t,o=kb.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new iS(o,e)}static fromFormatParser(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(tk(e)||tk(t))throw new Mw("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:o=null}=n,i=kb.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!i.equals(t.locale))throw new Mw(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${t.locale}`);const{result:a,zone:s,specificOffset:c,invalidReason:l}=t.explainFromTokens(e);return l?OS.invalid(l):vS(a,s,n,`format ${t.format}`,e,c)}static get DATE_SHORT(){return Ow}static get DATE_MED(){return Dw}static get DATE_MED_WITH_WEEKDAY(){return Lw}static get DATE_FULL(){return Fw}static get DATE_HUGE(){return qw}static get TIME_SIMPLE(){return Hw}static get TIME_WITH_SECONDS(){return Uw}static get TIME_WITH_SHORT_OFFSET(){return Bw}static get TIME_WITH_LONG_OFFSET(){return zw}static get TIME_24_SIMPLE(){return jw}static get TIME_24_WITH_SECONDS(){return $w}static get TIME_24_WITH_SHORT_OFFSET(){return Ww}static get TIME_24_WITH_LONG_OFFSET(){return Yw}static get DATETIME_SHORT(){return Kw}static get DATETIME_SHORT_WITH_SECONDS(){return Vw}static get DATETIME_MED(){return Qw}static get DATETIME_MED_WITH_SECONDS(){return Gw}static get DATETIME_MED_WITH_WEEKDAY(){return Jw}static get DATETIME_FULL(){return Zw}static get DATETIME_FULL_WITH_SECONDS(){return Xw}static get DATETIME_HUGE(){return eb}static get DATETIME_HUGE_WITH_SECONDS(){return tb}}function DS(e){if(OS.isDateTime(e))return e;if(e&&e.valueOf&&nk(e.valueOf()))return OS.fromJSDate(e);if(e&&"object"===typeof e)return OS.fromObject(e);throw new Mw(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const LS="/api/staff/v1/events",FS=new URLSearchParams(window.location.search).get("apikey"),qS=Intl.DateTimeFormat().resolvedOptions().timeZone;const HS=function(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(null),[i,a]=(0,o.useState)(!1),[s,c]=(0,o.useState)(!1),[l,u]=(0,o.useState)(null),[d,h]=(0,o.useState)(!1),[p,f]=(0,o.useState)({date:"",time:"",roomSize:"",onlyFavourites:!1,meetingRoom:!1,floor:""}),[m,g]=(0,o.useState)(""),[y,v]=(0,o.useState)(!1),[w,b]=(0,o.useState)([]);(0,o.useEffect)((()=>{!async function(){try{const e=(await vw.get(ww,bw)).data.filter((e=>e.bookable)).map((e=>{var t;return{id:e.id,email:e.email,name:e.display_name||e.name,location:"Accelerate"==e.name?"Area 2071":("Collaborate"==e.name?"Area 2071":"DFA")||"Default Location",capacity:e.capacity,favourite:!1,imageUrl:(null===(t=e.images)||void 0===t?void 0:t[0])||"https://kjtech-lab-bucket.s3.me-central-1.amazonaws.com/Accelerate.jpeg",availability:[],booked:!1,zones:e.zones||[]}}));t([...e])}catch(e){console.error("Error fetching data from API",e)}}()}),[]),(0,o.useEffect)((()=>{!async function(){if(p.date&&p.time){const r=e=>{let[t,n]=e.split(":").map(Number);return n=n<30?0:30,`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`},o=`${p.date}T${r(p.time)}:00`,i=Math.floor(new Date(o).getTime()/1e3),a=i+1800;try{console.log("1-Fetching availability for:"),console.log("Start:",new Date(1e3*i).toLocaleString()),console.log("End:",new Date(1e3*a).toLocaleString());const n=await Promise.all(e.map((async e=>{b([]);const t=await Cw(i,a,e.id),n=t&&t.length>0;return console.log("API Response (Booked Slots):",t),{...e,booked:!n}})));t(n)}catch(n){console.error("Error checking availability",n)}}else if(p.date&&!p.time){new Date(p.date).setHours(0,0,0,0);const r=`${p.date}T${p.time}:00`,o=Math.floor(OS.fromISO(r,{zone:"Asia/Dubai"}).toUTC().toSeconds()),i=o+86400;try{const n=await Promise.all(e.map((async e=>{b([]);const t=await Cw(o,i,e.id),n=t&&t.length>0;return{...e,booked:!n}})));t(n)}catch(n){console.error("Error checking availability",n)}}else if(!p.date&&p.time){const r=7;try{const n=await Promise.all(e.map((async e=>{let t=!1;for(let n=0;n<r;n++){const r=new Date;r.setDate(r.getDate()+n);const[o,i]=p.time.split(":");r.setHours(parseInt(o,10),parseInt(i,10),0,0);const a=`${p.date}T${p.time}:00`,s=OS.fromISO(a,{zone:"Asia/Dubai"}).toUTC().toSeconds(),c=s+1800;b([]);const l=await Cw(s,c,e.id);if(l&&l.length>0){t=!0;break}}return{...e,booked:!t}})));t(n)}catch(n){console.error("Error checking availability",n)}}}()}),[p.date,p.time]);const k=e=>{t((t=>t.map((t=>t.id===e?{...t,favourite:!t.favourite}:t))))},C=(0,o.useCallback)((e=>{f((t=>({...t,...e})))}),[]),S=e.filter((e=>{if(m&&!e.name.toLowerCase().includes(m.toLowerCase()))return!1;if(p.roomSize&&e.capacity<parseInt(p.roomSize,10))return!1;if(p.onlyFavourites&&!e.favourite)return!1;if("DFA"===p.floor){const t=e.name.toLowerCase();if(!t.includes("s1")&&!t.includes("s2"))return!1}else if("AREA 2071"===p.floor){const t=e.name.toLowerCase();if(!t.includes("collaborate")&&!t.includes("accelerate"))return!1}return!0}));return(0,uu.jsxs)("div",{className:"booking-page",children:[y&&(0,uu.jsx)("div",{className:"loading-overlay",children:(0,uu.jsx)("div",{className:"spinner"})}),(0,uu.jsx)("header",{className:"booking-header",children:(0,uu.jsx)("div",{className:"header-left",children:(0,uu.jsx)("img",{src:Yl,alt:"Left Logo",className:"left-logo",width:"200px"})})}),(0,uu.jsxs)("div",{className:"content-area",children:[(0,uu.jsx)(Xg,{searchQuery:m,onSearchChange:e=>g(e.target.value),handleFilterClick:()=>{h(!0)},onFilterChange:C}),S.map((e=>(0,uu.jsx)(ey,{room:e,onBook:()=>(e=>{r(e),a(!0)})(e),onToggleFavorite:k},e.id)))]}),(0,uu.jsx)(ty,{isOpen:i,onClose:()=>a(!1),onSave:async e=>{const t={event_start:Math.floor(new Date(e.date).getTime()/1e3),event_end:Math.floor(new Date(e.date).getTime()/1e3)+60*e.duration,attendees:[],system_id:e.system_id,private:!0,all_day:!1,title:e.title};v(!0);try{await(async e=>{try{return console.log("Original event data:",e),e.start&&(e.start=OS.fromMillis(e.start).setZone(qS).toFormat("yyyy-MM-dd'T'HH:mm:ssZZ")),e.end&&(e.end=OS.fromMillis(e.end).setZone(qS).toFormat("yyyy-MM-dd'T'HH:mm:ssZZ")),(await vw.post(LS,e,{headers:{"X-API-KEY":FS,"Content-Type":"application/json"}})).data}catch(t){throw console.error("Error creating event:",t.response?t.response.data:t.message),t}})(t),u({title:e.title,date:e.date,floor:n.location,roomName:n.name}),a(!1),c(!0)}catch(r){console.error("Error creating event",r)}finally{v(!1)}},selectedRoom:n}),(0,uu.jsx)(ny,{isOpen:s,onClose:()=>{c(!1)},bookingDetails:l}),(0,uu.jsx)(ry,{isOpen:d,onClose:()=>h(!1),onSave:C,defaultValues:p})]})};n.p;class US extends o.Component{constructor(e){super(e),this.login=async()=>{try{await this.PublicClientApplication.loginRedirect({scopes:s.scopes,prompt:"select_account"})}catch(e){console.error("Login error:",e),this.setState({isAuthenticated:!1,user:{},error:e})}},this.state={error:null,isAuthenticated:!1,user:{}},this.PublicClientApplication=new Wl({auth:{clientId:s.appId,redirectUri:s.redirectUri},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}})}async componentDidMount(){try{const e=await this.PublicClientApplication.handleRedirectPromise();e&&e.account?this.setState({isAuthenticated:!0,user:e.account}):this.login()}catch(e){console.error("MSAL error:",e),this.setState({error:e})}}logout(){this.PublicClientApplication.logout()}render(){return(0,uu.jsx)(HS,{})}}const BS=US,zS=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:a}=t;n(e),r(e),o(e),i(e),a(e)}))};a.createRoot(document.getElementById("root")).render((0,uu.jsx)(o.StrictMode,{children:(0,uu.jsx)(BS,{})})),zS()})();
//# sourceMappingURL=main.d2d69a33.js.map